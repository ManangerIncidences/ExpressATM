2025-09-10 18:59:29,779 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-10 18:59:29,779 - backend.app.scraper - INFO - üëÅÔ∏è Sistema de visi√≥n + ML disponible
2025-09-10 18:59:29,795 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-10 18:59:29,795 - backend.app.scheduler_hybrid - INFO - üîó Scheduler h√≠brido inicializado (scrapers lazy)
2025-09-10 18:59:29,795 - backend.app.intelligence - WARNING - ‚ö†Ô∏è No hay datos hist√≥ricos suficientes
2025-09-10 18:59:29,954 - root - INFO - ExpressATM iniciado
2025-09-10 18:59:29,955 - root - INFO - Dashboard disponible en: http://localhost:8001
2025-09-10 18:59:29,955 - root - INFO - Documentacion API en: http://localhost:8001/docs
2025-09-10 18:59:29,966 - root - INFO - ExpressATM detenido
2025-09-10 19:00:58,485 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-10 19:00:58,485 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-10 19:00:58,501 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-10 19:00:58,518 - backend.app.intelligence - WARNING - ‚ö†Ô∏è No hay datos hist√≥ricos suficientes
2025-09-10 19:00:58,521 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-10 19:00:58,671 - root - INFO - ExpressATM iniciado
2025-09-10 19:00:58,671 - root - INFO - Dashboard disponible en: http://localhost:8001
2025-09-10 19:00:58,671 - root - INFO - Documentacion API en: http://localhost:8001/docs
2025-09-10 19:01:18,090 - root - INFO - ExpressATM detenido
2025-09-10 19:02:08,231 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-10 19:02:08,231 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-10 19:02:08,235 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-10 19:02:08,254 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-10 19:02:08,257 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-10 19:02:08,351 - root - INFO - ExpressATM iniciado
2025-09-10 19:02:08,351 - root - INFO - Dashboard disponible
2025-09-10 19:02:08,351 - root - INFO - Documentacion API disponible
2025-09-10 19:02:25,610 - root - INFO - ExpressATM detenido
2025-09-10 19:03:59,141 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-10 19:03:59,141 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-10 19:03:59,142 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-10 19:03:59,146 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-10 19:03:59,148 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-10 19:03:59,229 - root - INFO - ExpressATM iniciado
2025-09-10 19:03:59,230 - root - INFO - Dashboard disponible
2025-09-10 19:03:59,230 - root - INFO - Documentacion API disponible
2025-09-10 19:04:46,656 - backend.app.scheduler_hybrid - INFO - üîÑ Iniciando iteraci√≥n manual as√≠ncrona (no bloqueante)...
2025-09-10 19:04:46,657 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-10 19:04:46,658 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-10 19:04:46,658 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-10 19:04:46,659 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-10 19:04:47,664 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-10 19:04:47,665 - backend.app.scraper - INFO - üëÅÔ∏è Sistema de visi√≥n + ML disponible
2025-09-10 19:04:47,666 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-10 19:04:47,666 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-10 19:04:48,840 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-10 19:04:48,841 - backend.app.scraper - ERROR - Error configurando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:04:48,845 - backend.app.scraper - ERROR - Error reinicializando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:04:48,846 - backend.app.scraper - WARNING - Intento 1 fall√≥: 'VisionLearner' object has no attribute 'set_current_driver'...
2025-09-10 19:04:48,846 - backend.app.scraper - INFO - Esperando 2s antes del siguiente intento...
2025-09-10 19:04:50,847 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-10 19:04:54,129 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-10 19:04:54,130 - backend.app.scraper - ERROR - Error configurando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:04:54,130 - backend.app.scraper - ERROR - Error reinicializando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:04:54,133 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-10 19:04:54,134 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-10 19:04:54,134 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-10 19:04:54,136 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-10 19:05:02,993 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-10 19:05:03,056 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-10 19:05:03,110 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-10 19:05:04,147 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-10 19:05:06,148 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-10 19:05:06,153 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-10 19:05:06,676 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-10 19:05:06,712 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-10 19:05:08,213 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-10 19:05:08,237 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-10 19:05:09,506 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-10 19:05:09,506 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 19:05:09,507 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 19:05:20,070 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-10 19:05:20,074 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-10 19:05:20,074 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-10 19:05:20,077 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-10 19:05:20,077 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-10 19:05:20,543 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-10 19:05:23,065 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-10 19:05:23,720 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-10 19:05:23,720 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-10 19:05:23,721 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-10 19:05:23,721 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-10 19:05:23,722 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-10 19:05:23,722 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-10 19:05:24,002 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 19:05:24,574 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-10 19:05:27,318 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 19:05:27,319 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 19:05:27,319 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 19:05:27,320 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-10 19:05:27,668 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-10 19:05:27,669 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-10 19:05:27,673 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 19:05:27,690 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 19:05:27,697 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 19:05:27,707 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 19:05:29,708 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 19:05:29,708 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:05:29,720 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:05:36,869 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:05:36,885 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:05:37,918 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-10 19:05:37,918 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 19:05:37,919 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-10 19:05:37,919 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-10 19:05:37,920 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:05:37,927 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:05:43,000 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:05:43,030 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:05:44,063 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-10 19:05:44,063 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-10 19:05:46,076 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 19:05:46,077 - backend.app.scraper - INFO - üëÅÔ∏è Solicitando confirmaci√≥n visual de ML para carga completa...
2025-09-10 19:05:46,077 - backend.app.scraper - ERROR - ‚ùå Error extrayendo datos: 'VisionLearner' object has no attribute 'visual_wait_for_table_ready'
2025-09-10 19:05:46,233 - backend.app.scraper - INFO - üì∏ Captura de pantalla guardada: error_extraccion.png
2025-09-10 19:05:46,233 - backend.app.scraper - WARNING - ‚ö†Ô∏è No se obtuvieron datos para CHANCE EXPRESS
2025-09-10 19:05:46,234 - backend.app.scraper - WARNING - ‚ö†Ô∏è CHANCE EXPRESS: No se obtuvieron datos
2025-09-10 19:05:46,234 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-10 19:05:46,235 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-10 19:05:46,235 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-10 19:05:46,516 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 19:05:47,086 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-10 19:05:50,281 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 19:05:50,282 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 19:05:50,285 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 19:05:50,285 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-10 19:05:50,285 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-10 19:05:50,285 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-10 19:05:50,285 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-10 19:05:50,286 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-10 19:05:50,286 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-10 19:05:50,286 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-10 19:05:50,632 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-10 19:05:50,633 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-10 19:05:50,638 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 19:05:50,659 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 19:05:50,667 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 19:05:50,688 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 19:05:52,688 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 19:05:52,688 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:05:52,703 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:05:57,759 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:05:57,766 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:05:58,797 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-10 19:05:58,797 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 19:05:58,798 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-10 19:05:58,798 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-10 19:05:58,798 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:05:58,806 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:06:03,859 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:06:03,872 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:06:04,902 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-10 19:06:04,903 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-10 19:06:06,908 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 19:06:06,909 - backend.app.scraper - INFO - üëÅÔ∏è Solicitando confirmaci√≥n visual de ML para carga completa...
2025-09-10 19:06:06,909 - backend.app.scraper - ERROR - ‚ùå Error extrayendo datos: 'VisionLearner' object has no attribute 'visual_wait_for_table_ready'
2025-09-10 19:06:07,096 - backend.app.scraper - INFO - üì∏ Captura de pantalla guardada: error_extraccion.png
2025-09-10 19:06:07,097 - backend.app.scraper - WARNING - ‚ö†Ô∏è No se obtuvieron datos para RULETA EXPRESS
2025-09-10 19:06:07,097 - backend.app.scraper - WARNING - ‚ö†Ô∏è RULETA EXPRESS: No se obtuvieron datos
2025-09-10 19:06:07,098 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-10 19:06:07,098 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 0 registros
2025-09-10 19:06:07,098 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 0 registros
2025-09-10 19:06:07,098 - backend.app.scraper - INFO -    üìà TOTAL: 0 registros
2025-09-10 19:06:07,099 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-10 19:06:10,099 - backend.app.scraper - INFO - üëÅÔ∏è Sistema de visi√≥n activo: False
2025-09-10 19:06:10,099 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-10 19:06:12,209 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-10 19:06:12,210 - backend.app.scraper - INFO - ‚úÖ Driver cerrado autom√°ticamente
2025-09-10 19:06:14,213 - backend.app.scheduler_hybrid - WARNING - No se obtuvieron datos del scraping cl√°sico
2025-09-10 19:06:14,214 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA - Sin datos obtenidos
2025-09-10 19:06:14,217 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA...
2025-09-10 19:06:14,218 - backend.app.scheduler_hybrid - CRITICAL - üì∏ Estado de emergencia capturado: Screenshot FALL√ì - Driver no disponible
2025-09-10 19:06:14,230 - root - INFO - PID: 6440 - Proceso de monitoreo finalizado.
2025-09-10 19:34:11,093 - backend.app.scheduler_hybrid - INFO - Intervalo de monitoreo actualizado a 10 minutos (h√≠brido)
2025-09-10 19:34:17,660 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-10 19:34:17,662 - apscheduler.scheduler - INFO - Added job "HybridMonitoringScheduler.execute_single_iteration" to job store "default"
2025-09-10 19:34:17,663 - apscheduler.scheduler - INFO - Scheduler started
2025-09-10 19:34:17,663 - backend.app.scheduler_hybrid - INFO - ‚úÖ Monitoreo h√≠brido iniciado (intervalo: 10 min)
2025-09-10 19:44:17,674 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-10 19:44:17 -04)" (scheduled at 2025-09-10 19:44:17.660526-04:00)
2025-09-10 19:44:17,674 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-10 19:44:17,675 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-10 19:44:17,675 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-10 19:44:17,676 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-10 19:44:18,681 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-10 19:44:18,682 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-10 19:44:18,683 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-10 19:44:19,817 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-10 19:44:19,819 - backend.app.scraper - ERROR - Error configurando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:44:19,819 - backend.app.scraper - ERROR - Error reinicializando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:44:19,822 - backend.app.scraper - WARNING - Intento 1 fall√≥: 'VisionLearner' object has no attribute 'set_current_driver'...
2025-09-10 19:44:19,823 - backend.app.scraper - INFO - Esperando 2s antes del siguiente intento...
2025-09-10 19:44:21,823 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-10 19:44:25,004 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-10 19:44:25,006 - backend.app.scraper - ERROR - Error configurando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:44:25,006 - backend.app.scraper - ERROR - Error reinicializando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:44:25,009 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-10 19:44:25,010 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-10 19:44:25,010 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-10 19:44:25,012 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-10 19:44:33,921 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-10 19:44:33,981 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-10 19:44:35,075 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.81); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff76fe06b25+79621]
	GetHandleVerifier [0x0x7ff76fe06b80+79712]
	(No symbol) [0x0x7ff76fb9c0ea]
	(No symbol) [0x0x7ff76fbfaf69]
	(No symbol) [0x0x7ff76fbf8902]
	(No symbol) [0x0x7ff76fbf5941]
	(No symbol) [0x0x7ff76fbf4831]
	(No symbol) [0x0x7ff76fbe6078]
	(No symbol) [0x0x7ff76fc1b13a]
	(No symbol) [0x0x7ff76fbe5926]
	(No symbol) [0x0x7ff76fc1b350]
	(No symbol) [0x0x7ff76fc433d0]
	(No symbol) [0x0x7ff76fc1af13]
	(No symbol) [0x0x7ff76fbe4151]
	(No symbol) [0x0x7ff76fbe4ee3]
	GetHandleVerifier [0x0x7ff7700c683d+2962461]
	GetHandleVerifier [0x0x7ff7700c0b5d+2938685]
	GetHandleVerifier [0x0x7ff7700df71d+3064573]
	GetHandleVerifier [0x0x7ff76fe20c6e+186446]
	GetHandleVerifier [0x0x7ff76fe28a3f+218655]
	GetHandleVerifier [0x0x7ff76fe0f914+115956]
	GetHandleVerifier [0x0x7ff76fe0fac9+116393]
	GetHandleVerifier [0x0x7ff76fdf5ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-10 19:44:36,595 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-10 19:44:36,607 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-10 19:44:38,607 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-10 19:44:38,620 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-10 19:44:39,157 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-10 19:44:40,205 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.81); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff76fe06b25+79621]
	GetHandleVerifier [0x0x7ff76fe06b80+79712]
	(No symbol) [0x0x7ff76fb9c0ea]
	(No symbol) [0x0x7ff76fbfaf69]
	(No symbol) [0x0x7ff76fbf8902]
	(No symbol) [0x0x7ff76fbf5941]
	(No symbol) [0x0x7ff76fbf4831]
	(No symbol) [0x0x7ff76fbe6078]
	(No symbol) [0x0x7ff76fc1b13a]
	(No symbol) [0x0x7ff76fbe5926]
	(No symbol) [0x0x7ff76fc1b350]
	(No symbol) [0x0x7ff76fc433d0]
	(No symbol) [0x0x7ff76fc1af13]
	(No symbol) [0x0x7ff76fbe4151]
	(No symbol) [0x0x7ff76fbe4ee3]
	GetHandleVerifier [0x0x7ff7700c683d+2962461]
	GetHandleVerifier [0x0x7ff7700c0b5d+2938685]
	GetHandleVerifier [0x0x7ff7700df71d+3064573]
	GetHandleVerifier [0x0x7ff76fe20c6e+186446]
	GetHandleVerifier [0x0x7ff76fe28a3f+218655]
	GetHandleVerifier [0x0x7ff76fe0f914+115956]
	GetHandleVerifier [0x0x7ff76fe0fac9+116393]
	GetHandleVerifier [0x0x7ff76fdf5ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-10 19:44:40,217 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-10 19:44:41,717 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-10 19:44:41,744 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-10 19:44:46,785 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.81); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff76fe06b25+79621]
	GetHandleVerifier [0x0x7ff76fe06b80+79712]
	(No symbol) [0x0x7ff76fb9bf1c]
	(No symbol) [0x0x7ff76fbf4454]
	(No symbol) [0x0x7ff76fbe6078]
	(No symbol) [0x0x7ff76fc1b13a]
	(No symbol) [0x0x7ff76fbe5926]
	(No symbol) [0x0x7ff76fc1b350]
	(No symbol) [0x0x7ff76fc433d0]
	(No symbol) [0x0x7ff76fc1af13]
	(No symbol) [0x0x7ff76fbe4151]
	(No symbol) [0x0x7ff76fbe4ee3]
	GetHandleVerifier [0x0x7ff7700c683d+2962461]
	GetHandleVerifier [0x0x7ff7700c0b5d+2938685]
	GetHandleVerifier [0x0x7ff7700df71d+3064573]
	GetHandleVerifier [0x0x7ff76fe20c6e+186446]
	GetHandleVerifier [0x0x7ff76fe28a3f+218655]
	GetHandleVerifier [0x0x7ff76fe0f914+115956]
	GetHandleVerifier [0x0x7ff76fe0fac9+116393]
	GetHandleVerifier [0x0x7ff76fdf5ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-10 19:44:48,032 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-10 19:44:48,032 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 19:44:48,033 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 19:44:58,649 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-10 19:44:58,654 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-10 19:44:58,654 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-10 19:44:58,657 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-10 19:44:58,657 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-10 19:44:59,132 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-10 19:45:01,794 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-10 19:45:02,464 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-10 19:45:02,464 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-10 19:45:02,465 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-10 19:45:02,465 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-10 19:45:02,465 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-10 19:45:02,466 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-10 19:45:02,723 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 19:45:03,295 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-10 19:45:06,147 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 19:45:06,147 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 19:45:06,148 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 19:45:06,148 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-10 19:45:06,500 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-10 19:45:06,501 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-10 19:45:06,505 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 19:45:06,526 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 19:45:06,533 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 19:45:06,544 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 19:45:08,545 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 19:45:08,545 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:45:08,556 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:45:14,098 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:45:14,124 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:45:15,155 - backend.app.scraper - INFO - Tabla estable con 50 filas
2025-09-10 19:45:15,155 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 19:45:15,155 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-10 19:45:15,156 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-10 19:45:15,156 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:45:15,162 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:45:20,200 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:45:20,208 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:45:21,224 - backend.app.scraper - INFO - Tabla estable con 50 filas
2025-09-10 19:45:21,225 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-10 19:45:23,229 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 19:45:23,230 - backend.app.scraper - INFO - üëÅÔ∏è Solicitando confirmaci√≥n visual de ML para carga completa...
2025-09-10 19:45:23,231 - backend.app.scraper - ERROR - ‚ùå Error extrayendo datos: 'VisionLearner' object has no attribute 'visual_wait_for_table_ready'
2025-09-10 19:45:23,287 - backend.app.scraper - INFO - üì∏ Captura de pantalla guardada: error_extraccion.png
2025-09-10 19:45:23,287 - backend.app.scraper - WARNING - ‚ö†Ô∏è No se obtuvieron datos para CHANCE EXPRESS
2025-09-10 19:45:23,288 - backend.app.scraper - WARNING - ‚ö†Ô∏è CHANCE EXPRESS: No se obtuvieron datos
2025-09-10 19:45:23,288 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-10 19:45:23,289 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-10 19:45:23,289 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-10 19:45:23,561 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 19:45:24,159 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-10 19:45:26,931 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 19:45:26,931 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 19:45:26,932 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 19:45:26,932 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-10 19:45:26,932 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-10 19:45:26,933 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-10 19:45:26,933 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-10 19:45:26,933 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-10 19:45:26,933 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-10 19:45:26,933 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-10 19:45:27,278 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-10 19:45:27,278 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-10 19:45:27,282 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 19:45:27,305 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 19:45:27,312 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 19:45:27,325 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 19:45:29,326 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 19:45:29,326 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:45:29,340 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:45:34,348 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:45:34,354 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:45:35,383 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-10 19:45:35,383 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 19:45:35,384 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-10 19:45:35,384 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-10 19:45:35,384 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:45:35,391 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:45:40,439 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:45:40,445 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:45:41,459 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-10 19:45:41,459 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-10 19:45:43,463 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 19:45:43,464 - backend.app.scraper - INFO - üëÅÔ∏è Solicitando confirmaci√≥n visual de ML para carga completa...
2025-09-10 19:45:43,464 - backend.app.scraper - ERROR - ‚ùå Error extrayendo datos: 'VisionLearner' object has no attribute 'visual_wait_for_table_ready'
2025-09-10 19:45:43,510 - backend.app.scraper - INFO - üì∏ Captura de pantalla guardada: error_extraccion.png
2025-09-10 19:45:43,510 - backend.app.scraper - WARNING - ‚ö†Ô∏è No se obtuvieron datos para RULETA EXPRESS
2025-09-10 19:45:43,511 - backend.app.scraper - WARNING - ‚ö†Ô∏è RULETA EXPRESS: No se obtuvieron datos
2025-09-10 19:45:43,511 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-10 19:45:43,512 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 0 registros
2025-09-10 19:45:43,512 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 0 registros
2025-09-10 19:45:43,512 - backend.app.scraper - INFO -    üìà TOTAL: 0 registros
2025-09-10 19:45:43,512 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-10 19:45:46,513 - backend.app.scraper - INFO - üëÅÔ∏è Sistema de visi√≥n activo: False
2025-09-10 19:45:46,514 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-10 19:45:48,641 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-10 19:45:48,642 - backend.app.scraper - INFO - ‚úÖ Driver cerrado autom√°ticamente
2025-09-10 19:45:50,645 - backend.app.scheduler_hybrid - WARNING - No se obtuvieron datos del scraping cl√°sico
2025-09-10 19:45:50,646 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA - Sin datos obtenidos
2025-09-10 19:45:50,648 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA...
2025-09-10 19:45:50,650 - backend.app.scheduler_hybrid - CRITICAL - üì∏ Estado de emergencia capturado: Screenshot FALL√ì - Driver no disponible
2025-09-10 19:45:50,693 - root - INFO - PID: 6440 - Proceso de monitoreo finalizado.
2025-09-10 19:45:50,693 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-10 19:54:17 -04)" executed successfully
2025-09-10 19:54:17,661 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-10 20:04:17 -04)" (scheduled at 2025-09-10 19:54:17.660526-04:00)
2025-09-10 19:54:17,661 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-10 19:54:17,663 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-10 19:54:17,663 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-10 19:54:17,663 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-10 19:54:18,668 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-10 19:54:18,669 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-10 19:54:18,670 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-10 19:54:19,747 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-10 19:54:19,748 - backend.app.scraper - ERROR - Error configurando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:54:19,749 - backend.app.scraper - ERROR - Error reinicializando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:54:19,749 - backend.app.scraper - WARNING - Intento 1 fall√≥: 'VisionLearner' object has no attribute 'set_current_driver'...
2025-09-10 19:54:19,749 - backend.app.scraper - INFO - Esperando 2s antes del siguiente intento...
2025-09-10 19:54:21,749 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-10 19:54:24,995 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-10 19:54:24,996 - backend.app.scraper - ERROR - Error configurando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:54:24,996 - backend.app.scraper - ERROR - Error reinicializando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:54:25,000 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-10 19:54:25,000 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-10 19:54:25,001 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-10 19:54:25,003 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-10 19:54:33,814 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-10 19:54:33,872 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-10 19:54:34,948 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.81); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff76fe06b25+79621]
	GetHandleVerifier [0x0x7ff76fe06b80+79712]
	(No symbol) [0x0x7ff76fb9c0ea]
	(No symbol) [0x0x7ff76fbfaf69]
	(No symbol) [0x0x7ff76fbf8902]
	(No symbol) [0x0x7ff76fbf5941]
	(No symbol) [0x0x7ff76fbf4831]
	(No symbol) [0x0x7ff76fbe6078]
	(No symbol) [0x0x7ff76fc1b13a]
	(No symbol) [0x0x7ff76fbe5926]
	(No symbol) [0x0x7ff76fc1b350]
	(No symbol) [0x0x7ff76fc433d0]
	(No symbol) [0x0x7ff76fc1af13]
	(No symbol) [0x0x7ff76fbe4151]
	(No symbol) [0x0x7ff76fbe4ee3]
	GetHandleVerifier [0x0x7ff7700c683d+2962461]
	GetHandleVerifier [0x0x7ff7700c0b5d+2938685]
	GetHandleVerifier [0x0x7ff7700df71d+3064573]
	GetHandleVerifier [0x0x7ff76fe20c6e+186446]
	GetHandleVerifier [0x0x7ff76fe28a3f+218655]
	GetHandleVerifier [0x0x7ff76fe0f914+115956]
	GetHandleVerifier [0x0x7ff76fe0fac9+116393]
	GetHandleVerifier [0x0x7ff76fdf5ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-10 19:54:35,261 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-10 19:54:35,909 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-10 19:54:37,909 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-10 19:54:37,917 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-10 19:54:38,439 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-10 19:54:39,492 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.81); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff76fe06b25+79621]
	GetHandleVerifier [0x0x7ff76fe06b80+79712]
	(No symbol) [0x0x7ff76fb9c0ea]
	(No symbol) [0x0x7ff76fbfaf69]
	(No symbol) [0x0x7ff76fbf8902]
	(No symbol) [0x0x7ff76fbf5941]
	(No symbol) [0x0x7ff76fbf4831]
	(No symbol) [0x0x7ff76fbe6078]
	(No symbol) [0x0x7ff76fc1b13a]
	(No symbol) [0x0x7ff76fbe5926]
	(No symbol) [0x0x7ff76fc1b350]
	(No symbol) [0x0x7ff76fc433d0]
	(No symbol) [0x0x7ff76fc1af13]
	(No symbol) [0x0x7ff76fbe4151]
	(No symbol) [0x0x7ff76fbe4ee3]
	GetHandleVerifier [0x0x7ff7700c683d+2962461]
	GetHandleVerifier [0x0x7ff7700c0b5d+2938685]
	GetHandleVerifier [0x0x7ff7700df71d+3064573]
	GetHandleVerifier [0x0x7ff76fe20c6e+186446]
	GetHandleVerifier [0x0x7ff76fe28a3f+218655]
	GetHandleVerifier [0x0x7ff76fe0f914+115956]
	GetHandleVerifier [0x0x7ff76fe0fac9+116393]
	GetHandleVerifier [0x0x7ff76fdf5ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-10 19:54:39,498 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-10 19:54:40,998 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-10 19:54:41,012 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-10 19:54:46,033 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.81); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff76fe06b25+79621]
	GetHandleVerifier [0x0x7ff76fe06b80+79712]
	(No symbol) [0x0x7ff76fb9bf1c]
	(No symbol) [0x0x7ff76fbf4454]
	(No symbol) [0x0x7ff76fbe6078]
	(No symbol) [0x0x7ff76fc1b13a]
	(No symbol) [0x0x7ff76fbe5926]
	(No symbol) [0x0x7ff76fc1b350]
	(No symbol) [0x0x7ff76fc433d0]
	(No symbol) [0x0x7ff76fc1af13]
	(No symbol) [0x0x7ff76fbe4151]
	(No symbol) [0x0x7ff76fbe4ee3]
	GetHandleVerifier [0x0x7ff7700c683d+2962461]
	GetHandleVerifier [0x0x7ff7700c0b5d+2938685]
	GetHandleVerifier [0x0x7ff7700df71d+3064573]
	GetHandleVerifier [0x0x7ff76fe20c6e+186446]
	GetHandleVerifier [0x0x7ff76fe28a3f+218655]
	GetHandleVerifier [0x0x7ff76fe0f914+115956]
	GetHandleVerifier [0x0x7ff76fe0fac9+116393]
	GetHandleVerifier [0x0x7ff76fdf5ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-10 19:54:47,358 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-10 19:54:47,358 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 19:54:47,359 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 19:54:57,958 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-10 19:54:57,963 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-10 19:54:57,963 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-10 19:54:57,965 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-10 19:54:57,966 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-10 19:54:58,430 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-10 19:55:00,940 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-10 19:55:01,607 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-10 19:55:01,607 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-10 19:55:01,608 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-10 19:55:01,608 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-10 19:55:01,608 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-10 19:55:01,609 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-10 19:55:01,878 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 19:55:02,453 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-10 19:55:05,334 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 19:55:05,334 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 19:55:05,334 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 19:55:05,335 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-10 19:55:05,687 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-10 19:55:05,688 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-10 19:55:05,692 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 19:55:05,713 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 19:55:05,721 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 19:55:05,734 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 19:55:07,735 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 19:55:07,735 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:55:07,746 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:55:13,822 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:55:13,834 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:55:14,854 - backend.app.scraper - INFO - Tabla estable con 50 filas
2025-09-10 19:55:14,854 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 19:55:14,855 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-10 19:55:14,857 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-10 19:55:14,857 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:55:14,865 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:55:19,923 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:55:19,930 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:55:20,947 - backend.app.scraper - INFO - Tabla estable con 50 filas
2025-09-10 19:55:20,948 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-10 19:55:22,953 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 19:55:22,954 - backend.app.scraper - INFO - üëÅÔ∏è Solicitando confirmaci√≥n visual de ML para carga completa...
2025-09-10 19:55:22,954 - backend.app.scraper - ERROR - ‚ùå Error extrayendo datos: 'VisionLearner' object has no attribute 'visual_wait_for_table_ready'
2025-09-10 19:55:23,000 - backend.app.scraper - INFO - üì∏ Captura de pantalla guardada: error_extraccion.png
2025-09-10 19:55:23,001 - backend.app.scraper - WARNING - ‚ö†Ô∏è No se obtuvieron datos para CHANCE EXPRESS
2025-09-10 19:55:23,001 - backend.app.scraper - WARNING - ‚ö†Ô∏è CHANCE EXPRESS: No se obtuvieron datos
2025-09-10 19:55:23,002 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-10 19:55:23,002 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-10 19:55:23,002 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-10 19:55:23,299 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 19:55:23,876 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-10 19:55:27,215 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 19:55:27,215 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 19:55:27,216 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 19:55:27,216 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-10 19:55:27,216 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-10 19:55:27,216 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-10 19:55:27,217 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-10 19:55:27,217 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-10 19:55:27,217 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-10 19:55:27,217 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-10 19:55:27,565 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-10 19:55:27,565 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-10 19:55:27,572 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 19:55:27,590 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 19:55:27,597 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 19:55:27,611 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 19:55:29,612 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 19:55:29,612 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:55:29,621 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:55:34,635 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:55:34,644 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:55:35,662 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-10 19:55:35,662 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 19:55:35,663 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-10 19:55:35,663 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-10 19:55:35,664 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:55:35,671 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:55:40,747 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:55:40,768 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:55:41,798 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-10 19:55:41,798 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-10 19:55:43,813 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 19:55:43,813 - backend.app.scraper - INFO - üëÅÔ∏è Solicitando confirmaci√≥n visual de ML para carga completa...
2025-09-10 19:55:43,816 - backend.app.scraper - ERROR - ‚ùå Error extrayendo datos: 'VisionLearner' object has no attribute 'visual_wait_for_table_ready'
2025-09-10 19:55:43,879 - backend.app.scraper - INFO - üì∏ Captura de pantalla guardada: error_extraccion.png
2025-09-10 19:55:43,879 - backend.app.scraper - WARNING - ‚ö†Ô∏è No se obtuvieron datos para RULETA EXPRESS
2025-09-10 19:55:43,880 - backend.app.scraper - WARNING - ‚ö†Ô∏è RULETA EXPRESS: No se obtuvieron datos
2025-09-10 19:55:43,881 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-10 19:55:43,881 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 0 registros
2025-09-10 19:55:43,881 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 0 registros
2025-09-10 19:55:43,881 - backend.app.scraper - INFO -    üìà TOTAL: 0 registros
2025-09-10 19:55:43,882 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-10 19:55:46,882 - backend.app.scraper - INFO - üëÅÔ∏è Sistema de visi√≥n activo: False
2025-09-10 19:55:46,883 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-10 19:55:49,003 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-10 19:55:49,004 - backend.app.scraper - INFO - ‚úÖ Driver cerrado autom√°ticamente
2025-09-10 19:55:51,007 - backend.app.scheduler_hybrid - WARNING - No se obtuvieron datos del scraping cl√°sico
2025-09-10 19:55:51,008 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA - Sin datos obtenidos
2025-09-10 19:55:51,010 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA...
2025-09-10 19:55:51,012 - backend.app.scheduler_hybrid - CRITICAL - üì∏ Estado de emergencia capturado: Screenshot FALL√ì - Driver no disponible
2025-09-10 19:55:51,025 - root - INFO - PID: 6440 - Proceso de monitoreo finalizado.
2025-09-10 19:55:51,025 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-10 20:04:17 -04)" executed successfully
2025-09-10 19:56:46,047 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-10 19:56:46,047 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-10 19:56:46,048 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-10 19:56:46,052 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-10 19:56:46,061 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-10 19:56:46,200 - root - INFO - ExpressATM iniciado
2025-09-10 19:56:46,201 - root - INFO - Dashboard disponible
2025-09-10 19:56:46,201 - root - INFO - Documentacion API disponible
2025-09-10 19:56:51,784 - backend.app.scheduler_hybrid - INFO - üîÑ Iniciando iteraci√≥n manual as√≠ncrona (no bloqueante)...
2025-09-10 19:56:51,785 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-10 19:56:51,786 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-10 19:56:51,787 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-10 19:56:51,787 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-10 19:56:52,797 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-10 19:56:52,797 - backend.app.scraper - INFO - üëÅÔ∏è Sistema de visi√≥n + ML disponible
2025-09-10 19:56:52,798 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-10 19:56:52,798 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-10 19:56:53,892 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-10 19:56:53,894 - backend.app.scraper - ERROR - Error configurando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:56:53,894 - backend.app.scraper - ERROR - Error reinicializando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:56:53,894 - backend.app.scraper - WARNING - Intento 1 fall√≥: 'VisionLearner' object has no attribute 'set_current_driver'...
2025-09-10 19:56:53,894 - backend.app.scraper - INFO - Esperando 2s antes del siguiente intento...
2025-09-10 19:56:55,895 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-10 19:56:59,099 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-10 19:56:59,101 - backend.app.scraper - ERROR - Error configurando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:56:59,101 - backend.app.scraper - ERROR - Error reinicializando driver: 'VisionLearner' object has no attribute 'set_current_driver'
2025-09-10 19:56:59,105 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-10 19:56:59,105 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-10 19:56:59,106 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-10 19:56:59,108 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-10 19:57:08,968 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-10 19:57:09,035 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-10 19:57:09,382 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-10 19:57:10,343 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-10 19:57:12,344 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-10 19:57:12,348 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-10 19:57:12,883 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-10 19:57:12,919 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-10 19:57:14,420 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-10 19:57:14,429 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-10 19:57:15,908 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-10 19:57:15,908 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 19:57:15,909 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 19:57:26,548 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-10 19:57:26,553 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-10 19:57:26,553 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-10 19:57:26,556 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-10 19:57:26,556 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-10 19:57:27,042 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-10 19:57:29,483 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-10 19:57:30,121 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-10 19:57:30,121 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-10 19:57:30,122 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-10 19:57:30,122 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-10 19:57:30,122 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-10 19:57:30,123 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-10 19:57:30,387 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 19:57:30,969 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-10 19:57:33,707 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 19:57:33,708 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 19:57:33,708 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 19:57:33,709 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-10 19:57:34,059 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-10 19:57:34,060 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-10 19:57:34,064 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 19:57:34,080 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 19:57:34,087 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 19:57:34,098 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 19:57:36,099 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 19:57:36,099 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:57:36,109 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:57:41,695 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:57:41,735 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:57:42,771 - backend.app.scraper - INFO - Tabla estable con 50 filas
2025-09-10 19:57:42,771 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 19:57:42,771 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-10 19:57:42,772 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-10 19:57:42,772 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:57:42,779 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:57:47,826 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:57:47,841 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:57:48,872 - backend.app.scraper - INFO - Tabla estable con 50 filas
2025-09-10 19:57:48,872 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-10 19:57:50,886 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 19:57:50,886 - backend.app.scraper - INFO - üëÅÔ∏è Solicitando confirmaci√≥n visual de ML para carga completa...
2025-09-10 19:57:50,887 - backend.app.scraper - ERROR - ‚ùå Error extrayendo datos: 'VisionLearner' object has no attribute 'visual_wait_for_table_ready'
2025-09-10 19:57:51,028 - backend.app.scraper - INFO - üì∏ Captura de pantalla guardada: error_extraccion.png
2025-09-10 19:57:51,028 - backend.app.scraper - WARNING - ‚ö†Ô∏è No se obtuvieron datos para CHANCE EXPRESS
2025-09-10 19:57:51,029 - backend.app.scraper - WARNING - ‚ö†Ô∏è CHANCE EXPRESS: No se obtuvieron datos
2025-09-10 19:57:51,029 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-10 19:57:51,030 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-10 19:57:51,030 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-10 19:57:51,295 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 19:57:51,874 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-10 19:57:54,678 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 19:57:54,678 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 19:57:54,679 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 19:57:54,679 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-10 19:57:54,680 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-10 19:57:54,680 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-10 19:57:54,680 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-10 19:57:54,680 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-10 19:57:54,680 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-10 19:57:54,681 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-10 19:57:55,023 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-10 19:57:55,025 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-10 19:57:55,044 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 19:57:55,066 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 19:57:55,073 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 19:57:55,094 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 19:57:57,095 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 19:57:57,096 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:57:57,111 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:58:03,178 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:58:03,186 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:58:04,213 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-10 19:58:04,214 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 19:58:04,214 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-10 19:58:04,215 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-10 19:58:04,215 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 19:58:04,223 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 19:58:09,234 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 19:58:09,247 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 19:58:10,277 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-10 19:58:10,277 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-10 19:58:12,291 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 19:58:12,292 - backend.app.scraper - INFO - üëÅÔ∏è Solicitando confirmaci√≥n visual de ML para carga completa...
2025-09-10 19:58:12,295 - backend.app.scraper - ERROR - ‚ùå Error extrayendo datos: 'VisionLearner' object has no attribute 'visual_wait_for_table_ready'
2025-09-10 19:58:12,443 - backend.app.scraper - INFO - üì∏ Captura de pantalla guardada: error_extraccion.png
2025-09-10 19:58:12,443 - backend.app.scraper - WARNING - ‚ö†Ô∏è No se obtuvieron datos para RULETA EXPRESS
2025-09-10 19:58:12,444 - backend.app.scraper - WARNING - ‚ö†Ô∏è RULETA EXPRESS: No se obtuvieron datos
2025-09-10 19:58:12,444 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-10 19:58:12,444 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 0 registros
2025-09-10 19:58:12,444 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 0 registros
2025-09-10 19:58:12,445 - backend.app.scraper - INFO -    üìà TOTAL: 0 registros
2025-09-10 19:58:12,445 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-10 19:58:15,445 - backend.app.scraper - INFO - üëÅÔ∏è Sistema de visi√≥n activo: False
2025-09-10 19:58:15,446 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-10 19:58:17,552 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-10 19:58:17,553 - backend.app.scraper - INFO - ‚úÖ Driver cerrado autom√°ticamente
2025-09-10 19:58:19,556 - backend.app.scheduler_hybrid - WARNING - No se obtuvieron datos del scraping cl√°sico
2025-09-10 19:58:19,557 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA - Sin datos obtenidos
2025-09-10 19:58:19,560 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA...
2025-09-10 19:58:19,561 - backend.app.scheduler_hybrid - CRITICAL - üì∏ Estado de emergencia capturado: Screenshot FALL√ì - Driver no disponible
2025-09-10 19:58:19,578 - root - INFO - PID: 15884 - Proceso de monitoreo finalizado.
2025-09-10 20:08:21,179 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-10 20:08:21,179 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-10 20:08:21,182 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-10 20:08:21,192 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-10 20:08:21,196 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-10 20:08:21,348 - root - INFO - ExpressATM iniciado
2025-09-10 20:08:21,348 - root - INFO - Dashboard disponible
2025-09-10 20:08:21,348 - root - INFO - Documentacion API disponible
2025-09-10 20:08:37,841 - root - INFO - ExpressATM detenido
2025-09-10 20:08:51,614 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-10 20:08:51,614 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-10 20:08:51,615 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-10 20:08:51,619 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-10 20:08:51,623 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-10 20:08:51,708 - root - INFO - ExpressATM iniciado
2025-09-10 20:08:51,708 - root - INFO - Dashboard disponible
2025-09-10 20:08:51,708 - root - INFO - Documentacion API disponible
2025-09-10 20:09:12,940 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-10 20:09:12,941 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-10 20:09:12,942 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-10 20:09:12,946 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-10 20:09:12,949 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-10 20:09:13,099 - root - INFO - ExpressATM iniciado
2025-09-10 20:09:13,099 - root - INFO - Dashboard disponible
2025-09-10 20:09:13,099 - root - INFO - Documentacion API disponible
2025-09-10 20:09:50,660 - backend.app.scheduler_hybrid - INFO - üîÑ Iniciando iteraci√≥n manual as√≠ncrona (no bloqueante)...
2025-09-10 20:09:50,661 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-10 20:09:50,662 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-10 20:09:50,664 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-10 20:09:50,664 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-10 20:09:51,670 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-10 20:09:51,670 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-10 20:09:51,672 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-10 20:09:51,673 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-10 20:09:52,697 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-10 20:09:52,700 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-10 20:09:52,700 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-10 20:09:52,700 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-10 20:09:52,700 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-10 20:09:52,701 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-10 20:09:52,701 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-10 20:09:52,701 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-10 20:09:52,705 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-10 20:10:01,483 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-10 20:10:01,548 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-10 20:10:01,602 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-10 20:10:02,477 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-10 20:10:04,478 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-10 20:10:04,482 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-10 20:10:05,002 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-10 20:10:05,038 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-10 20:10:06,539 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-10 20:10:06,550 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-10 20:10:07,885 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-10 20:10:07,885 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 20:10:07,886 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 20:10:18,438 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-10 20:10:18,453 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-10 20:10:18,453 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-10 20:10:18,457 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-10 20:10:18,457 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-10 20:10:18,926 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-10 20:10:21,384 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-10 20:10:22,033 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-10 20:10:22,033 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-10 20:10:22,034 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-10 20:10:22,034 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-10 20:10:22,034 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-10 20:10:22,035 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-10 20:10:22,308 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 20:10:22,924 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-10 20:10:25,678 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 20:10:25,678 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 20:10:25,679 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 20:10:25,679 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-10 20:10:26,027 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-10 20:10:26,028 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-10 20:10:26,033 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 20:10:26,051 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 20:10:26,057 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 20:10:26,069 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 20:10:28,070 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 20:10:28,070 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 20:10:28,081 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 20:10:35,697 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 20:10:35,708 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 20:10:36,735 - backend.app.scraper - INFO - Tabla estable con 51 filas
2025-09-10 20:10:36,735 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 20:10:36,736 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-10 20:10:36,736 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-10 20:10:36,737 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 20:10:36,773 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 20:10:41,816 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 20:10:41,824 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 20:10:42,846 - backend.app.scraper - INFO - Tabla estable con 51 filas
2025-09-10 20:10:42,846 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-10 20:10:44,857 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 20:10:44,857 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-10 20:10:44,889 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-10 20:10:44,889 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-10 20:10:44,890 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-10 20:10:44,897 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-10 20:10:44,897 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-10 20:10:44,898 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-10 20:10:44,989 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$661,562.00', '$739,542.00', '$482,288.00', '-$77,980.00']
2025-09-10 20:10:44,998 - backend.app.scraper - INFO - üìä Encontradas 36 filas de datos
2025-09-10 20:10:45,927 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-10 20:10:45,928 - backend.app.scraper - INFO -    üìä Datos reales detectados: 140
2025-09-10 20:10:45,928 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 40
2025-09-10 20:10:45,929 - backend.app.scraper - INFO -    üìà Calidad de datos: 77.8%
2025-09-10 20:10:45,929 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-10 20:10:45,929 - backend.app.scraper - INFO - üìà Extra√≠dos 36 registros de datos
2025-09-10 20:10:45,929 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 661562.0, 'prizes': 739542.0, 'prizes_paid': 482288.0, 'balance': -77980.0, 'capture_time': datetime.datetime(2025, 9, 10, 20, 10, 45, 26367)}, {'agency_code': '250691', 'agency_name': '179 - TERMINAL 2 /CARREFOUR(21428)', 'sales': 24600.0, 'prizes': 27990.0, 'prizes_paid': 27210.0, 'balance': -3390.0, 'capture_time': datetime.datetime(2025, 9, 10, 20, 10, 45, 51414)}]
2025-09-10 20:10:45,929 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 36 registros
2025-09-10 20:10:45,930 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 36 registros obtenidos
2025-09-10 20:10:45,930 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-10 20:10:45,930 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-10 20:10:45,930 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-10 20:10:46,187 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 20:10:46,761 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-10 20:10:49,618 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 20:10:49,618 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 20:10:49,618 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 20:10:49,619 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-10 20:10:49,619 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-10 20:10:49,619 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-10 20:10:49,619 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-10 20:10:49,619 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-10 20:10:49,620 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-10 20:10:49,620 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-10 20:10:49,962 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-10 20:10:49,962 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-10 20:10:49,967 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 20:10:49,989 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 20:10:49,997 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 20:10:50,018 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 20:10:52,018 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 20:10:52,018 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 20:10:52,031 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 20:10:58,075 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 20:10:58,083 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 20:10:59,117 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-10 20:10:59,117 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 20:10:59,120 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-10 20:10:59,121 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-10 20:10:59,123 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 20:10:59,132 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 20:11:04,156 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 20:11:04,164 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 20:11:05,195 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-10 20:11:05,195 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-10 20:11:07,209 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 20:11:07,210 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-10 20:11:07,249 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-10 20:11:07,249 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-10 20:11:07,249 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-10 20:11:07,257 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-10 20:11:07,257 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-10 20:11:07,257 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-10 20:11:07,348 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$107,740.00', '$107,340.00', '$105,720.00', '$400.00']
2025-09-10 20:11:07,356 - backend.app.scraper - INFO - üìä Encontradas 7 filas de datos
2025-09-10 20:11:07,533 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-10 20:11:07,533 - backend.app.scraper - INFO -    üìä Datos reales detectados: 10
2025-09-10 20:11:07,534 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-10 20:11:07,534 - backend.app.scraper - INFO -    üìà Calidad de datos: 28.6%
2025-09-10 20:11:07,534 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-10 20:11:07,534 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-10 20:11:07,535 - backend.app.scraper - INFO - üìà Extra√≠dos 7 registros de datos
2025-09-10 20:11:07,535 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 107740.0, 'prizes': 107340.0, 'prizes_paid': 105720.0, 'balance': 400.0, 'capture_time': datetime.datetime(2025, 9, 10, 20, 11, 7, 381283)}, {'agency_code': '10129', 'agency_name': 'SURIEL 10-129 CONSTANZA/GRUPO 1(10000)', 'sales': 10100.0, 'prizes': 9900.0, 'prizes_paid': 9270.0, 'balance': 200.0, 'capture_time': datetime.datetime(2025, 9, 10, 20, 11, 7, 410604)}]
2025-09-10 20:11:07,535 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 7 registros
2025-09-10 20:11:07,535 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 7 registros obtenidos
2025-09-10 20:11:07,535 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-10 20:11:07,536 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 36 registros
2025-09-10 20:11:07,536 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 7 registros
2025-09-10 20:11:07,536 - backend.app.scraper - INFO -    üìà TOTAL: 43 registros
2025-09-10 20:11:07,536 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-10 20:11:10,537 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-10 20:11:10,538 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-10 20:11:12,651 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-10 20:11:12,651 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-10 20:11:14,654 - backend.app.agency_matcher - INFO - Cargando datos de agencias desde DataAgencias.xlsx
2025-09-10 20:11:14,813 - backend.app.agency_matcher - INFO - Grupos SURIEL identificados: 14
2025-09-10 20:11:14,814 - backend.app.agency_matcher - INFO -   - 150-SURIEL | GRUPO 1
2025-09-10 20:11:14,814 - backend.app.agency_matcher - INFO -   - 151-SURIEL | GRUPO 2
2025-09-10 20:11:14,814 - backend.app.agency_matcher - INFO -   - 152-SURIEL | GRUPO 3
2025-09-10 20:11:14,815 - backend.app.agency_matcher - INFO -   - 153-SURIEL | GRUPO 4
2025-09-10 20:11:14,815 - backend.app.agency_matcher - INFO -   - 154-SURIEL | GRUPO 5
2025-09-10 20:11:14,815 - backend.app.agency_matcher - INFO -   - 155-SURIEL | GRUPO 6
2025-09-10 20:11:14,815 - backend.app.agency_matcher - INFO -   - 161-SURIEL | GRUPO 13
2025-09-10 20:11:14,816 - backend.app.agency_matcher - INFO -   - 184-SURIEL | GRUPO 11
2025-09-10 20:11:14,816 - backend.app.agency_matcher - INFO -   - 185-SURIEL | GRUPO 16 SANTO DOMINGO
2025-09-10 20:11:14,816 - backend.app.agency_matcher - INFO -   - 186-SURIEL | GRUPO 17 CARMEN M .
2025-09-10 20:11:14,816 - backend.app.agency_matcher - INFO -   - 192-SURIEL | GRUPO 18
2025-09-10 20:11:14,817 - backend.app.agency_matcher - INFO -   - 198-SURIEL | GRUPO 19. H.
2025-09-10 20:11:14,817 - backend.app.agency_matcher - INFO -   - 206-GRUPO 20 EL CONVENTO SURIEL
2025-09-10 20:11:14,817 - backend.app.agency_matcher - INFO -   - 211-SURIEL | GRUPO 7 CORALITOS
2025-09-10 20:11:14,818 - backend.app.agency_matcher - INFO - Terminales cargadas: 3513 total, 3195 NO-SURIEL
2025-09-10 20:11:15,243 - backend.app.agency_matcher - INFO - Datos guardados en agencies_data.json
2025-09-10 20:11:15,243 - backend.app.alerts - INFO - Procesando lote 1: 43 agencias
2025-09-10 20:11:15,244 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-10 20:11:15,268 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61062 - SURIEL 10-62 CONSTANZA/GRUPO 1(9080) (CHANCE_EXPRESS)
2025-09-10 20:11:15,269 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61094 - SURIEL 10-94 CONSTANZA/GRUPO 1(9148) (CHANCE_EXPRESS)
2025-09-10 20:11:15,269 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 610105 - SURIEL 10-105 CONSTANZA/GRUPO 1(9491) (CHANCE_EXPRESS)
2025-09-10 20:11:15,270 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 1038 - SURIEL 10-38 CONSTANZA/GRUPO 1(10025) (CHANCE_EXPRESS)
2025-09-10 20:11:15,270 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 610154 - SURIEL 10-154 CONSTANZA/GRUPO 1(10047) (CHANCE_EXPRESS)
2025-09-10 20:11:15,270 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 10131 - SURIEL 10-131 CONSTANZA/GRUPO 1(10050) (CHANCE_EXPRESS)
2025-09-10 20:11:15,271 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-10 20:11:15,271 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-10 20:11:15,271 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-10 20:11:15,271 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64006 - SURIEL 40-06 CONSTANZA/GRUPO 4(21535) (CHANCE_EXPRESS)
2025-09-10 20:11:15,272 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 6132290 - SURIEL 10-171 CONSTANZA/SURIEL GRUPO 13(12297) (CHANCE_EXPRESS)
2025-09-10 20:11:15,339 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-10 20:11:15,340 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 10129 - SURIEL 10-129 CONSTANZA/GRUPO 1(10000) (RULETA_EXPRESS)
2025-09-10 20:11:15,340 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-10 20:11:15,341 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011558 - SURIEL 10-186 CONSTANZA/GRUPO 18(10660) (RULETA_EXPRESS)
2025-09-10 20:11:15,453 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 43 agencias, 10 alertas en 84.79s
2025-09-10 20:11:15,454 - root - INFO - PID: 8188 - Proceso de monitoreo finalizado.
2025-09-10 20:11:59,078 - backend.app.scheduler_hybrid - INFO - üîÑ Iniciando iteraci√≥n manual as√≠ncrona (no bloqueante)...
2025-09-10 20:11:59,078 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-10 20:11:59,079 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-10 20:11:59,079 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-10 20:11:59,079 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-10 20:12:00,085 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-10 20:12:00,085 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-10 20:12:00,085 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-10 20:12:01,175 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-10 20:12:01,177 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-10 20:12:01,178 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-10 20:12:01,178 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-10 20:12:01,178 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-10 20:12:01,178 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-10 20:12:01,178 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-10 20:12:01,178 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-10 20:12:01,182 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-10 20:12:10,433 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-10 20:12:10,492 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-10 20:12:10,545 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-10 20:12:11,232 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-10 20:12:13,233 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-10 20:12:13,248 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-10 20:12:13,790 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-10 20:12:13,827 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-10 20:12:15,328 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-10 20:12:15,343 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-10 20:12:16,138 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-10 20:12:16,138 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 20:12:16,139 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-10 20:12:26,727 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-10 20:12:26,734 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-10 20:12:26,734 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-10 20:12:26,737 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-10 20:12:26,738 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-10 20:12:27,219 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-10 20:12:29,610 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-10 20:12:30,245 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-10 20:12:30,245 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-10 20:12:30,246 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-10 20:12:30,246 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-10 20:12:30,246 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-10 20:12:30,246 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-10 20:12:30,534 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 20:12:31,116 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-10 20:12:33,775 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 20:12:33,775 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 20:12:33,775 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 20:12:33,776 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-10 20:12:34,123 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-10 20:12:34,123 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-10 20:12:34,128 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 20:12:34,146 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 20:12:34,153 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 20:12:34,164 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 20:12:36,166 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 20:12:36,167 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 20:12:36,179 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 20:12:43,765 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 20:12:43,776 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 20:12:44,809 - backend.app.scraper - INFO - Tabla estable con 51 filas
2025-09-10 20:12:44,810 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 20:12:44,810 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-10 20:12:44,810 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-10 20:12:44,810 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 20:12:44,818 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 20:12:49,835 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 20:12:49,842 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 20:12:50,877 - backend.app.scraper - INFO - Tabla estable con 51 filas
2025-09-10 20:12:50,878 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-10 20:12:52,891 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 20:12:52,891 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-10 20:12:52,938 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-10 20:12:52,938 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-10 20:12:52,938 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-10 20:12:52,948 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-10 20:12:52,948 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-10 20:12:52,948 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-10 20:12:53,039 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$662,491.00', '$739,542.00', '$484,284.00', '-$77,051.00']
2025-09-10 20:12:53,047 - backend.app.scraper - INFO - üìä Encontradas 36 filas de datos
2025-09-10 20:12:53,928 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-10 20:12:53,928 - backend.app.scraper - INFO -    üìä Datos reales detectados: 139
2025-09-10 20:12:53,928 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 41
2025-09-10 20:12:53,928 - backend.app.scraper - INFO -    üìà Calidad de datos: 77.2%
2025-09-10 20:12:53,928 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-10 20:12:53,928 - backend.app.scraper - INFO - üìà Extra√≠dos 36 registros de datos
2025-09-10 20:12:53,928 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 662491.0, 'prizes': 739542.0, 'prizes_paid': 484284.0, 'balance': -77051.0, 'capture_time': datetime.datetime(2025, 9, 10, 20, 12, 53, 74879)}, {'agency_code': '250691', 'agency_name': '179 - TERMINAL 2 /CARREFOUR(21428)', 'sales': 24600.0, 'prizes': 27990.0, 'prizes_paid': 27210.0, 'balance': -3390.0, 'capture_time': datetime.datetime(2025, 9, 10, 20, 12, 53, 98426)}]
2025-09-10 20:12:53,929 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 36 registros
2025-09-10 20:12:53,929 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 36 registros obtenidos
2025-09-10 20:12:53,929 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-10 20:12:53,929 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-10 20:12:53,929 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-10 20:12:54,184 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-10 20:12:54,765 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-10 20:12:57,457 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-10 20:12:57,457 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-10 20:12:57,457 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-10 20:12:57,457 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-10 20:12:57,457 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-10 20:12:57,457 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-10 20:12:57,458 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-10 20:12:57,458 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-10 20:12:57,458 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-10 20:12:57,458 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-10 20:12:57,798 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-10 20:12:57,799 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-10 20:12:57,805 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-10 20:12:57,827 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-10 20:12:57,833 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-10 20:12:57,854 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-10 20:12:59,855 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-10 20:12:59,856 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 20:12:59,867 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 20:13:06,961 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 20:13:06,998 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 20:13:08,031 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-10 20:13:08,032 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-10 20:13:08,032 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-10 20:13:08,032 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-10 20:13:08,032 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-10 20:13:08,039 - backend.app.scraper - INFO - Tabla encontrada
2025-09-10 20:13:13,070 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-10 20:13:13,097 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-10 20:13:14,131 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-10 20:13:14,132 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-10 20:13:16,145 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-10 20:13:16,146 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-10 20:13:16,174 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-10 20:13:16,174 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-10 20:13:16,174 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-10 20:13:16,179 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-10 20:13:16,179 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-10 20:13:16,179 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-10 20:13:16,289 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$108,045.00', '$108,600.00', '$105,720.00', '-$555.00']
2025-09-10 20:13:16,296 - backend.app.scraper - INFO - üìä Encontradas 7 filas de datos
2025-09-10 20:13:16,462 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-10 20:13:16,462 - backend.app.scraper - INFO -    üìä Datos reales detectados: 10
2025-09-10 20:13:16,462 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-10 20:13:16,462 - backend.app.scraper - INFO -    üìà Calidad de datos: 28.6%
2025-09-10 20:13:16,462 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-10 20:13:16,462 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-10 20:13:16,462 - backend.app.scraper - INFO - üìà Extra√≠dos 7 registros de datos
2025-09-10 20:13:16,463 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 108045.0, 'prizes': 108600.0, 'prizes_paid': 105720.0, 'balance': -555.0, 'capture_time': datetime.datetime(2025, 9, 10, 20, 13, 16, 320705)}, {'agency_code': '10129', 'agency_name': 'SURIEL 10-129 CONSTANZA/GRUPO 1(10000)', 'sales': 10100.0, 'prizes': 9900.0, 'prizes_paid': 9270.0, 'balance': 200.0, 'capture_time': datetime.datetime(2025, 9, 10, 20, 13, 16, 344166)}]
2025-09-10 20:13:16,463 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 7 registros
2025-09-10 20:13:16,463 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 7 registros obtenidos
2025-09-10 20:13:16,463 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-10 20:13:16,463 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 36 registros
2025-09-10 20:13:16,463 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 7 registros
2025-09-10 20:13:16,463 - backend.app.scraper - INFO -    üìà TOTAL: 43 registros
2025-09-10 20:13:16,463 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-10 20:13:19,464 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-10 20:13:19,464 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-10 20:13:21,611 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-10 20:13:21,612 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-10 20:13:23,614 - backend.app.alerts - INFO - Procesando lote 1: 43 agencias
2025-09-10 20:13:23,615 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-10 20:13:23,631 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61062 - SURIEL 10-62 CONSTANZA/GRUPO 1(9080) (CHANCE_EXPRESS)
2025-09-10 20:13:23,631 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61094 - SURIEL 10-94 CONSTANZA/GRUPO 1(9148) (CHANCE_EXPRESS)
2025-09-10 20:13:23,632 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 610105 - SURIEL 10-105 CONSTANZA/GRUPO 1(9491) (CHANCE_EXPRESS)
2025-09-10 20:13:23,632 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 1038 - SURIEL 10-38 CONSTANZA/GRUPO 1(10025) (CHANCE_EXPRESS)
2025-09-10 20:13:23,632 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 610154 - SURIEL 10-154 CONSTANZA/GRUPO 1(10047) (CHANCE_EXPRESS)
2025-09-10 20:13:23,632 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 10131 - SURIEL 10-131 CONSTANZA/GRUPO 1(10050) (CHANCE_EXPRESS)
2025-09-10 20:13:23,633 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-10 20:13:23,633 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-10 20:13:23,633 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-10 20:13:23,633 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64006 - SURIEL 40-06 CONSTANZA/GRUPO 4(21535) (CHANCE_EXPRESS)
2025-09-10 20:13:23,634 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 6132290 - SURIEL 10-171 CONSTANZA/SURIEL GRUPO 13(12297) (CHANCE_EXPRESS)
2025-09-10 20:13:23,675 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-10 20:13:23,676 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 10129 - SURIEL 10-129 CONSTANZA/GRUPO 1(10000) (RULETA_EXPRESS)
2025-09-10 20:13:23,676 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-10 20:13:23,676 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011558 - SURIEL 10-186 CONSTANZA/GRUPO 18(10660) (RULETA_EXPRESS)
2025-09-10 20:13:23,708 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 43 agencias, 0 alertas en 84.63s
2025-09-10 20:13:23,708 - root - INFO - PID: 8188 - Proceso de monitoreo finalizado.
2025-09-10 20:16:53,791 - root - INFO - ExpressATM detenido
2025-09-10 20:16:53,932 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-10 20:16:53,933 - backend.app.scraper - INFO - ‚úì No hay driver activo para cerrar
2025-09-10 20:38:13,078 - root - INFO - ExpressATM detenido
2025-09-11 15:37:35,938 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-11 15:37:35,938 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-11 15:37:35,939 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-11 15:37:35,943 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-11 15:37:35,951 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-11 15:37:36,084 - root - INFO - ExpressATM iniciado
2025-09-11 15:37:36,084 - root - INFO - Dashboard disponible
2025-09-11 15:37:36,084 - root - INFO - Documentacion API disponible
2025-09-11 15:37:49,378 - backend.app.scheduler_hybrid - INFO - üîÑ Iniciando iteraci√≥n manual as√≠ncrona (no bloqueante)...
2025-09-11 15:37:49,379 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-11 15:37:49,380 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-11 15:37:49,380 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-11 15:37:49,381 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-11 15:37:50,391 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-11 15:37:50,391 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-11 15:37:50,392 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-11 15:37:50,392 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-11 15:37:51,556 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-11 15:37:51,558 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-11 15:37:51,558 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-11 15:37:51,558 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-11 15:37:51,558 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-11 15:37:51,559 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-11 15:37:51,559 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-11 15:37:51,559 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-11 15:37:51,562 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-11 15:38:00,374 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-11 15:38:00,433 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-11 15:38:00,786 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-11 15:38:01,251 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-11 15:38:03,252 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-11 15:38:03,255 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-11 15:38:03,775 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-11 15:38:03,812 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-11 15:38:05,312 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-11 15:38:05,324 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-11 15:38:06,553 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-11 15:38:06,553 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-11 15:38:06,554 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-11 15:38:17,169 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-11 15:38:17,173 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-11 15:38:17,173 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-11 15:38:17,176 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-11 15:38:17,176 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-11 15:38:17,646 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-11 15:38:20,235 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-11 15:38:20,955 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-11 15:38:20,955 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-11 15:38:20,956 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-11 15:38:20,956 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-11 15:38:20,957 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-11 15:38:20,957 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-11 15:38:21,229 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-11 15:38:21,802 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-11 15:38:24,557 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-11 15:38:24,557 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-11 15:38:24,557 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-11 15:38:24,558 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-11 15:38:24,906 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-11 15:38:24,908 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-11 15:38:24,913 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-11 15:38:24,929 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-11 15:38:24,936 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-11 15:38:24,946 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-11 15:38:26,947 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-11 15:38:26,948 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-11 15:38:26,990 - backend.app.scraper - INFO - Tabla encontrada
2025-09-11 15:38:33,584 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-11 15:38:33,594 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-11 15:38:34,617 - backend.app.scraper - INFO - Tabla estable con 35 filas
2025-09-11 15:38:34,618 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-11 15:38:34,618 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-11 15:38:34,618 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-11 15:38:34,619 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-11 15:38:34,625 - backend.app.scraper - INFO - Tabla encontrada
2025-09-11 15:38:39,670 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-11 15:38:39,678 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-11 15:38:40,693 - backend.app.scraper - INFO - Tabla estable con 35 filas
2025-09-11 15:38:40,693 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-11 15:38:42,697 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-11 15:38:42,697 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-11 15:38:42,725 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-11 15:38:42,726 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-11 15:38:42,726 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-11 15:38:42,733 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-11 15:38:42,734 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-11 15:38:42,734 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-11 15:38:42,826 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$294,042.00', '$317,181.00', '$206,675.00', '-$23,139.00']
2025-09-11 15:38:42,834 - backend.app.scraper - INFO - üìä Encontradas 20 filas de datos
2025-09-11 15:38:43,352 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-11 15:38:43,352 - backend.app.scraper - INFO -    üìä Datos reales detectados: 69
2025-09-11 15:38:43,353 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 31
2025-09-11 15:38:43,353 - backend.app.scraper - INFO -    üìà Calidad de datos: 69.0%
2025-09-11 15:38:43,353 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-11 15:38:43,354 - backend.app.scraper - INFO - üìà Extra√≠dos 20 registros de datos
2025-09-11 15:38:43,354 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 294042.0, 'prizes': 317181.0, 'prizes_paid': 206675.0, 'balance': -23139.0, 'capture_time': datetime.datetime(2025, 9, 11, 15, 38, 42, 862705)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 31528.0, 'prizes': 120696.0, 'prizes_paid': 4376.0, 'balance': -89168.0, 'capture_time': datetime.datetime(2025, 9, 11, 15, 38, 42, 887324)}]
2025-09-11 15:38:43,354 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 20 registros
2025-09-11 15:38:43,354 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 20 registros obtenidos
2025-09-11 15:38:43,355 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-11 15:38:43,355 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-11 15:38:43,355 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-11 15:38:43,614 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-11 15:38:44,194 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-11 15:38:47,030 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-11 15:38:47,030 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-11 15:38:47,031 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-11 15:38:47,031 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-11 15:38:47,031 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-11 15:38:47,032 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-11 15:38:47,032 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-11 15:38:47,032 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-11 15:38:47,032 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-11 15:38:47,032 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-11 15:38:47,372 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-11 15:38:47,372 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-11 15:38:47,378 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-11 15:38:47,399 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-11 15:38:47,405 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-11 15:38:47,426 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-11 15:38:49,427 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-11 15:38:49,427 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-11 15:38:49,458 - backend.app.scraper - INFO - Tabla encontrada
2025-09-11 15:38:54,538 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-11 15:38:54,552 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-11 15:38:55,577 - backend.app.scraper - INFO - Tabla estable con 19 filas
2025-09-11 15:38:55,577 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-11 15:38:55,577 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-11 15:38:55,578 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-11 15:38:55,578 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-11 15:38:55,591 - backend.app.scraper - INFO - Tabla encontrada
2025-09-11 15:39:00,662 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-11 15:39:00,690 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-11 15:39:01,712 - backend.app.scraper - INFO - Tabla estable con 19 filas
2025-09-11 15:39:01,712 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-11 15:39:03,718 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-11 15:39:03,718 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-11 15:39:03,749 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-11 15:39:03,749 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-11 15:39:03,749 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-11 15:39:03,757 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-11 15:39:03,757 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-11 15:39:03,757 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-11 15:39:03,849 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$70,155.00', '$55,000.00', '$55,000.00', '$15,155.00']
2025-09-11 15:39:03,856 - backend.app.scraper - INFO - üìä Encontradas 4 filas de datos
2025-09-11 15:39:03,955 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-11 15:39:03,955 - backend.app.scraper - INFO -    üìä Datos reales detectados: 7
2025-09-11 15:39:03,956 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 13
2025-09-11 15:39:03,956 - backend.app.scraper - INFO -    üìà Calidad de datos: 35.0%
2025-09-11 15:39:03,956 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-11 15:39:03,956 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-11 15:39:03,957 - backend.app.scraper - INFO - üìà Extra√≠dos 4 registros de datos
2025-09-11 15:39:03,957 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 70155.0, 'prizes': 55000.0, 'prizes_paid': 55000.0, 'balance': 15155.0, 'capture_time': datetime.datetime(2025, 9, 11, 15, 39, 3, 881567)}, {'agency_code': '6011184', 'agency_name': '7041 | SAJOMA PROPIO(9365)', 'sales': 30180.0, 'prizes': 18450.0, 'prizes_paid': 18450.0, 'balance': 11730.0, 'capture_time': datetime.datetime(2025, 9, 11, 15, 39, 3, 905823)}]
2025-09-11 15:39:03,957 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 4 registros
2025-09-11 15:39:03,957 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 4 registros obtenidos
2025-09-11 15:39:03,957 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-11 15:39:03,958 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 20 registros
2025-09-11 15:39:03,958 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 4 registros
2025-09-11 15:39:03,958 - backend.app.scraper - INFO -    üìà TOTAL: 24 registros
2025-09-11 15:39:03,958 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-11 15:39:06,959 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-11 15:39:06,959 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-11 15:39:09,097 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-11 15:39:09,097 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-11 15:39:11,101 - backend.app.agency_matcher - INFO - Cargando datos de agencias desde DataAgencias.xlsx
2025-09-11 15:39:11,274 - backend.app.agency_matcher - INFO - Grupos SURIEL identificados: 14
2025-09-11 15:39:11,274 - backend.app.agency_matcher - INFO -   - 150-SURIEL | GRUPO 1
2025-09-11 15:39:11,275 - backend.app.agency_matcher - INFO -   - 151-SURIEL | GRUPO 2
2025-09-11 15:39:11,275 - backend.app.agency_matcher - INFO -   - 152-SURIEL | GRUPO 3
2025-09-11 15:39:11,276 - backend.app.agency_matcher - INFO -   - 153-SURIEL | GRUPO 4
2025-09-11 15:39:11,276 - backend.app.agency_matcher - INFO -   - 154-SURIEL | GRUPO 5
2025-09-11 15:39:11,276 - backend.app.agency_matcher - INFO -   - 155-SURIEL | GRUPO 6
2025-09-11 15:39:11,276 - backend.app.agency_matcher - INFO -   - 161-SURIEL | GRUPO 13
2025-09-11 15:39:11,277 - backend.app.agency_matcher - INFO -   - 184-SURIEL | GRUPO 11
2025-09-11 15:39:11,277 - backend.app.agency_matcher - INFO -   - 185-SURIEL | GRUPO 16 SANTO DOMINGO
2025-09-11 15:39:11,277 - backend.app.agency_matcher - INFO -   - 186-SURIEL | GRUPO 17 CARMEN M .
2025-09-11 15:39:11,277 - backend.app.agency_matcher - INFO -   - 192-SURIEL | GRUPO 18
2025-09-11 15:39:11,278 - backend.app.agency_matcher - INFO -   - 198-SURIEL | GRUPO 19. H.
2025-09-11 15:39:11,278 - backend.app.agency_matcher - INFO -   - 206-GRUPO 20 EL CONVENTO SURIEL
2025-09-11 15:39:11,278 - backend.app.agency_matcher - INFO -   - 211-SURIEL | GRUPO 7 CORALITOS
2025-09-11 15:39:11,279 - backend.app.agency_matcher - INFO - Terminales cargadas: 3513 total, 3195 NO-SURIEL
2025-09-11 15:39:11,696 - backend.app.agency_matcher - INFO - Datos guardados en agencies_data.json
2025-09-11 15:39:11,696 - backend.app.alerts - INFO - Procesando lote 1: 24 agencias
2025-09-11 15:39:11,697 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-11 15:39:11,714 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 610105 - SURIEL 10-105 CONSTANZA/GRUPO 1(9491) (CHANCE_EXPRESS)
2025-09-11 15:39:11,714 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-11 15:39:11,714 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 1038 - SURIEL 10-38 CONSTANZA/GRUPO 1(10025) (CHANCE_EXPRESS)
2025-09-11 15:39:11,714 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-11 15:39:11,715 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-11 15:39:11,715 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011565 - SURIEL 40-30 CONSTANZA/GRUPO 4(10667) (CHANCE_EXPRESS)
2025-09-11 15:39:11,740 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-11 15:39:11,779 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 24 agencias, 5 alertas en 82.40s
2025-09-11 15:39:11,779 - root - INFO - PID: 13940 - Proceso de monitoreo finalizado.
2025-09-11 16:21:47,403 - root - INFO - ExpressATM detenido
2025-09-11 16:43:43,456 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-11 16:43:43,456 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-11 16:43:43,457 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-11 16:43:43,462 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-11 16:43:43,471 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-11 16:43:43,619 - root - INFO - ExpressATM iniciado
2025-09-11 16:43:43,619 - root - INFO - Dashboard disponible
2025-09-11 16:43:43,620 - root - INFO - Documentacion API disponible
2025-09-11 16:43:54,288 - backend.app.scheduler_hybrid - INFO - üîÑ Iniciando iteraci√≥n manual as√≠ncrona (no bloqueante)...
2025-09-11 16:43:54,288 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-11 16:43:54,289 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-11 16:43:54,289 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-11 16:43:54,289 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-11 16:43:55,299 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-11 16:43:55,299 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-11 16:43:55,300 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-11 16:43:55,300 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-11 16:43:56,464 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-11 16:43:56,466 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-11 16:43:56,466 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-11 16:43:56,466 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-11 16:43:56,467 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-11 16:43:56,467 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-11 16:43:56,467 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-11 16:43:56,467 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-11 16:43:56,470 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-11 16:44:01,170 - backend.app.scraper - ERROR - Error durante login: ('Connection aborted.', ConnectionResetError(10054, 'Se ha forzado la interrupci√≥n de una conexi√≥n existente por el host remoto', None, 10054, None))
2025-09-11 16:44:01,171 - backend.app.scraper - ERROR - ‚úó Error en login
2025-09-11 16:44:01,171 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-11 16:44:01,322 - root - INFO - ExpressATM detenido
2025-09-11 19:27:55,633 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-11 19:27:55,633 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-11 19:27:55,634 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-11 19:27:55,640 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-11 19:27:55,643 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-11 19:27:55,790 - root - INFO - ExpressATM iniciado
2025-09-11 19:27:55,791 - root - INFO - Dashboard disponible
2025-09-11 19:27:55,791 - root - INFO - Documentacion API disponible
2025-09-11 19:31:27,485 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-11 19:31:27,485 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-11 19:31:27,485 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-11 19:31:27,501 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-11 19:31:27,504 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-11 19:31:27,636 - root - INFO - ExpressATM iniciado
2025-09-11 19:31:27,636 - root - INFO - Dashboard disponible
2025-09-11 19:31:27,636 - root - INFO - Documentacion API disponible
2025-09-11 20:16:39,885 - root - INFO - ExpressATM detenido
2025-09-11 20:17:14,841 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-11 20:17:14,841 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-11 20:17:14,841 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-11 20:17:14,841 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-11 20:17:14,856 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-11 20:17:14,991 - root - INFO - ExpressATM iniciado
2025-09-11 20:17:14,991 - root - INFO - Dashboard disponible
2025-09-11 20:17:14,991 - root - INFO - Documentacion API disponible
2025-09-11 20:24:22,403 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-11 20:24:22,404 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-11 20:24:22,405 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-11 20:24:22,409 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-11 20:24:22,413 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-11 20:24:22,575 - root - INFO - ExpressATM iniciado
2025-09-11 20:24:22,575 - root - INFO - Dashboard disponible
2025-09-11 20:24:22,575 - root - INFO - Documentacion API disponible
2025-09-11 20:24:42,992 - root - INFO - ExpressATM detenido
2025-09-11 20:25:46,206 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-11 20:25:46,206 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-11 20:25:46,207 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-11 20:25:46,211 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-11 20:25:46,215 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-11 20:25:46,311 - root - INFO - ExpressATM iniciado
2025-09-11 20:25:46,312 - root - INFO - Dashboard disponible
2025-09-11 20:25:46,312 - root - INFO - Documentacion API disponible
2025-09-11 20:25:56,658 - backend.app.scheduler_hybrid - INFO - üîÑ Iniciando iteraci√≥n manual as√≠ncrona (no bloqueante)...
2025-09-11 20:25:56,659 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-11 20:25:56,660 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-11 20:25:56,660 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-11 20:25:56,660 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-11 20:25:57,670 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-11 20:25:57,671 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-11 20:25:57,671 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-11 20:25:57,671 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-11 20:25:58,897 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-11 20:25:58,900 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-11 20:25:58,901 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-11 20:25:58,901 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-11 20:25:58,901 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-11 20:25:58,902 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-11 20:25:58,902 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-11 20:25:58,902 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-11 20:25:58,910 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-11 20:26:29,073 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-11 20:26:29,137 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-11 20:26:29,484 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-11 20:26:29,949 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-11 20:26:31,949 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-11 20:26:31,956 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-11 20:26:32,494 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-11 20:26:32,536 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-11 20:26:34,037 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-11 20:26:34,046 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-11 20:26:35,384 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-11 20:26:35,384 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-11 20:26:35,384 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-11 20:26:45,914 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-11 20:26:45,919 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-11 20:26:45,920 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-11 20:26:45,923 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-11 20:26:45,923 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-11 20:26:46,409 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-11 20:26:48,931 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-11 20:26:49,567 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-11 20:26:49,567 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-11 20:26:49,568 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-11 20:26:49,568 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-11 20:26:49,568 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-11 20:26:49,568 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-11 20:26:49,832 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-11 20:26:50,402 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-11 20:26:53,207 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-11 20:26:53,207 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-11 20:26:53,207 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-11 20:26:53,207 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-11 20:26:53,560 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-11 20:26:53,561 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-11 20:26:53,575 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-11 20:26:53,594 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-11 20:26:53,602 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-11 20:26:53,614 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-11 20:26:55,615 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-11 20:26:55,616 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-11 20:26:55,625 - backend.app.scraper - INFO - Tabla encontrada
2025-09-11 20:27:05,298 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-11 20:27:05,315 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-11 20:27:06,349 - backend.app.scraper - INFO - Tabla estable con 50 filas
2025-09-11 20:27:06,349 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-11 20:27:06,349 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-11 20:27:06,350 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-11 20:27:06,350 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-11 20:27:06,358 - backend.app.scraper - INFO - Tabla encontrada
2025-09-11 20:27:11,400 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-11 20:27:11,407 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-11 20:27:12,426 - backend.app.scraper - INFO - Tabla estable con 50 filas
2025-09-11 20:27:12,426 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-11 20:27:14,429 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-11 20:27:14,429 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-11 20:27:14,459 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-11 20:27:14,459 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-11 20:27:14,459 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-11 20:27:14,467 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-11 20:27:14,467 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-11 20:27:14,467 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-11 20:27:14,573 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$702,926.00', '$683,689.00', '$559,379.00', '$19,237.00']
2025-09-11 20:27:14,582 - backend.app.scraper - INFO - üìä Encontradas 35 filas de datos
2025-09-11 20:27:15,571 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-11 20:27:15,571 - backend.app.scraper - INFO -    üìä Datos reales detectados: 133
2025-09-11 20:27:15,572 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 42
2025-09-11 20:27:15,572 - backend.app.scraper - INFO -    üìà Calidad de datos: 76.0%
2025-09-11 20:27:15,572 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-11 20:27:15,572 - backend.app.scraper - INFO - üìà Extra√≠dos 35 registros de datos
2025-09-11 20:27:15,572 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 702926.0, 'prizes': 683689.0, 'prizes_paid': 559379.0, 'balance': 19237.0, 'capture_time': datetime.datetime(2025, 9, 11, 20, 27, 14, 613456)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 58228.0, 'prizes': 152436.0, 'prizes_paid': 61036.0, 'balance': -94208.0, 'capture_time': datetime.datetime(2025, 9, 11, 20, 27, 14, 640380)}]
2025-09-11 20:27:15,572 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 35 registros
2025-09-11 20:27:15,573 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 35 registros obtenidos
2025-09-11 20:27:15,573 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-11 20:27:15,573 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-11 20:27:15,573 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-11 20:27:15,879 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-11 20:27:16,464 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-11 20:27:19,480 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-11 20:27:19,481 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-11 20:27:19,481 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-11 20:27:19,481 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-11 20:27:19,481 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-11 20:27:19,481 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-11 20:27:19,481 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-11 20:27:19,481 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-11 20:27:19,482 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-11 20:27:19,482 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-11 20:27:19,822 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-11 20:27:19,822 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-11 20:27:19,828 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-11 20:27:19,847 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-11 20:27:19,854 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-11 20:27:19,878 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-11 20:27:21,879 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-11 20:27:21,880 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-11 20:27:21,906 - backend.app.scraper - INFO - Tabla encontrada
2025-09-11 20:27:27,968 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-11 20:27:27,976 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-11 20:27:28,991 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-11 20:27:28,991 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-11 20:27:28,991 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-11 20:27:28,992 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-11 20:27:28,992 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-11 20:27:28,999 - backend.app.scraper - INFO - Tabla encontrada
2025-09-11 20:27:34,050 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-11 20:27:34,057 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-11 20:27:35,073 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-11 20:27:35,073 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-11 20:27:37,078 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-11 20:27:37,078 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-11 20:27:37,109 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-11 20:27:37,110 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-11 20:27:37,110 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-11 20:27:37,118 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-11 20:27:37,118 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-11 20:27:37,118 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-11 20:27:37,216 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$122,440.00', '$105,160.00', '$104,980.00', '$17,280.00']
2025-09-11 20:27:37,224 - backend.app.scraper - INFO - üìä Encontradas 7 filas de datos
2025-09-11 20:27:37,403 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-11 20:27:37,403 - backend.app.scraper - INFO -    üìä Datos reales detectados: 10
2025-09-11 20:27:37,403 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-11 20:27:37,403 - backend.app.scraper - INFO -    üìà Calidad de datos: 28.6%
2025-09-11 20:27:37,404 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-11 20:27:37,404 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-11 20:27:37,404 - backend.app.scraper - INFO - üìà Extra√≠dos 7 registros de datos
2025-09-11 20:27:37,404 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 122440.0, 'prizes': 105160.0, 'prizes_paid': 104980.0, 'balance': 17280.0, 'capture_time': datetime.datetime(2025, 9, 11, 20, 27, 37, 251503)}, {'agency_code': '6132253', 'agency_name': 'SURIEL 10- 190 CONSTANZA/GRUPO 1(12260)', 'sales': 20050.0, 'prizes': 16200.0, 'prizes_paid': 16200.0, 'balance': 3850.0, 'capture_time': datetime.datetime(2025, 9, 11, 20, 27, 37, 279890)}]
2025-09-11 20:27:37,404 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 7 registros
2025-09-11 20:27:37,404 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 7 registros obtenidos
2025-09-11 20:27:37,404 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-11 20:27:37,405 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 35 registros
2025-09-11 20:27:37,405 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 7 registros
2025-09-11 20:27:37,405 - backend.app.scraper - INFO -    üìà TOTAL: 42 registros
2025-09-11 20:27:37,405 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-11 20:27:40,406 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-11 20:27:40,407 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-11 20:27:42,543 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-11 20:27:42,544 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-11 20:27:44,545 - backend.app.agency_matcher - INFO - Cargando datos de agencias desde DataAgencias.xlsx
2025-09-11 20:27:44,696 - backend.app.agency_matcher - INFO - Grupos SURIEL identificados: 14
2025-09-11 20:27:44,696 - backend.app.agency_matcher - INFO -   - 150-SURIEL | GRUPO 1
2025-09-11 20:27:44,697 - backend.app.agency_matcher - INFO -   - 151-SURIEL | GRUPO 2
2025-09-11 20:27:44,697 - backend.app.agency_matcher - INFO -   - 152-SURIEL | GRUPO 3
2025-09-11 20:27:44,697 - backend.app.agency_matcher - INFO -   - 153-SURIEL | GRUPO 4
2025-09-11 20:27:44,697 - backend.app.agency_matcher - INFO -   - 154-SURIEL | GRUPO 5
2025-09-11 20:27:44,697 - backend.app.agency_matcher - INFO -   - 155-SURIEL | GRUPO 6
2025-09-11 20:27:44,697 - backend.app.agency_matcher - INFO -   - 161-SURIEL | GRUPO 13
2025-09-11 20:27:44,697 - backend.app.agency_matcher - INFO -   - 184-SURIEL | GRUPO 11
2025-09-11 20:27:44,698 - backend.app.agency_matcher - INFO -   - 185-SURIEL | GRUPO 16 SANTO DOMINGO
2025-09-11 20:27:44,698 - backend.app.agency_matcher - INFO -   - 186-SURIEL | GRUPO 17 CARMEN M .
2025-09-11 20:27:44,698 - backend.app.agency_matcher - INFO -   - 192-SURIEL | GRUPO 18
2025-09-11 20:27:44,698 - backend.app.agency_matcher - INFO -   - 198-SURIEL | GRUPO 19. H.
2025-09-11 20:27:44,698 - backend.app.agency_matcher - INFO -   - 206-GRUPO 20 EL CONVENTO SURIEL
2025-09-11 20:27:44,698 - backend.app.agency_matcher - INFO -   - 211-SURIEL | GRUPO 7 CORALITOS
2025-09-11 20:27:44,699 - backend.app.agency_matcher - INFO - Terminales cargadas: 3513 total, 3195 NO-SURIEL
2025-09-11 20:27:45,105 - backend.app.agency_matcher - INFO - Datos guardados en agencies_data.json
2025-09-11 20:27:45,106 - backend.app.alerts - INFO - Procesando lote 1: 42 agencias
2025-09-11 20:27:45,106 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-11 20:27:45,123 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 610105 - SURIEL 10-105 CONSTANZA/GRUPO 1(9491) (CHANCE_EXPRESS)
2025-09-11 20:27:45,123 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 1050 - SURIEL 10-50 CONSTANZA/GRUPO 1(10013) (CHANCE_EXPRESS)
2025-09-11 20:27:45,123 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-11 20:27:45,123 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 1038 - SURIEL 10-38 CONSTANZA/GRUPO 1(10025) (CHANCE_EXPRESS)
2025-09-11 20:27:45,124 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61022 - SURIEL 10-22 CONSTANZA/GRUPO 1(10040) (CHANCE_EXPRESS)
2025-09-11 20:27:45,124 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-11 20:27:45,124 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 62025 - SURIEL 20-25 COTUI/SURIEL GRUPO 2(9095) (CHANCE_EXPRESS)
2025-09-11 20:27:45,124 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-11 20:27:45,125 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 63011 - SURIEL 30-11 JARABACOA/GRUPO 3(9125) (CHANCE_EXPRESS)
2025-09-11 20:27:45,125 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-11 20:27:45,125 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011565 - SURIEL 40-30 CONSTANZA/GRUPO 4(10667) (CHANCE_EXPRESS)
2025-09-11 20:27:45,126 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-11 20:27:45,148 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011560 - SURIEL 10-187 CONSTANZA/GRUPO 18(10662) (CHANCE_EXPRESS)
2025-09-11 20:27:45,149 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 066252280 - 60-04 CONSTANZA/SURIELGRUPO 19 H(12287) (CHANCE_EXPRESS)
2025-09-11 20:27:45,191 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 6011123 - Bcas. SURIEL 8101 l SURIEL GRUPO 8 CONSTANZA M√ë(9462) (CHANCE_EXPRESS)
2025-09-11 20:27:45,191 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-11 20:27:45,191 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 6132253 - SURIEL 10- 190 CONSTANZA/GRUPO 1(12260) (RULETA_EXPRESS)
2025-09-11 20:27:45,192 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-11 20:27:45,232 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 42 agencias, 8 alertas en 108.57s
2025-09-11 20:27:45,232 - root - INFO - PID: 15460 - Proceso de monitoreo finalizado.
2025-09-11 20:28:10,950 - root - INFO - ExpressATM detenido
2025-09-11 20:28:11,132 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-11 20:28:11,132 - backend.app.scraper - INFO - ‚úì No hay driver activo para cerrar
2025-09-12 14:34:03,878 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-12 14:34:03,879 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 14:34:03,880 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-12 14:34:03,898 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-12 14:34:03,906 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-12 14:34:04,076 - root - INFO - ExpressATM iniciado
2025-09-12 14:34:04,077 - root - INFO - Dashboard disponible
2025-09-12 14:34:04,077 - root - INFO - Documentacion API disponible
2025-09-12 14:34:21,951 - backend.app.scheduler_hybrid - INFO - üîÑ Iniciando iteraci√≥n manual as√≠ncrona (no bloqueante)...
2025-09-12 14:34:21,953 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 14:34:21,953 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 14:34:21,956 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 14:34:21,956 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 14:34:22,973 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 14:34:22,973 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 14:34:22,973 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 14:34:22,973 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 14:34:24,224 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 14:34:24,226 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 14:34:24,226 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 14:34:24,226 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 14:34:24,226 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 14:34:24,227 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 14:34:24,227 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 14:34:24,227 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 14:34:24,230 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 14:34:54,177 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 14:34:54,247 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 14:34:54,564 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 14:34:55,594 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 14:34:57,595 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 14:34:57,598 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 14:34:58,117 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 14:34:58,156 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 14:34:59,657 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 14:34:59,670 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 14:35:00,918 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 14:35:00,918 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 14:35:00,919 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 14:35:11,480 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 14:35:11,484 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 14:35:11,485 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 14:35:11,488 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 14:35:11,488 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 14:35:11,955 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 14:35:14,474 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 14:35:15,119 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 14:35:15,120 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 14:35:15,120 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 14:35:15,121 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 14:35:15,121 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 14:35:15,121 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 14:35:15,391 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 14:35:15,977 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 14:35:18,665 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 14:35:18,665 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 14:35:18,666 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 14:35:18,666 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 14:35:19,014 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 14:35:19,015 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 14:35:19,022 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 14:35:19,039 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 14:35:19,046 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 14:35:19,056 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 14:35:21,056 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 14:35:21,056 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 14:35:21,085 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 14:35:27,175 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 14:35:27,187 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 14:35:28,204 - backend.app.scraper - INFO - Tabla estable con 26 filas
2025-09-12 14:35:28,204 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 14:35:28,205 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 14:35:28,205 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 14:35:28,205 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 14:35:28,211 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 14:35:33,271 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 14:35:33,284 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 14:35:34,314 - backend.app.scraper - INFO - Tabla estable con 26 filas
2025-09-12 14:35:34,315 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 14:35:36,328 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 14:35:36,329 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 14:35:36,359 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 14:35:36,359 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 14:35:36,359 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 14:35:36,367 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 14:35:36,367 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 14:35:36,367 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 14:35:36,459 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$140,062.00', '$133,077.00', '$117,486.00', '$6,985.00']
2025-09-12 14:35:36,467 - backend.app.scraper - INFO - üìä Encontradas 11 filas de datos
2025-09-12 14:35:36,752 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 14:35:36,752 - backend.app.scraper - INFO -    üìä Datos reales detectados: 39
2025-09-12 14:35:36,753 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 16
2025-09-12 14:35:36,753 - backend.app.scraper - INFO -    üìà Calidad de datos: 70.9%
2025-09-12 14:35:36,753 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 14:35:36,753 - backend.app.scraper - INFO - üìà Extra√≠dos 11 registros de datos
2025-09-12 14:35:36,754 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 140062.0, 'prizes': 133077.0, 'prizes_paid': 117486.0, 'balance': 6985.0, 'capture_time': datetime.datetime(2025, 9, 12, 14, 35, 36, 494601)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 22885.0, 'prizes': 17270.0, 'prizes_paid': 3090.0, 'balance': 5615.0, 'capture_time': datetime.datetime(2025, 9, 12, 14, 35, 36, 519597)}]
2025-09-12 14:35:36,754 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 11 registros
2025-09-12 14:35:36,754 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 11 registros obtenidos
2025-09-12 14:35:36,754 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 14:35:36,755 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 14:35:36,755 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 14:35:37,005 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 14:35:37,587 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 14:35:40,298 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 14:35:40,298 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 14:35:40,299 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 14:35:40,299 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 14:35:40,299 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 14:35:40,300 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 14:35:40,300 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 14:35:40,300 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 14:35:40,300 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 14:35:40,300 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 14:35:40,641 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 14:35:40,641 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 14:35:40,645 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 14:35:40,666 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 14:35:40,673 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 14:35:40,694 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 14:35:42,696 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 14:35:42,696 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 14:35:42,708 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 14:35:48,294 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 14:35:48,305 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 14:35:49,321 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 14:35:49,321 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 14:35:49,321 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 14:35:49,321 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 14:35:49,321 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 14:35:49,329 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 14:35:54,383 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 14:35:54,397 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 14:35:55,425 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 14:35:55,425 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 14:35:57,430 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 14:35:57,431 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 14:35:57,450 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 14:35:57,451 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 14:35:57,451 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 14:35:57,456 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 14:35:57,456 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 14:35:57,456 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 14:35:57,546 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$50,070.00', '$43,180.00', '$42,910.00', '$6,890.00']
2025-09-12 14:35:57,551 - backend.app.scraper - INFO - üìä Encontradas 5 filas de datos
2025-09-12 14:35:57,673 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 14:35:57,673 - backend.app.scraper - INFO -    üìä Datos reales detectados: 4
2025-09-12 14:35:57,673 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 21
2025-09-12 14:35:57,674 - backend.app.scraper - INFO -    üìà Calidad de datos: 16.0%
2025-09-12 14:35:57,674 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 14:35:57,674 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 14:35:57,674 - backend.app.scraper - INFO - üìà Extra√≠dos 5 registros de datos
2025-09-12 14:35:57,675 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 50070.0, 'prizes': 43180.0, 'prizes_paid': 42910.0, 'balance': 6890.0, 'capture_time': datetime.datetime(2025, 9, 12, 14, 35, 57, 575281)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 14960.0, 'prizes': 14800.0, 'prizes_paid': 14800.0, 'balance': 160.0, 'capture_time': datetime.datetime(2025, 9, 12, 14, 35, 57, 599218)}]
2025-09-12 14:35:57,675 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 5 registros
2025-09-12 14:35:57,675 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 5 registros obtenidos
2025-09-12 14:35:57,675 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 14:35:57,675 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 11 registros
2025-09-12 14:35:57,676 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 5 registros
2025-09-12 14:35:57,676 - backend.app.scraper - INFO -    üìà TOTAL: 16 registros
2025-09-12 14:35:57,676 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 14:36:00,676 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 14:36:00,676 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 14:36:02,794 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 14:36:02,794 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 14:36:04,798 - backend.app.agency_matcher - INFO - Cargando datos de agencias desde DataAgencias.xlsx
2025-09-12 14:36:04,969 - backend.app.agency_matcher - INFO - Grupos SURIEL identificados: 14
2025-09-12 14:36:04,969 - backend.app.agency_matcher - INFO -   - 150-SURIEL | GRUPO 1
2025-09-12 14:36:04,969 - backend.app.agency_matcher - INFO -   - 151-SURIEL | GRUPO 2
2025-09-12 14:36:04,970 - backend.app.agency_matcher - INFO -   - 152-SURIEL | GRUPO 3
2025-09-12 14:36:04,970 - backend.app.agency_matcher - INFO -   - 153-SURIEL | GRUPO 4
2025-09-12 14:36:04,970 - backend.app.agency_matcher - INFO -   - 154-SURIEL | GRUPO 5
2025-09-12 14:36:04,971 - backend.app.agency_matcher - INFO -   - 155-SURIEL | GRUPO 6
2025-09-12 14:36:04,971 - backend.app.agency_matcher - INFO -   - 161-SURIEL | GRUPO 13
2025-09-12 14:36:04,971 - backend.app.agency_matcher - INFO -   - 184-SURIEL | GRUPO 11
2025-09-12 14:36:04,971 - backend.app.agency_matcher - INFO -   - 185-SURIEL | GRUPO 16 SANTO DOMINGO
2025-09-12 14:36:04,972 - backend.app.agency_matcher - INFO -   - 186-SURIEL | GRUPO 17 CARMEN M .
2025-09-12 14:36:04,972 - backend.app.agency_matcher - INFO -   - 192-SURIEL | GRUPO 18
2025-09-12 14:36:04,972 - backend.app.agency_matcher - INFO -   - 198-SURIEL | GRUPO 19. H.
2025-09-12 14:36:04,973 - backend.app.agency_matcher - INFO -   - 206-GRUPO 20 EL CONVENTO SURIEL
2025-09-12 14:36:04,973 - backend.app.agency_matcher - INFO -   - 211-SURIEL | GRUPO 7 CORALITOS
2025-09-12 14:36:04,973 - backend.app.agency_matcher - INFO - Terminales cargadas: 3513 total, 3195 NO-SURIEL
2025-09-12 14:36:05,370 - backend.app.agency_matcher - INFO - Datos guardados en agencies_data.json
2025-09-12 14:36:05,371 - backend.app.alerts - INFO - Procesando lote 1: 16 agencias
2025-09-12 14:36:05,371 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 14:36:05,382 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 14:36:05,382 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 14:36:05,382 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 14:36:05,383 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 14:36:05,383 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 14:36:05,392 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 14:36:05,392 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 14:36:05,392 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 14:36:05,417 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 16 agencias, 1 alertas en 103.46s
2025-09-12 14:36:05,417 - root - INFO - PID: 6496 - Proceso de monitoreo finalizado.
2025-09-12 15:08:26,819 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-12 15:08:26,819 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 15:08:26,820 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-12 15:08:26,824 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-12 15:08:26,826 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-12 15:08:26,965 - root - INFO - ExpressATM iniciado
2025-09-12 15:08:26,965 - root - INFO - Dashboard disponible
2025-09-12 15:08:26,966 - root - INFO - Documentacion API disponible
2025-09-12 15:08:35,304 - backend.app.scheduler_hybrid - INFO - üîÑ Iniciando iteraci√≥n manual as√≠ncrona (no bloqueante)...
2025-09-12 15:08:35,305 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 15:08:35,306 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 15:08:35,306 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 15:08:35,306 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 15:08:36,312 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 15:08:36,313 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 15:08:36,314 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 15:08:36,315 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 15:08:37,392 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 15:08:37,394 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 15:08:37,394 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 15:08:37,394 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 15:08:37,394 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 15:08:37,394 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 15:08:37,395 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 15:08:37,395 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 15:08:37,398 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 15:08:46,202 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 15:08:46,269 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 15:08:46,319 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 15:09:06,785 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 15:09:08,789 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 15:09:08,801 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 15:09:09,351 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 15:09:09,392 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 15:09:10,893 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 15:09:10,914 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 15:09:12,619 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 15:09:12,619 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 15:09:12,619 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 15:09:23,201 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 15:09:23,210 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 15:09:23,210 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 15:09:23,213 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 15:09:23,214 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 15:09:23,683 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 15:09:26,227 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 15:09:26,891 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 15:09:26,892 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 15:09:26,892 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 15:09:26,893 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 15:09:26,893 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 15:09:26,893 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 15:09:27,189 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 15:09:27,764 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 15:09:30,615 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 15:09:30,615 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 15:09:30,616 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 15:09:30,616 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 15:09:30,964 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 15:09:30,964 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 15:09:30,967 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 15:09:30,984 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 15:09:30,991 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 15:09:31,001 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 15:09:33,002 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 15:09:33,003 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 15:09:33,048 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 15:09:39,097 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 15:09:39,114 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 15:09:40,138 - backend.app.scraper - INFO - Tabla estable con 27 filas
2025-09-12 15:09:40,138 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 15:09:40,139 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 15:09:40,139 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 15:09:40,139 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 15:09:40,147 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 15:09:45,156 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 15:09:45,167 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 15:09:46,195 - backend.app.scraper - INFO - Tabla estable con 27 filas
2025-09-12 15:09:46,195 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 15:09:48,209 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 15:09:48,209 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 15:09:48,238 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 15:09:48,238 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 15:09:48,239 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 15:09:48,247 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 15:09:48,247 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 15:09:48,248 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 15:09:48,354 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$175,522.00', '$170,347.00', '$154,456.00', '$5,175.00']
2025-09-12 15:09:48,362 - backend.app.scraper - INFO - üìä Encontradas 12 filas de datos
2025-09-12 15:09:48,660 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 15:09:48,660 - backend.app.scraper - INFO -    üìä Datos reales detectados: 42
2025-09-12 15:09:48,661 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 18
2025-09-12 15:09:48,661 - backend.app.scraper - INFO -    üìà Calidad de datos: 70.0%
2025-09-12 15:09:48,661 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 15:09:48,662 - backend.app.scraper - INFO - üìà Extra√≠dos 12 registros de datos
2025-09-12 15:09:48,662 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 175522.0, 'prizes': 170347.0, 'prizes_paid': 154456.0, 'balance': 5175.0, 'capture_time': datetime.datetime(2025, 9, 12, 15, 9, 48, 389862)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 22885.0, 'prizes': 17270.0, 'prizes_paid': 3090.0, 'balance': 5615.0, 'capture_time': datetime.datetime(2025, 9, 12, 15, 9, 48, 413963)}]
2025-09-12 15:09:48,662 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 12 registros
2025-09-12 15:09:48,662 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 12 registros obtenidos
2025-09-12 15:09:48,663 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 15:09:48,663 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 15:09:48,663 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 15:09:48,919 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 15:09:49,487 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 15:09:52,296 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 15:09:52,296 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 15:09:52,296 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 15:09:52,297 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 15:09:52,297 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 15:09:52,297 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 15:09:52,297 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 15:09:52,298 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 15:09:52,298 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 15:09:52,298 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 15:09:52,637 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 15:09:52,637 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 15:09:52,642 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 15:09:52,662 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 15:09:52,670 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 15:09:52,691 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 15:09:54,692 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 15:09:54,692 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 15:09:54,702 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 15:10:02,884 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 15:10:02,893 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 15:10:03,911 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 15:10:03,911 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 15:10:03,912 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 15:10:03,912 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 15:10:03,912 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 15:10:03,918 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 15:10:08,962 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 15:10:08,969 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 15:10:09,986 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 15:10:09,986 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 15:10:11,991 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 15:10:11,991 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 15:10:12,021 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 15:10:12,021 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 15:10:12,022 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 15:10:12,029 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 15:10:12,029 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 15:10:12,030 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 15:10:12,120 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$50,470.00', '$43,980.00', '$43,710.00', '$6,490.00']
2025-09-12 15:10:12,124 - backend.app.scraper - INFO - üìä Encontradas 5 filas de datos
2025-09-12 15:10:12,247 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 15:10:12,247 - backend.app.scraper - INFO -    üìä Datos reales detectados: 4
2025-09-12 15:10:12,248 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 21
2025-09-12 15:10:12,248 - backend.app.scraper - INFO -    üìà Calidad de datos: 16.0%
2025-09-12 15:10:12,248 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 15:10:12,249 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 15:10:12,249 - backend.app.scraper - INFO - üìà Extra√≠dos 5 registros de datos
2025-09-12 15:10:12,249 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 50470.0, 'prizes': 43980.0, 'prizes_paid': 43710.0, 'balance': 6490.0, 'capture_time': datetime.datetime(2025, 9, 12, 15, 10, 12, 150021)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 15, 10, 12, 175130)}]
2025-09-12 15:10:12,249 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 5 registros
2025-09-12 15:10:12,250 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 5 registros obtenidos
2025-09-12 15:10:12,250 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 15:10:12,250 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 12 registros
2025-09-12 15:10:12,250 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 5 registros
2025-09-12 15:10:12,251 - backend.app.scraper - INFO -    üìà TOTAL: 17 registros
2025-09-12 15:10:12,251 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 15:10:15,252 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 15:10:15,252 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 15:10:17,377 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 15:10:17,377 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 15:10:19,379 - backend.app.agency_matcher - INFO - Cargando datos de agencias desde DataAgencias.xlsx
2025-09-12 15:10:19,523 - backend.app.agency_matcher - INFO - Grupos SURIEL identificados: 14
2025-09-12 15:10:19,523 - backend.app.agency_matcher - INFO -   - 150-SURIEL | GRUPO 1
2025-09-12 15:10:19,524 - backend.app.agency_matcher - INFO -   - 151-SURIEL | GRUPO 2
2025-09-12 15:10:19,524 - backend.app.agency_matcher - INFO -   - 152-SURIEL | GRUPO 3
2025-09-12 15:10:19,524 - backend.app.agency_matcher - INFO -   - 153-SURIEL | GRUPO 4
2025-09-12 15:10:19,524 - backend.app.agency_matcher - INFO -   - 154-SURIEL | GRUPO 5
2025-09-12 15:10:19,524 - backend.app.agency_matcher - INFO -   - 155-SURIEL | GRUPO 6
2025-09-12 15:10:19,525 - backend.app.agency_matcher - INFO -   - 161-SURIEL | GRUPO 13
2025-09-12 15:10:19,525 - backend.app.agency_matcher - INFO -   - 184-SURIEL | GRUPO 11
2025-09-12 15:10:19,525 - backend.app.agency_matcher - INFO -   - 185-SURIEL | GRUPO 16 SANTO DOMINGO
2025-09-12 15:10:19,525 - backend.app.agency_matcher - INFO -   - 186-SURIEL | GRUPO 17 CARMEN M .
2025-09-12 15:10:19,525 - backend.app.agency_matcher - INFO -   - 192-SURIEL | GRUPO 18
2025-09-12 15:10:19,526 - backend.app.agency_matcher - INFO -   - 198-SURIEL | GRUPO 19. H.
2025-09-12 15:10:19,526 - backend.app.agency_matcher - INFO -   - 206-GRUPO 20 EL CONVENTO SURIEL
2025-09-12 15:10:19,526 - backend.app.agency_matcher - INFO -   - 211-SURIEL | GRUPO 7 CORALITOS
2025-09-12 15:10:19,527 - backend.app.agency_matcher - INFO - Terminales cargadas: 3513 total, 3195 NO-SURIEL
2025-09-12 15:10:19,937 - backend.app.agency_matcher - INFO - Datos guardados en agencies_data.json
2025-09-12 15:10:19,937 - backend.app.alerts - INFO - Procesando lote 1: 17 agencias
2025-09-12 15:10:19,938 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 15:10:19,946 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 15:10:19,946 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 15:10:19,946 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 15:10:19,947 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 15:10:19,947 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 15:10:19,961 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 15:10:19,961 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 15:10:19,962 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 15:10:19,986 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 17 agencias, 1 alertas en 104.68s
2025-09-12 15:10:19,986 - root - INFO - PID: 17440 - Proceso de monitoreo finalizado.
2025-09-12 16:13:41,531 - backend.app.scheduler_hybrid - INFO - Intervalo de monitoreo actualizado a 10 minutos (h√≠brido)
2025-09-12 16:13:42,641 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-12 16:13:42,657 - apscheduler.scheduler - INFO - Added job "HybridMonitoringScheduler.execute_single_iteration" to job store "default"
2025-09-12 16:13:42,657 - apscheduler.scheduler - INFO - Scheduler started
2025-09-12 16:13:42,658 - backend.app.scheduler_hybrid - INFO - ‚úÖ Monitoreo h√≠brido iniciado (intervalo: 10 min)
2025-09-12 16:23:42,654 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 16:23:42 -04)" (scheduled at 2025-09-12 16:23:42.641713-04:00)
2025-09-12 16:23:42,656 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 16:23:42,659 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 16:23:42,661 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 16:23:42,662 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 16:23:43,670 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 16:23:43,672 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 16:23:43,672 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 16:23:44,740 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 16:23:44,741 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 16:23:44,741 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 16:23:44,741 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 16:23:44,741 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 16:23:44,742 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 16:23:44,742 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 16:23:44,742 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 16:23:44,746 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 16:24:14,513 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 16:24:14,570 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 16:24:15,620 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:24:16,474 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-12 16:24:16,487 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 16:24:18,487 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 16:24:18,503 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 16:24:19,028 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 16:24:20,108 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:24:20,126 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-12 16:24:21,627 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 16:24:21,638 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 16:24:26,683 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871bf1c]
	(No symbol) [0x0x7ff6c8774454]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:24:27,977 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-12 16:24:27,977 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 16:24:27,978 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 16:24:38,532 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 16:24:38,537 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 16:24:38,537 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 16:24:38,539 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 16:24:38,539 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 16:24:39,004 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 16:24:41,610 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 16:24:42,269 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 16:24:42,269 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 16:24:42,270 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 16:24:42,271 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 16:24:42,271 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 16:24:42,271 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 16:24:42,532 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 16:24:43,102 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 16:24:45,938 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 16:24:45,938 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 16:24:45,939 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 16:24:45,939 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 16:24:46,300 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 16:24:46,300 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 16:24:46,304 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 16:24:46,326 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 16:24:46,335 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 16:24:46,349 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 16:24:48,351 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 16:24:48,351 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:24:48,361 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:24:55,456 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:24:55,472 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:24:56,510 - backend.app.scraper - INFO - Tabla estable con 30 filas
2025-09-12 16:24:56,512 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 16:24:56,515 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 16:24:56,516 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 16:24:56,517 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:24:56,531 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:25:01,549 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:25:01,577 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:25:02,613 - backend.app.scraper - INFO - Tabla estable con 30 filas
2025-09-12 16:25:02,614 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 16:25:04,627 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 16:25:04,628 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 16:25:04,667 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 16:25:04,667 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 16:25:04,667 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 16:25:04,675 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 16:25:04,675 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 16:25:04,675 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 16:25:04,765 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$229,574.00', '$204,532.00', '$186,218.00', '$25,042.00']
2025-09-12 16:25:04,773 - backend.app.scraper - INFO - üìä Encontradas 15 filas de datos
2025-09-12 16:25:05,151 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 16:25:05,151 - backend.app.scraper - INFO -    üìä Datos reales detectados: 58
2025-09-12 16:25:05,152 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 17
2025-09-12 16:25:05,152 - backend.app.scraper - INFO -    üìà Calidad de datos: 77.3%
2025-09-12 16:25:05,152 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 16:25:05,153 - backend.app.scraper - INFO - üìà Extra√≠dos 15 registros de datos
2025-09-12 16:25:05,153 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 229574.0, 'prizes': 204532.0, 'prizes_paid': 186218.0, 'balance': 25042.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 25, 4, 800387)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 22885.0, 'prizes': 17270.0, 'prizes_paid': 3090.0, 'balance': 5615.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 25, 4, 824323)}]
2025-09-12 16:25:05,153 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 15 registros
2025-09-12 16:25:05,153 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 15 registros obtenidos
2025-09-12 16:25:05,154 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 16:25:05,154 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 16:25:05,154 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 16:25:05,404 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 16:25:05,985 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 16:25:08,696 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 16:25:08,696 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 16:25:08,697 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 16:25:08,697 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 16:25:08,697 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 16:25:08,697 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 16:25:08,698 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 16:25:08,698 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 16:25:08,698 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 16:25:08,698 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 16:25:09,038 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 16:25:09,039 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 16:25:09,050 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 16:25:09,071 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 16:25:09,078 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 16:25:09,091 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 16:25:11,092 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 16:25:11,093 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:25:11,117 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:25:16,140 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:25:16,162 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:25:17,189 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 16:25:17,190 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 16:25:17,191 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 16:25:17,191 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 16:25:17,191 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:25:17,200 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:25:22,228 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:25:22,251 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:25:23,280 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 16:25:23,280 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 16:25:25,294 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 16:25:25,295 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 16:25:25,325 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 16:25:25,325 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 16:25:25,326 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 16:25:25,331 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 16:25:25,331 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 16:25:25,331 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 16:25:25,418 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$51,020.00', '$44,410.00', '$44,050.00', '$6,610.00']
2025-09-12 16:25:25,423 - backend.app.scraper - INFO - üìä Encontradas 5 filas de datos
2025-09-12 16:25:25,565 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 16:25:25,565 - backend.app.scraper - INFO -    üìä Datos reales detectados: 4
2025-09-12 16:25:25,566 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 21
2025-09-12 16:25:25,566 - backend.app.scraper - INFO -    üìà Calidad de datos: 16.0%
2025-09-12 16:25:25,566 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 16:25:25,566 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 16:25:25,567 - backend.app.scraper - INFO - üìà Extra√≠dos 5 registros de datos
2025-09-12 16:25:25,567 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 51020.0, 'prizes': 44410.0, 'prizes_paid': 44050.0, 'balance': 6610.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 25, 25, 447637)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 25, 25, 473167)}]
2025-09-12 16:25:25,567 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 5 registros
2025-09-12 16:25:25,567 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 5 registros obtenidos
2025-09-12 16:25:25,568 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 16:25:25,568 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 15 registros
2025-09-12 16:25:25,568 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 5 registros
2025-09-12 16:25:25,568 - backend.app.scraper - INFO -    üìà TOTAL: 20 registros
2025-09-12 16:25:25,568 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 16:25:28,569 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 16:25:28,569 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 16:25:30,670 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 16:25:30,671 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 16:25:32,675 - backend.app.alerts - INFO - Procesando lote 1: 20 agencias
2025-09-12 16:25:32,676 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 16:25:32,690 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 16:25:32,691 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 16:25:32,691 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 16:25:32,692 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 16:25:32,693 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 16:25:32,693 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 16:25:32,718 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 16:25:32,719 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 16:25:32,719 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 16:25:32,752 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 20 agencias, 3 alertas en 110.09s
2025-09-12 16:25:32,752 - root - INFO - PID: 17440 - Proceso de monitoreo finalizado.
2025-09-12 16:25:32,753 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 16:33:42 -04)" executed successfully
2025-09-12 16:33:42,644 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 16:43:42 -04)" (scheduled at 2025-09-12 16:33:42.641713-04:00)
2025-09-12 16:33:42,645 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 16:33:42,648 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 16:33:42,650 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 16:33:42,651 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 16:33:43,659 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 16:33:43,661 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 16:33:43,661 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 16:33:44,757 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 16:33:44,758 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 16:33:44,759 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 16:33:44,759 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 16:33:44,759 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 16:33:44,759 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 16:33:44,760 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 16:33:44,760 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 16:33:44,763 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 16:33:53,508 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 16:33:53,564 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 16:33:54,614 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:34:14,823 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-12 16:34:14,838 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 16:34:16,839 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 16:34:16,854 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 16:34:17,390 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 16:34:18,436 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:34:18,447 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-12 16:34:19,948 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 16:34:19,972 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 16:34:25,012 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871bf1c]
	(No symbol) [0x0x7ff6c8774454]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:34:26,278 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-12 16:34:26,278 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 16:34:26,279 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 16:34:36,826 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 16:34:36,835 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 16:34:36,835 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 16:34:36,838 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 16:34:36,838 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 16:34:37,307 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 16:34:39,785 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 16:34:40,435 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 16:34:40,436 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 16:34:40,436 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 16:34:40,437 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 16:34:40,437 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 16:34:40,437 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 16:34:40,702 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 16:34:41,286 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 16:34:43,943 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 16:34:43,943 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 16:34:43,944 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 16:34:43,944 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 16:34:44,296 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 16:34:44,296 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 16:34:44,300 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 16:34:44,326 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 16:34:44,334 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 16:34:44,349 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 16:34:46,350 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 16:34:46,350 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:34:46,389 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:34:51,604 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 16:34:51,615 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:34:52,655 - backend.app.scraper - INFO - Tabla estable con 30 filas
2025-09-12 16:34:52,656 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 16:34:52,658 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 16:34:52,659 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 16:34:52,659 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:34:52,669 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:34:57,914 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 16:34:57,920 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:34:58,955 - backend.app.scraper - INFO - Tabla estable con 30 filas
2025-09-12 16:34:58,956 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 16:35:00,971 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 16:35:00,971 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 16:35:01,002 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 16:35:01,003 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 16:35:01,003 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 16:35:01,011 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 16:35:01,011 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 16:35:01,011 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 16:35:01,119 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$0.00', '$0.00', '$0.00', '$0.00']
2025-09-12 16:35:01,128 - backend.app.scraper - INFO - üìä Encontradas 15 filas de datos
2025-09-12 16:35:01,515 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 16:35:01,516 - backend.app.scraper - INFO -    üìä Datos reales detectados: 54
2025-09-12 16:35:01,516 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 21
2025-09-12 16:35:01,517 - backend.app.scraper - INFO -    üìà Calidad de datos: 72.0%
2025-09-12 16:35:01,517 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 16:35:01,517 - backend.app.scraper - INFO - üìà Extra√≠dos 15 registros de datos
2025-09-12 16:35:01,517 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 0.0, 'prizes': 0.0, 'prizes_paid': 0.0, 'balance': 0.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 35, 1, 157405)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 22885.0, 'prizes': 17270.0, 'prizes_paid': 3090.0, 'balance': 5615.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 35, 1, 183336)}]
2025-09-12 16:35:01,518 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 15 registros
2025-09-12 16:35:01,518 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 15 registros obtenidos
2025-09-12 16:35:01,518 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 16:35:01,518 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 16:35:01,518 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 16:35:01,801 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 16:35:02,387 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 16:35:05,270 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 16:35:05,270 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 16:35:05,271 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 16:35:05,271 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 16:35:05,272 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 16:35:05,272 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 16:35:05,272 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 16:35:05,272 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 16:35:05,272 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 16:35:05,273 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 16:35:05,614 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 16:35:05,615 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 16:35:05,639 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 16:35:05,667 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 16:35:05,675 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 16:35:05,687 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 16:35:07,688 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 16:35:07,689 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:35:07,703 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:35:12,935 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 16:35:12,941 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:35:13,975 - backend.app.scraper - INFO - Tabla estable con 16 filas
2025-09-12 16:35:13,976 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 16:35:13,978 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 16:35:13,979 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 16:35:13,980 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:35:13,990 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:35:24,252 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:35:24,264 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:35:25,294 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 16:35:25,294 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 16:35:27,299 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 16:35:27,299 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 16:35:27,331 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 16:35:27,331 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 16:35:27,331 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 16:35:27,339 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 16:35:27,339 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 16:35:27,339 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 16:35:27,431 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$51,105.00', '$44,470.00', '$44,170.00', '$6,635.00']
2025-09-12 16:35:27,436 - backend.app.scraper - INFO - üìä Encontradas 5 filas de datos
2025-09-12 16:35:27,565 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 16:35:27,565 - backend.app.scraper - INFO -    üìä Datos reales detectados: 8
2025-09-12 16:35:27,566 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 17
2025-09-12 16:35:27,566 - backend.app.scraper - INFO -    üìà Calidad de datos: 32.0%
2025-09-12 16:35:27,567 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 16:35:27,567 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 16:35:27,567 - backend.app.scraper - INFO - üìà Extra√≠dos 5 registros de datos
2025-09-12 16:35:27,567 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 51105.0, 'prizes': 44470.0, 'prizes_paid': 44170.0, 'balance': 6635.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 35, 27, 461252)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 35, 27, 486186)}]
2025-09-12 16:35:27,568 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 5 registros
2025-09-12 16:35:27,568 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 5 registros obtenidos
2025-09-12 16:35:27,568 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 16:35:27,568 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 15 registros
2025-09-12 16:35:27,568 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 5 registros
2025-09-12 16:35:27,569 - backend.app.scraper - INFO -    üìà TOTAL: 20 registros
2025-09-12 16:35:27,569 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 16:35:30,571 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 16:35:30,572 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 16:35:32,706 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 16:35:32,707 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 16:35:34,710 - backend.app.alerts - INFO - Procesando lote 1: 20 agencias
2025-09-12 16:35:34,711 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 16:35:34,724 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 16:35:34,724 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 16:35:34,724 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 16:35:34,725 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 16:35:34,725 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 16:35:34,725 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 16:35:34,739 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 16:35:34,740 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 16:35:34,740 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 16:35:34,765 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 20 agencias, 3 alertas en 112.12s
2025-09-12 16:35:34,765 - root - INFO - PID: 17440 - Proceso de monitoreo finalizado.
2025-09-12 16:35:34,766 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 16:43:42 -04)" executed successfully
2025-09-12 16:43:42,651 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 16:53:42 -04)" (scheduled at 2025-09-12 16:43:42.641713-04:00)
2025-09-12 16:43:42,652 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 16:43:42,656 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 16:43:42,656 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 16:43:42,656 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 16:43:43,664 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 16:43:43,665 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 16:43:43,666 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 16:43:44,713 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 16:43:44,715 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 16:43:44,715 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 16:43:44,715 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 16:43:44,715 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 16:43:44,716 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 16:43:44,716 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 16:43:44,716 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 16:43:44,720 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 16:43:53,532 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 16:43:53,589 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 16:43:54,682 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:43:54,940 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-12 16:43:55,462 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 16:43:57,463 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 16:43:57,478 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 16:43:58,011 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 16:43:59,064 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:43:59,076 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-12 16:44:00,577 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 16:44:00,610 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 16:44:05,684 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871bf1c]
	(No symbol) [0x0x7ff6c8774454]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:44:06,889 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-12 16:44:06,889 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 16:44:06,890 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 16:44:17,540 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 16:44:17,548 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 16:44:17,548 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 16:44:17,550 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 16:44:17,551 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 16:44:18,029 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 16:44:20,490 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 16:44:21,149 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 16:44:21,149 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 16:44:21,150 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 16:44:21,150 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 16:44:21,151 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 16:44:21,151 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 16:44:21,420 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 16:44:22,004 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 16:44:24,698 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 16:44:24,699 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 16:44:24,699 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 16:44:24,700 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 16:44:25,052 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 16:44:25,053 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 16:44:25,058 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 16:44:25,078 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 16:44:25,085 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 16:44:25,096 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 16:44:27,097 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 16:44:27,097 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:44:27,107 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:44:33,680 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:44:33,690 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:44:34,722 - backend.app.scraper - INFO - Tabla estable con 30 filas
2025-09-12 16:44:34,722 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 16:44:34,723 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 16:44:34,723 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 16:44:34,723 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:44:34,730 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:44:39,809 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:44:39,822 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:44:40,850 - backend.app.scraper - INFO - Tabla estable con 30 filas
2025-09-12 16:44:40,851 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 16:44:42,864 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 16:44:42,865 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 16:44:42,898 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 16:44:42,898 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 16:44:42,898 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 16:44:42,906 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 16:44:42,906 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 16:44:42,906 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 16:44:42,998 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$235,454.00', '$209,127.00', '$190,688.00', '$26,327.00']
2025-09-12 16:44:43,006 - backend.app.scraper - INFO - üìä Encontradas 15 filas de datos
2025-09-12 16:44:43,390 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 16:44:43,390 - backend.app.scraper - INFO -    üìä Datos reales detectados: 58
2025-09-12 16:44:43,391 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 17
2025-09-12 16:44:43,391 - backend.app.scraper - INFO -    üìà Calidad de datos: 77.3%
2025-09-12 16:44:43,392 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 16:44:43,392 - backend.app.scraper - INFO - üìà Extra√≠dos 15 registros de datos
2025-09-12 16:44:43,392 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 235454.0, 'prizes': 209127.0, 'prizes_paid': 190688.0, 'balance': 26327.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 44, 43, 34361)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 22885.0, 'prizes': 17270.0, 'prizes_paid': 3090.0, 'balance': 5615.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 44, 43, 59294)}]
2025-09-12 16:44:43,392 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 15 registros
2025-09-12 16:44:43,393 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 15 registros obtenidos
2025-09-12 16:44:43,393 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 16:44:43,393 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 16:44:43,393 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 16:44:43,648 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 16:44:44,229 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 16:44:46,990 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 16:44:46,990 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 16:44:46,991 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 16:44:46,991 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 16:44:46,991 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 16:44:46,991 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 16:44:46,992 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 16:44:46,992 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 16:44:46,992 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 16:44:46,992 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 16:44:47,332 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 16:44:47,332 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 16:44:47,337 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 16:44:47,358 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 16:44:47,365 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 16:44:47,378 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 16:44:49,379 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 16:44:49,379 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:44:49,409 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:44:54,432 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:44:54,458 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:44:55,478 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 16:44:55,478 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 16:44:55,479 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 16:44:55,479 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 16:44:55,479 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:44:55,485 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:45:00,533 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:45:00,547 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:45:01,575 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 16:45:01,575 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 16:45:03,589 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 16:45:03,589 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 16:45:03,628 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 16:45:03,628 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 16:45:03,629 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 16:45:03,636 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 16:45:03,637 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 16:45:03,637 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 16:45:03,729 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$51,190.00', '$44,580.00', '$44,310.00', '$6,610.00']
2025-09-12 16:45:03,736 - backend.app.scraper - INFO - üìä Encontradas 5 filas de datos
2025-09-12 16:45:03,858 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 16:45:03,858 - backend.app.scraper - INFO -    üìä Datos reales detectados: 4
2025-09-12 16:45:03,859 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 21
2025-09-12 16:45:03,859 - backend.app.scraper - INFO -    üìà Calidad de datos: 16.0%
2025-09-12 16:45:03,859 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 16:45:03,859 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 16:45:03,859 - backend.app.scraper - INFO - üìà Extra√≠dos 5 registros de datos
2025-09-12 16:45:03,860 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 51190.0, 'prizes': 44580.0, 'prizes_paid': 44310.0, 'balance': 6610.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 45, 3, 760967)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 45, 3, 784903)}]
2025-09-12 16:45:03,860 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 5 registros
2025-09-12 16:45:03,860 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 5 registros obtenidos
2025-09-12 16:45:03,860 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 16:45:03,861 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 15 registros
2025-09-12 16:45:03,861 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 5 registros
2025-09-12 16:45:03,861 - backend.app.scraper - INFO -    üìà TOTAL: 20 registros
2025-09-12 16:45:03,861 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 16:45:06,862 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 16:45:06,863 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 16:45:08,989 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 16:45:08,990 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 16:45:10,993 - backend.app.alerts - INFO - Procesando lote 1: 20 agencias
2025-09-12 16:45:10,994 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 16:45:11,008 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 16:45:11,008 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 16:45:11,009 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 16:45:11,009 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 16:45:11,009 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 16:45:11,009 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 16:45:11,022 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 16:45:11,023 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 16:45:11,024 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 16:45:11,043 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 20 agencias, 0 alertas en 88.39s
2025-09-12 16:45:11,043 - root - INFO - PID: 17440 - Proceso de monitoreo finalizado.
2025-09-12 16:45:11,044 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 16:53:42 -04)" executed successfully
2025-09-12 16:53:42,653 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 17:03:42 -04)" (scheduled at 2025-09-12 16:53:42.641713-04:00)
2025-09-12 16:53:42,653 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 16:53:42,654 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 16:53:42,654 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 16:53:42,655 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 16:53:43,659 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 16:53:43,660 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 16:53:43,660 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 16:53:44,800 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 16:53:44,801 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 16:53:44,801 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 16:53:44,802 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 16:53:44,802 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 16:53:44,802 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 16:53:44,803 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 16:53:44,803 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 16:53:44,808 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 16:53:53,569 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 16:53:53,631 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 16:53:54,722 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:53:55,005 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-12 16:53:56,148 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 16:53:58,149 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 16:53:58,152 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 16:53:58,670 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 16:53:59,701 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:53:59,704 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-12 16:54:01,205 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 16:54:01,212 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 16:54:06,230 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871bf1c]
	(No symbol) [0x0x7ff6c8774454]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 16:54:07,760 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-12 16:54:07,761 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 16:54:07,762 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 16:54:18,383 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 16:54:18,399 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 16:54:18,400 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 16:54:18,407 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 16:54:18,407 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 16:54:18,876 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 16:54:21,297 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 16:54:21,944 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 16:54:21,944 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 16:54:21,945 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 16:54:21,945 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 16:54:21,945 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 16:54:21,945 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 16:54:22,197 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 16:54:22,784 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 16:54:25,475 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 16:54:25,475 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 16:54:25,476 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 16:54:25,476 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 16:54:25,828 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 16:54:25,829 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 16:54:25,833 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 16:54:25,853 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 16:54:25,859 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 16:54:25,871 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 16:54:27,872 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 16:54:27,872 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:54:27,884 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:54:33,944 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:54:33,955 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:54:34,972 - backend.app.scraper - INFO - Tabla estable con 30 filas
2025-09-12 16:54:34,972 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 16:54:34,973 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 16:54:34,974 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 16:54:34,974 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:54:34,980 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:54:40,022 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:54:40,029 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:54:41,043 - backend.app.scraper - INFO - Tabla estable con 30 filas
2025-09-12 16:54:41,043 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 16:54:43,065 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 16:54:43,065 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 16:54:43,093 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 16:54:43,093 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 16:54:43,094 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 16:54:43,101 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 16:54:43,102 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 16:54:43,102 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 16:54:43,195 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$238,999.00', '$212,887.00', '$194,563.00', '$26,112.00']
2025-09-12 16:54:43,202 - backend.app.scraper - INFO - üìä Encontradas 15 filas de datos
2025-09-12 16:54:43,604 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 16:54:43,604 - backend.app.scraper - INFO -    üìä Datos reales detectados: 57
2025-09-12 16:54:43,605 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 18
2025-09-12 16:54:43,605 - backend.app.scraper - INFO -    üìà Calidad de datos: 76.0%
2025-09-12 16:54:43,605 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 16:54:43,605 - backend.app.scraper - INFO - üìà Extra√≠dos 15 registros de datos
2025-09-12 16:54:43,606 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 238999.0, 'prizes': 212887.0, 'prizes_paid': 194563.0, 'balance': 26112.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 54, 43, 230854)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 22885.0, 'prizes': 17270.0, 'prizes_paid': 3090.0, 'balance': 5615.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 54, 43, 255787)}]
2025-09-12 16:54:43,606 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 15 registros
2025-09-12 16:54:43,606 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 15 registros obtenidos
2025-09-12 16:54:43,606 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 16:54:43,607 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 16:54:43,607 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 16:54:43,910 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 16:54:44,481 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 16:54:47,510 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 16:54:47,510 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 16:54:47,511 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 16:54:47,511 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 16:54:47,512 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 16:54:47,512 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 16:54:47,512 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 16:54:47,512 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 16:54:47,512 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 16:54:47,513 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 16:54:47,856 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 16:54:47,857 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 16:54:47,872 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 16:54:47,893 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 16:54:47,899 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 16:54:47,912 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 16:54:49,913 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 16:54:49,913 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:54:49,934 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:54:54,960 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:54:54,973 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:54:55,987 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 16:54:55,987 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 16:54:55,989 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 16:54:55,989 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 16:54:55,989 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 16:54:55,995 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 16:55:01,004 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 16:55:01,010 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 16:55:02,021 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 16:55:02,022 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 16:55:04,025 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 16:55:04,025 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 16:55:04,054 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 16:55:04,054 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 16:55:04,054 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 16:55:04,062 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 16:55:04,062 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 16:55:04,062 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 16:55:04,167 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$51,260.00', '$44,670.00', '$44,400.00', '$6,590.00']
2025-09-12 16:55:04,176 - backend.app.scraper - INFO - üìä Encontradas 5 filas de datos
2025-09-12 16:55:04,320 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 16:55:04,320 - backend.app.scraper - INFO -    üìä Datos reales detectados: 4
2025-09-12 16:55:04,321 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 21
2025-09-12 16:55:04,321 - backend.app.scraper - INFO -    üìà Calidad de datos: 16.0%
2025-09-12 16:55:04,321 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 16:55:04,321 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 16:55:04,321 - backend.app.scraper - INFO - üìà Extra√≠dos 5 registros de datos
2025-09-12 16:55:04,322 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 51260.0, 'prizes': 44670.0, 'prizes_paid': 44400.0, 'balance': 6590.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 55, 4, 206012)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 16, 55, 4, 234932)}]
2025-09-12 16:55:04,322 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 5 registros
2025-09-12 16:55:04,322 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 5 registros obtenidos
2025-09-12 16:55:04,322 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 16:55:04,323 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 15 registros
2025-09-12 16:55:04,323 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 5 registros
2025-09-12 16:55:04,323 - backend.app.scraper - INFO -    üìà TOTAL: 20 registros
2025-09-12 16:55:04,323 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 16:55:07,325 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 16:55:07,325 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 16:55:09,457 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 16:55:09,457 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 16:55:11,459 - backend.app.alerts - INFO - Procesando lote 1: 20 agencias
2025-09-12 16:55:11,459 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 16:55:11,471 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 16:55:11,472 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 16:55:11,472 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 16:55:11,473 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 16:55:11,473 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 16:55:11,473 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 16:55:11,498 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 16:55:11,498 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 16:55:11,499 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 16:55:11,525 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 20 agencias, 0 alertas en 88.87s
2025-09-12 16:55:11,525 - root - INFO - PID: 17440 - Proceso de monitoreo finalizado.
2025-09-12 16:55:11,525 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 17:03:42 -04)" executed successfully
2025-09-12 17:03:42,655 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 17:13:42 -04)" (scheduled at 2025-09-12 17:03:42.641713-04:00)
2025-09-12 17:03:42,656 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 17:03:42,660 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 17:03:42,663 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 17:03:42,664 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 17:03:43,673 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 17:03:43,674 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 17:03:43,674 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 17:03:44,780 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 17:03:44,781 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 17:03:44,781 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 17:03:44,781 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 17:03:44,782 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 17:03:44,782 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 17:03:44,782 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 17:03:44,782 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 17:03:44,786 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 17:03:53,567 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 17:03:53,621 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 17:03:54,707 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:03:55,038 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-12 17:03:56,112 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 17:03:58,112 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 17:03:58,127 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 17:03:58,685 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 17:03:59,732 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:03:59,743 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-12 17:04:01,243 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 17:04:01,270 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 17:04:06,335 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871bf1c]
	(No symbol) [0x0x7ff6c8774454]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:04:07,628 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-12 17:04:07,629 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 17:04:07,629 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 17:04:18,203 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 17:04:18,212 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 17:04:18,212 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 17:04:18,215 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 17:04:18,216 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 17:04:18,682 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 17:04:21,182 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 17:04:21,879 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 17:04:21,879 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 17:04:21,881 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 17:04:21,881 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 17:04:21,881 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 17:04:21,882 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 17:04:22,184 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 17:04:22,783 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 17:04:25,644 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 17:04:25,644 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 17:04:25,645 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 17:04:25,645 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 17:04:25,998 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 17:04:25,999 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 17:04:26,004 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 17:04:26,023 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 17:04:26,031 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 17:04:26,042 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 17:04:28,043 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 17:04:28,043 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:04:28,055 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:04:34,664 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:04:34,697 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:04:35,731 - backend.app.scraper - INFO - Tabla estable con 31 filas
2025-09-12 17:04:35,731 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 17:04:35,732 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 17:04:35,733 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 17:04:35,733 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:04:35,740 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:04:40,756 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:04:40,778 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:04:41,808 - backend.app.scraper - INFO - Tabla estable con 31 filas
2025-09-12 17:04:41,808 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 17:04:43,822 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 17:04:43,822 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 17:04:43,861 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 17:04:43,861 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 17:04:43,862 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 17:04:43,869 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 17:04:43,870 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 17:04:43,870 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 17:04:43,961 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$252,536.00', '$216,118.00', '$197,754.00', '$36,418.00']
2025-09-12 17:04:43,969 - backend.app.scraper - INFO - üìä Encontradas 16 filas de datos
2025-09-12 17:04:44,385 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 17:04:44,386 - backend.app.scraper - INFO -    üìä Datos reales detectados: 63
2025-09-12 17:04:44,386 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 17
2025-09-12 17:04:44,386 - backend.app.scraper - INFO -    üìà Calidad de datos: 78.8%
2025-09-12 17:04:44,387 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 17:04:44,387 - backend.app.scraper - INFO - üìà Extra√≠dos 16 registros de datos
2025-09-12 17:04:44,387 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 252536.0, 'prizes': 216118.0, 'prizes_paid': 197754.0, 'balance': 36418.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 4, 43, 997084)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 23785.0, 'prizes': 17270.0, 'prizes_paid': 3090.0, 'balance': 6515.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 4, 44, 21019)}]
2025-09-12 17:04:44,388 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 16 registros
2025-09-12 17:04:44,388 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 16 registros obtenidos
2025-09-12 17:04:44,388 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 17:04:44,388 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 17:04:44,388 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 17:04:44,655 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 17:04:45,238 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 17:04:47,995 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 17:04:47,995 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 17:04:47,996 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 17:04:47,996 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 17:04:47,996 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 17:04:47,996 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 17:04:47,997 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 17:04:47,997 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 17:04:47,997 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 17:04:47,997 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 17:04:48,339 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 17:04:48,339 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 17:04:48,344 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 17:04:48,366 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 17:04:48,374 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 17:04:48,387 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 17:04:50,388 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 17:04:50,389 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:04:50,409 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:04:55,948 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:04:55,962 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:04:56,990 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 17:04:56,990 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 17:04:56,991 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 17:04:56,991 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 17:04:56,991 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:04:56,998 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:05:02,033 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:05:02,056 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:05:03,084 - backend.app.scraper - INFO - Tabla estable con 20 filas
2025-09-12 17:05:03,085 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 17:05:05,090 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 17:05:05,090 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 17:05:05,118 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 17:05:05,118 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 17:05:05,119 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 17:05:05,127 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 17:05:05,127 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 17:05:05,127 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 17:05:05,218 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$51,260.00', '$44,670.00', '$44,400.00', '$6,590.00']
2025-09-12 17:05:05,225 - backend.app.scraper - INFO - üìä Encontradas 5 filas de datos
2025-09-12 17:05:05,350 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 17:05:05,350 - backend.app.scraper - INFO -    üìä Datos reales detectados: 4
2025-09-12 17:05:05,350 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 21
2025-09-12 17:05:05,351 - backend.app.scraper - INFO -    üìà Calidad de datos: 16.0%
2025-09-12 17:05:05,351 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 17:05:05,351 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 17:05:05,351 - backend.app.scraper - INFO - üìà Extra√≠dos 5 registros de datos
2025-09-12 17:05:05,352 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 51260.0, 'prizes': 44670.0, 'prizes_paid': 44400.0, 'balance': 6590.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 5, 5, 250808)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 5, 5, 275741)}]
2025-09-12 17:05:05,352 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 5 registros
2025-09-12 17:05:05,352 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 5 registros obtenidos
2025-09-12 17:05:05,352 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 17:05:05,353 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 16 registros
2025-09-12 17:05:05,353 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 5 registros
2025-09-12 17:05:05,353 - backend.app.scraper - INFO -    üìà TOTAL: 21 registros
2025-09-12 17:05:05,353 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 17:05:08,354 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 17:05:08,354 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 17:05:10,471 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 17:05:10,472 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 17:05:12,475 - backend.app.alerts - INFO - Procesando lote 1: 21 agencias
2025-09-12 17:05:12,476 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 17:05:12,489 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 17:05:12,489 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 17:05:12,489 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 17:05:12,490 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 17:05:12,490 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 17:05:12,490 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 17:05:12,507 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 17:05:12,508 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 17:05:12,508 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 17:05:12,531 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 21 agencias, 1 alertas en 89.87s
2025-09-12 17:05:12,531 - root - INFO - PID: 17440 - Proceso de monitoreo finalizado.
2025-09-12 17:05:12,532 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 17:13:42 -04)" executed successfully
2025-09-12 17:08:26,659 - root - INFO - ExpressATM detenido
2025-09-12 17:08:46,722 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-12 17:08:46,723 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 17:08:46,724 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-12 17:08:46,728 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-12 17:08:46,736 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-12 17:08:46,885 - root - INFO - ExpressATM iniciado
2025-09-12 17:08:46,885 - root - INFO - Dashboard disponible
2025-09-12 17:08:46,886 - root - INFO - Documentacion API disponible
2025-09-12 17:13:35,237 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-12 17:13:35,237 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 17:13:35,238 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-12 17:13:35,242 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-12 17:13:35,245 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-12 17:13:35,384 - root - INFO - ExpressATM iniciado
2025-09-12 17:13:35,384 - root - INFO - Dashboard disponible
2025-09-12 17:13:35,385 - root - INFO - Documentacion API disponible
2025-09-12 17:14:16,643 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-12 17:14:16,643 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 17:14:16,644 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-12 17:14:16,648 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-12 17:14:16,651 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-12 17:14:16,790 - root - INFO - ExpressATM iniciado
2025-09-12 17:14:16,790 - root - INFO - Dashboard disponible
2025-09-12 17:14:16,790 - root - INFO - Documentacion API disponible
2025-09-12 17:15:13,568 - backend.app.scheduler_hybrid - INFO - Intervalo de monitoreo actualizado a 10 minutos (h√≠brido)
2025-09-12 17:15:14,851 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-12 17:15:14,855 - apscheduler.scheduler - INFO - Added job "HybridMonitoringScheduler.execute_single_iteration" to job store "default"
2025-09-12 17:15:14,856 - apscheduler.scheduler - INFO - Scheduler started
2025-09-12 17:15:14,856 - backend.app.scheduler_hybrid - INFO - ‚úÖ Monitoreo h√≠brido iniciado (intervalo: 10 min)
2025-09-12 17:16:09,754 - backend.app.alerts - INFO - Alerta 1455 marcada como reportada
2025-09-12 17:16:27,771 - backend.app.alerts - INFO - Alerta 1461 marcada como reportada
2025-09-12 17:16:27,782 - backend.app.alerts - INFO - Alerta 1456 marcada como reportada
2025-09-12 17:25:14,857 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 17:25:14 -04)" (scheduled at 2025-09-12 17:25:14.851572-04:00)
2025-09-12 17:25:14,859 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 17:25:14,862 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 17:25:14,864 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 17:25:14,865 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 17:25:15,886 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 17:25:15,886 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 17:25:15,889 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 17:25:15,889 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 17:25:17,000 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 17:25:17,001 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 17:25:17,001 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 17:25:17,001 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 17:25:17,002 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 17:25:17,002 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 17:25:17,002 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 17:25:17,002 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 17:25:17,006 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 17:25:25,789 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 17:25:25,853 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 17:25:26,947 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:25:27,316 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-12 17:25:27,907 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 17:25:29,909 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 17:25:29,913 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 17:25:30,434 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 17:25:31,458 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:25:31,463 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-12 17:25:32,964 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 17:25:32,973 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 17:25:38,020 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871bf1c]
	(No symbol) [0x0x7ff6c8774454]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:25:39,313 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-12 17:25:39,313 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 17:25:39,313 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 17:25:49,902 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 17:25:49,918 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 17:25:49,918 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 17:25:49,922 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 17:25:49,922 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 17:25:50,383 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 17:25:52,874 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 17:25:53,523 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 17:25:53,524 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 17:25:53,524 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 17:25:53,525 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 17:25:53,525 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 17:25:53,525 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 17:25:53,777 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 17:25:54,364 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 17:25:57,154 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 17:25:57,154 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 17:25:57,155 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 17:25:57,155 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 17:25:57,507 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 17:25:57,508 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 17:25:57,524 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 17:25:57,548 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 17:25:57,555 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 17:25:57,569 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 17:25:59,570 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 17:25:59,571 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:25:59,609 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:26:06,199 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:26:06,217 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:26:07,251 - backend.app.scraper - INFO - Tabla estable con 32 filas
2025-09-12 17:26:07,251 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 17:26:07,252 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 17:26:07,252 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 17:26:07,252 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:26:07,259 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:26:12,320 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:26:12,326 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:26:13,355 - backend.app.scraper - INFO - Tabla estable con 32 filas
2025-09-12 17:26:13,355 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 17:26:15,370 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 17:26:15,371 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 17:26:15,409 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 17:26:15,409 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 17:26:15,410 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 17:26:15,418 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 17:26:15,418 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 17:26:15,418 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 17:26:15,524 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$279,400.00', '$239,523.00', '$221,522.00', '$39,877.00']
2025-09-12 17:26:15,532 - backend.app.scraper - INFO - üìä Encontradas 17 filas de datos
2025-09-12 17:26:15,945 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 17:26:15,945 - backend.app.scraper - INFO -    üìä Datos reales detectados: 67
2025-09-12 17:26:15,946 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 18
2025-09-12 17:26:15,946 - backend.app.scraper - INFO -    üìà Calidad de datos: 78.8%
2025-09-12 17:26:15,947 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 17:26:15,947 - backend.app.scraper - INFO - üìà Extra√≠dos 17 registros de datos
2025-09-12 17:26:15,947 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 279400.0, 'prizes': 239523.0, 'prizes_paid': 221522.0, 'balance': 39877.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 26, 15, 559391)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 24685.0, 'prizes': 17270.0, 'prizes_paid': 3090.0, 'balance': 7415.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 26, 15, 583327)}]
2025-09-12 17:26:15,947 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 17 registros
2025-09-12 17:26:15,948 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 17 registros obtenidos
2025-09-12 17:26:15,948 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 17:26:15,948 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 17:26:15,948 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 17:26:16,225 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 17:26:16,831 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 17:26:19,566 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 17:26:19,566 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 17:26:19,566 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 17:26:19,567 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 17:26:19,567 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 17:26:19,567 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 17:26:19,567 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 17:26:19,568 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 17:26:19,568 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 17:26:19,568 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 17:26:19,908 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 17:26:19,909 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 17:26:19,915 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 17:26:19,936 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 17:26:19,944 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 17:26:19,957 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 17:26:21,959 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 17:26:21,959 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:26:21,972 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:26:27,035 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:26:27,042 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:26:28,056 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-12 17:26:28,056 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 17:26:28,057 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 17:26:28,058 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 17:26:28,058 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:26:28,064 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:26:33,119 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:26:33,127 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:26:34,155 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-12 17:26:34,155 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 17:26:36,160 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 17:26:36,160 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 17:26:36,181 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 17:26:36,182 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 17:26:36,182 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 17:26:36,186 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 17:26:36,187 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 17:26:36,187 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 17:26:36,274 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$62,165.00', '$56,730.00', '$56,460.00', '$5,435.00']
2025-09-12 17:26:36,279 - backend.app.scraper - INFO - üìä Encontradas 6 filas de datos
2025-09-12 17:26:36,425 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 17:26:36,425 - backend.app.scraper - INFO -    üìä Datos reales detectados: 9
2025-09-12 17:26:36,426 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 21
2025-09-12 17:26:36,426 - backend.app.scraper - INFO -    üìà Calidad de datos: 30.0%
2025-09-12 17:26:36,426 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 17:26:36,426 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 17:26:36,427 - backend.app.scraper - INFO - üìà Extra√≠dos 6 registros de datos
2025-09-12 17:26:36,427 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 62165.0, 'prizes': 56730.0, 'prizes_paid': 56460.0, 'balance': 5435.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 26, 36, 303853)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 26, 36, 327788)}]
2025-09-12 17:26:36,427 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 6 registros
2025-09-12 17:26:36,427 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 6 registros obtenidos
2025-09-12 17:26:36,428 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 17:26:36,428 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 17 registros
2025-09-12 17:26:36,428 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 6 registros
2025-09-12 17:26:36,428 - backend.app.scraper - INFO -    üìà TOTAL: 23 registros
2025-09-12 17:26:36,428 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 17:26:39,430 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 17:26:39,430 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 17:26:41,554 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 17:26:41,554 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 17:26:43,556 - backend.app.agency_matcher - INFO - Cargando datos de agencias desde DataAgencias.xlsx
2025-09-12 17:26:43,711 - backend.app.agency_matcher - INFO - Grupos SURIEL identificados: 14
2025-09-12 17:26:43,712 - backend.app.agency_matcher - INFO -   - 150-SURIEL | GRUPO 1
2025-09-12 17:26:43,713 - backend.app.agency_matcher - INFO -   - 151-SURIEL | GRUPO 2
2025-09-12 17:26:43,713 - backend.app.agency_matcher - INFO -   - 152-SURIEL | GRUPO 3
2025-09-12 17:26:43,714 - backend.app.agency_matcher - INFO -   - 153-SURIEL | GRUPO 4
2025-09-12 17:26:43,714 - backend.app.agency_matcher - INFO -   - 154-SURIEL | GRUPO 5
2025-09-12 17:26:43,714 - backend.app.agency_matcher - INFO -   - 155-SURIEL | GRUPO 6
2025-09-12 17:26:43,714 - backend.app.agency_matcher - INFO -   - 161-SURIEL | GRUPO 13
2025-09-12 17:26:43,715 - backend.app.agency_matcher - INFO -   - 184-SURIEL | GRUPO 11
2025-09-12 17:26:43,715 - backend.app.agency_matcher - INFO -   - 185-SURIEL | GRUPO 16 SANTO DOMINGO
2025-09-12 17:26:43,715 - backend.app.agency_matcher - INFO -   - 186-SURIEL | GRUPO 17 CARMEN M .
2025-09-12 17:26:43,716 - backend.app.agency_matcher - INFO -   - 192-SURIEL | GRUPO 18
2025-09-12 17:26:43,716 - backend.app.agency_matcher - INFO -   - 198-SURIEL | GRUPO 19. H.
2025-09-12 17:26:43,716 - backend.app.agency_matcher - INFO -   - 206-GRUPO 20 EL CONVENTO SURIEL
2025-09-12 17:26:43,722 - backend.app.agency_matcher - INFO -   - 211-SURIEL | GRUPO 7 CORALITOS
2025-09-12 17:26:43,723 - backend.app.agency_matcher - INFO - Terminales cargadas: 3513 total, 3195 NO-SURIEL
2025-09-12 17:26:44,139 - backend.app.agency_matcher - INFO - Datos guardados en agencies_data.json
2025-09-12 17:26:44,140 - backend.app.alerts - INFO - Procesando lote 1: 23 agencias
2025-09-12 17:26:44,140 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 17:26:44,149 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 17:26:44,149 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 17:26:44,149 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 17:26:44,149 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 17:26:44,150 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 17:26:44,150 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 17:26:44,150 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 17:26:44,165 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 17:26:44,166 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 17:26:44,166 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 17:26:44,190 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 23 agencias, 0 alertas en 89.33s
2025-09-12 17:26:44,190 - root - INFO - PID: 13880 - Proceso de monitoreo finalizado.
2025-09-12 17:26:44,191 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 17:35:14 -04)" executed successfully
2025-09-12 17:35:14,855 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 17:45:14 -04)" (scheduled at 2025-09-12 17:35:14.851572-04:00)
2025-09-12 17:35:14,858 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 17:35:14,863 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 17:35:14,863 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 17:35:14,863 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 17:35:15,872 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 17:35:15,873 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 17:35:15,873 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 17:35:16,971 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 17:35:16,972 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 17:35:16,972 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 17:35:16,972 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 17:35:16,973 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 17:35:16,973 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 17:35:16,973 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 17:35:16,974 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 17:35:16,977 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 17:35:25,742 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 17:35:25,804 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 17:35:26,902 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:35:27,255 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-12 17:35:28,531 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 17:35:30,531 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 17:35:30,543 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 17:35:31,071 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 17:35:32,156 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:35:32,168 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-12 17:35:33,668 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 17:35:33,692 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 17:35:38,756 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871bf1c]
	(No symbol) [0x0x7ff6c8774454]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:35:39,948 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-12 17:35:39,948 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 17:35:39,949 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 17:35:50,489 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 17:35:50,498 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 17:35:50,499 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 17:35:50,502 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 17:35:50,502 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 17:35:50,971 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 17:35:53,467 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 17:35:54,124 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 17:35:54,124 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 17:35:54,125 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 17:35:54,125 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 17:35:54,125 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 17:35:54,125 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 17:35:54,392 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 17:35:54,965 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 17:35:57,784 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 17:35:57,784 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 17:35:57,785 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 17:35:57,785 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 17:35:58,139 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 17:35:58,139 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 17:35:58,142 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 17:35:58,158 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 17:35:58,165 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 17:35:58,175 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 17:36:00,176 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 17:36:00,176 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:36:00,188 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:36:05,232 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:36:05,241 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:36:06,258 - backend.app.scraper - INFO - Tabla estable con 33 filas
2025-09-12 17:36:06,258 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 17:36:06,260 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 17:36:06,260 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 17:36:06,260 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:36:06,265 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:36:11,300 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:36:11,307 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:36:12,327 - backend.app.scraper - INFO - Tabla estable con 33 filas
2025-09-12 17:36:12,328 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 17:36:14,341 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 17:36:14,341 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 17:36:14,373 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 17:36:14,373 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 17:36:14,373 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 17:36:14,381 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 17:36:14,381 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 17:36:14,381 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 17:36:14,471 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$300,290.00', '$260,802.00', '$256,348.00', '$39,488.00']
2025-09-12 17:36:14,479 - backend.app.scraper - INFO - üìä Encontradas 18 filas de datos
2025-09-12 17:36:14,932 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 17:36:14,932 - backend.app.scraper - INFO -    üìä Datos reales detectados: 70
2025-09-12 17:36:14,933 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 20
2025-09-12 17:36:14,933 - backend.app.scraper - INFO -    üìà Calidad de datos: 77.8%
2025-09-12 17:36:14,933 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 17:36:14,933 - backend.app.scraper - INFO - üìà Extra√≠dos 18 registros de datos
2025-09-12 17:36:14,933 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 300290.0, 'prizes': 260802.0, 'prizes_paid': 256348.0, 'balance': 39488.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 36, 14, 507959)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 24685.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 7415.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 36, 14, 531895)}]
2025-09-12 17:36:14,934 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 18 registros
2025-09-12 17:36:14,934 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 18 registros obtenidos
2025-09-12 17:36:14,934 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 17:36:14,934 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 17:36:14,935 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 17:36:15,181 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 17:36:15,761 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 17:36:18,501 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 17:36:18,501 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 17:36:18,502 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 17:36:18,502 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 17:36:18,502 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 17:36:18,502 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 17:36:18,502 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 17:36:18,503 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 17:36:18,503 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 17:36:18,503 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 17:36:18,844 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 17:36:18,845 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 17:36:18,862 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 17:36:18,883 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 17:36:18,890 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 17:36:18,903 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 17:36:20,905 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 17:36:20,905 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:36:20,915 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:36:26,473 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:36:26,490 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:36:27,514 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-12 17:36:27,514 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 17:36:27,515 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 17:36:27,515 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 17:36:27,515 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:36:27,522 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:36:32,560 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:36:32,566 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:36:33,598 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-12 17:36:33,600 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 17:36:35,616 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 17:36:35,616 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 17:36:35,655 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 17:36:35,655 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 17:36:35,656 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 17:36:35,664 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 17:36:35,664 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 17:36:35,664 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 17:36:35,755 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$62,950.00', '$56,730.00', '$56,460.00', '$6,220.00']
2025-09-12 17:36:35,763 - backend.app.scraper - INFO - üìä Encontradas 6 filas de datos
2025-09-12 17:36:35,909 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 17:36:35,909 - backend.app.scraper - INFO -    üìä Datos reales detectados: 5
2025-09-12 17:36:35,910 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-12 17:36:35,910 - backend.app.scraper - INFO -    üìà Calidad de datos: 16.7%
2025-09-12 17:36:35,910 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 17:36:35,911 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 17:36:35,911 - backend.app.scraper - INFO - üìà Extra√≠dos 6 registros de datos
2025-09-12 17:36:35,911 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 62950.0, 'prizes': 56730.0, 'prizes_paid': 56460.0, 'balance': 6220.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 36, 35, 788378)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 36, 35, 812314)}]
2025-09-12 17:36:35,911 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 6 registros
2025-09-12 17:36:35,912 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 6 registros obtenidos
2025-09-12 17:36:35,912 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 17:36:35,912 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 18 registros
2025-09-12 17:36:35,912 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 6 registros
2025-09-12 17:36:35,912 - backend.app.scraper - INFO -    üìà TOTAL: 24 registros
2025-09-12 17:36:35,913 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 17:36:38,913 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 17:36:38,914 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 17:36:41,033 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 17:36:41,034 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 17:36:43,035 - backend.app.alerts - INFO - Procesando lote 1: 24 agencias
2025-09-12 17:36:43,036 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 17:36:43,043 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 17:36:43,044 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 17:36:43,044 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 17:36:43,045 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 17:36:43,045 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 17:36:43,045 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 17:36:43,045 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 17:36:43,063 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 17:36:43,063 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 17:36:43,064 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 17:36:43,091 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 24 agencias, 1 alertas en 88.23s
2025-09-12 17:36:43,091 - root - INFO - PID: 13880 - Proceso de monitoreo finalizado.
2025-09-12 17:36:43,092 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 17:45:14 -04)" executed successfully
2025-09-12 17:45:14,859 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 17:55:14 -04)" (scheduled at 2025-09-12 17:45:14.851572-04:00)
2025-09-12 17:45:14,860 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 17:45:14,863 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 17:45:14,864 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 17:45:14,866 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 17:45:15,871 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 17:45:15,873 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 17:45:15,873 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 17:45:16,981 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 17:45:16,982 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 17:45:16,982 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 17:45:16,983 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 17:45:16,983 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 17:45:16,983 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 17:45:16,983 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 17:45:16,984 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 17:45:16,987 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 17:45:25,793 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 17:45:25,851 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 17:45:26,899 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:45:27,337 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-12 17:45:28,335 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 17:45:30,335 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 17:45:30,350 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 17:45:30,904 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 17:45:31,952 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:45:31,964 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-12 17:45:33,464 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 17:45:33,488 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 17:45:38,529 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871bf1c]
	(No symbol) [0x0x7ff6c8774454]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:45:39,743 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-12 17:45:39,743 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 17:45:39,744 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 17:45:50,302 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 17:45:50,310 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 17:45:50,310 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 17:45:50,313 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 17:45:50,314 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 17:45:50,790 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 17:45:53,215 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 17:45:53,865 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 17:45:53,865 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 17:45:53,866 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 17:45:53,866 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 17:45:53,866 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 17:45:53,866 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 17:45:54,121 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 17:45:54,702 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 17:45:57,504 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 17:45:57,504 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 17:45:57,505 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 17:45:57,505 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 17:45:57,859 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 17:45:57,859 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 17:45:57,863 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 17:45:57,879 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 17:45:57,886 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 17:45:57,895 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 17:45:59,896 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 17:45:59,896 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:45:59,908 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:46:07,529 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:46:07,542 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:46:08,572 - backend.app.scraper - INFO - Tabla estable con 33 filas
2025-09-12 17:46:08,572 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 17:46:08,573 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 17:46:08,573 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 17:46:08,574 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:46:08,581 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:46:13,609 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:46:13,617 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:46:14,645 - backend.app.scraper - INFO - Tabla estable con 33 filas
2025-09-12 17:46:14,645 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 17:46:16,658 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 17:46:16,660 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 17:46:16,703 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 17:46:16,703 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 17:46:16,704 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 17:46:16,714 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 17:46:16,714 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 17:46:16,715 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 17:46:16,815 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$316,117.00', '$281,965.00', '$269,966.00', '$34,152.00']
2025-09-12 17:46:16,824 - backend.app.scraper - INFO - üìä Encontradas 18 filas de datos
2025-09-12 17:46:17,286 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 17:46:17,287 - backend.app.scraper - INFO -    üìä Datos reales detectados: 73
2025-09-12 17:46:17,287 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 17
2025-09-12 17:46:17,287 - backend.app.scraper - INFO -    üìà Calidad de datos: 81.1%
2025-09-12 17:46:17,288 - backend.app.scraper - INFO - ‚úÖ üéâ ML CONFIRMA: Datos de alta calidad extra√≠dos
2025-09-12 17:46:17,288 - backend.app.scraper - INFO - üìà Extra√≠dos 18 registros de datos
2025-09-12 17:46:17,288 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 316117.0, 'prizes': 281965.0, 'prizes_paid': 269966.0, 'balance': 34152.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 46, 16, 854053)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 27685.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 10415.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 46, 16, 877989)}]
2025-09-12 17:46:17,288 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 18 registros
2025-09-12 17:46:17,289 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 18 registros obtenidos
2025-09-12 17:46:17,289 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 17:46:17,289 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 17:46:17,289 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 17:46:17,545 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 17:46:18,127 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 17:46:20,886 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 17:46:20,886 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 17:46:20,887 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 17:46:20,887 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 17:46:20,887 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 17:46:20,887 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 17:46:20,888 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 17:46:20,888 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 17:46:20,888 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 17:46:20,888 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 17:46:21,231 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 17:46:21,231 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 17:46:21,238 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 17:46:21,258 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 17:46:21,264 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 17:46:21,278 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 17:46:23,278 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 17:46:23,278 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:46:23,294 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:46:28,365 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:46:28,379 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:46:29,401 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-12 17:46:29,401 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 17:46:29,402 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 17:46:29,402 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 17:46:29,403 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:46:29,409 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:46:34,460 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:46:34,474 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:46:35,503 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-12 17:46:35,504 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 17:46:37,517 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 17:46:37,518 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 17:46:37,550 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 17:46:37,550 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 17:46:37,551 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 17:46:37,558 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 17:46:37,558 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 17:46:37,558 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 17:46:37,646 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$63,340.00', '$58,170.00', '$57,900.00', '$5,170.00']
2025-09-12 17:46:37,654 - backend.app.scraper - INFO - üìä Encontradas 6 filas de datos
2025-09-12 17:46:37,797 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 17:46:37,797 - backend.app.scraper - INFO -    üìä Datos reales detectados: 5
2025-09-12 17:46:37,798 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-12 17:46:37,798 - backend.app.scraper - INFO -    üìà Calidad de datos: 16.7%
2025-09-12 17:46:37,799 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 17:46:37,799 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 17:46:37,799 - backend.app.scraper - INFO - üìà Extra√≠dos 6 registros de datos
2025-09-12 17:46:37,799 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 63340.0, 'prizes': 58170.0, 'prizes_paid': 57900.0, 'balance': 5170.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 46, 37, 678498)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 46, 37, 702434)}]
2025-09-12 17:46:37,800 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 6 registros
2025-09-12 17:46:37,800 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 6 registros obtenidos
2025-09-12 17:46:37,800 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 17:46:37,800 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 18 registros
2025-09-12 17:46:37,800 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 6 registros
2025-09-12 17:46:37,801 - backend.app.scraper - INFO -    üìà TOTAL: 24 registros
2025-09-12 17:46:37,801 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 17:46:40,802 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 17:46:40,802 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 17:46:42,907 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 17:46:42,908 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 17:46:44,911 - backend.app.alerts - INFO - Procesando lote 1: 24 agencias
2025-09-12 17:46:44,912 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 17:46:44,923 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 17:46:44,924 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 17:46:44,925 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 17:46:44,925 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 17:46:44,925 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 17:46:44,925 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 17:46:44,925 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 17:46:44,942 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 17:46:44,942 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 17:46:44,942 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 17:46:44,967 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 24 agencias, 1 alertas en 90.10s
2025-09-12 17:46:44,967 - root - INFO - PID: 13880 - Proceso de monitoreo finalizado.
2025-09-12 17:46:44,968 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 17:55:14 -04)" executed successfully
2025-09-12 17:55:14,863 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 18:05:14 -04)" (scheduled at 2025-09-12 17:55:14.851572-04:00)
2025-09-12 17:55:14,864 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 17:55:14,867 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 17:55:14,868 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 17:55:14,869 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 17:55:15,880 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 17:55:15,884 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 17:55:15,884 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 17:55:16,968 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 17:55:16,969 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 17:55:16,970 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 17:55:16,970 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 17:55:16,970 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 17:55:16,971 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 17:55:16,971 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 17:55:16,971 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 17:55:16,975 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 17:55:25,793 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 17:55:25,858 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 17:55:26,958 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:55:27,251 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-12 17:55:27,997 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 17:55:29,998 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 17:55:30,003 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 17:55:30,524 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 17:55:31,592 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:55:31,598 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-12 17:55:33,099 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 17:55:33,113 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 17:55:38,134 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871bf1c]
	(No symbol) [0x0x7ff6c8774454]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 17:55:39,393 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-12 17:55:39,393 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 17:55:39,394 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 17:55:49,960 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 17:55:49,963 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 17:55:49,963 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 17:55:49,966 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 17:55:49,966 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 17:55:50,437 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 17:55:53,015 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 17:55:53,693 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 17:55:53,694 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 17:55:53,694 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 17:55:53,695 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 17:55:53,695 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 17:55:53,695 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 17:55:53,987 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 17:55:54,576 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 17:55:57,537 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 17:55:57,537 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 17:55:57,538 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 17:55:57,538 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 17:55:57,892 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 17:55:57,892 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 17:55:57,898 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 17:55:57,920 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 17:55:57,926 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 17:55:57,940 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 17:55:59,941 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 17:55:59,941 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:55:59,957 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:56:07,544 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:56:07,554 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:56:08,581 - backend.app.scraper - INFO - Tabla estable con 33 filas
2025-09-12 17:56:08,581 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 17:56:08,582 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 17:56:08,582 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 17:56:08,582 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:56:08,588 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:56:13,653 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:56:13,665 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:56:14,702 - backend.app.scraper - INFO - Tabla estable con 33 filas
2025-09-12 17:56:14,703 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 17:56:16,708 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 17:56:16,708 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 17:56:16,740 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 17:56:16,740 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 17:56:16,741 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 17:56:16,749 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 17:56:16,749 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 17:56:16,750 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 17:56:16,849 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$330,662.00', '$287,316.00', '$279,410.00', '$43,346.00']
2025-09-12 17:56:16,857 - backend.app.scraper - INFO - üìä Encontradas 18 filas de datos
2025-09-12 17:56:17,358 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 17:56:17,358 - backend.app.scraper - INFO -    üìä Datos reales detectados: 70
2025-09-12 17:56:17,359 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 20
2025-09-12 17:56:17,359 - backend.app.scraper - INFO -    üìà Calidad de datos: 77.8%
2025-09-12 17:56:17,359 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 17:56:17,359 - backend.app.scraper - INFO - üìà Extra√≠dos 18 registros de datos
2025-09-12 17:56:17,361 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 330662.0, 'prizes': 287316.0, 'prizes_paid': 279410.0, 'balance': 43346.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 56, 16, 888125)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 29185.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 11915.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 56, 16, 914284)}]
2025-09-12 17:56:17,361 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 18 registros
2025-09-12 17:56:17,361 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 18 registros obtenidos
2025-09-12 17:56:17,361 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 17:56:17,361 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 17:56:17,362 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 17:56:17,642 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 17:56:18,243 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 17:56:21,230 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 17:56:21,230 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 17:56:21,231 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 17:56:21,231 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 17:56:21,231 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 17:56:21,231 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 17:56:21,231 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 17:56:21,232 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 17:56:21,232 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 17:56:21,232 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 17:56:21,579 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 17:56:21,579 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 17:56:21,583 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 17:56:21,607 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 17:56:21,613 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 17:56:21,628 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 17:56:23,629 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 17:56:23,629 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:56:23,638 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:56:29,168 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:56:29,175 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:56:30,190 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-12 17:56:30,191 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 17:56:30,191 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 17:56:30,191 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 17:56:30,191 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 17:56:30,199 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 17:56:35,203 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 17:56:35,209 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 17:56:36,241 - backend.app.scraper - INFO - Tabla estable con 21 filas
2025-09-12 17:56:36,242 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 17:56:38,253 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 17:56:38,253 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 17:56:38,277 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 17:56:38,277 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 17:56:38,278 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 17:56:38,282 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 17:56:38,282 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 17:56:38,283 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 17:56:38,394 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$64,520.00', '$59,520.00', '$59,250.00', '$5,000.00']
2025-09-12 17:56:38,399 - backend.app.scraper - INFO - üìä Encontradas 6 filas de datos
2025-09-12 17:56:38,556 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 17:56:38,556 - backend.app.scraper - INFO -    üìä Datos reales detectados: 5
2025-09-12 17:56:38,557 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-12 17:56:38,557 - backend.app.scraper - INFO -    üìà Calidad de datos: 16.7%
2025-09-12 17:56:38,557 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 17:56:38,558 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 17:56:38,558 - backend.app.scraper - INFO - üìà Extra√≠dos 6 registros de datos
2025-09-12 17:56:38,558 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 64520.0, 'prizes': 59520.0, 'prizes_paid': 59250.0, 'balance': 5000.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 56, 38, 426389)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 17, 56, 38, 452504)}]
2025-09-12 17:56:38,558 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 6 registros
2025-09-12 17:56:38,559 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 6 registros obtenidos
2025-09-12 17:56:38,559 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 17:56:38,559 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 18 registros
2025-09-12 17:56:38,559 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 6 registros
2025-09-12 17:56:38,559 - backend.app.scraper - INFO -    üìà TOTAL: 24 registros
2025-09-12 17:56:38,560 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 17:56:41,560 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 17:56:41,561 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 17:56:43,678 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 17:56:43,678 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 17:56:45,680 - backend.app.alerts - INFO - Procesando lote 1: 24 agencias
2025-09-12 17:56:45,680 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 17:56:45,691 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 17:56:45,692 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 17:56:45,692 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 17:56:45,693 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 17:56:45,693 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 17:56:45,693 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 17:56:45,694 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 17:56:45,713 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 17:56:45,714 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 17:56:45,715 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 17:56:45,741 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 24 agencias, 1 alertas en 90.87s
2025-09-12 17:56:45,741 - root - INFO - PID: 13880 - Proceso de monitoreo finalizado.
2025-09-12 17:56:45,742 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 18:05:14 -04)" executed successfully
2025-09-12 17:59:04,696 - backend.app.alerts - INFO - Alerta 1465 marcada como reportada
2025-09-12 17:59:04,706 - backend.app.alerts - INFO - Alerta 1464 marcada como reportada
2025-09-12 17:59:04,715 - backend.app.alerts - INFO - Alerta 1463 marcada como reportada
2025-09-12 17:59:12,168 - backend.app.alerts - INFO - Alerta 1460 marcada como reportada
2025-09-12 17:59:12,178 - backend.app.alerts - INFO - Alerta 1457 marcada como reportada
2025-09-12 17:59:12,188 - backend.app.alerts - INFO - Alerta 1458 marcada como reportada
2025-09-12 17:59:17,401 - backend.app.alerts - INFO - Alerta 1462 marcada como reportada
2025-09-12 17:59:17,409 - backend.app.alerts - INFO - Alerta 1459 marcada como reportada
2025-09-12 18:05:14,860 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 18:15:14 -04)" (scheduled at 2025-09-12 18:05:14.851572-04:00)
2025-09-12 18:05:14,861 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 18:05:14,862 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 18:05:14,862 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 18:05:14,863 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 18:05:15,869 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 18:05:15,871 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 18:05:15,872 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 18:05:16,948 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 18:05:16,949 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 18:05:16,950 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 18:05:16,950 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 18:05:16,950 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 18:05:16,950 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 18:05:16,951 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 18:05:16,951 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 18:05:16,955 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 18:05:25,731 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 18:05:25,788 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 18:05:26,867 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (388, 500)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 18:05:27,746 - backend.app.scraper - INFO - ‚úì Click JavaScript en bot√≥n login
2025-09-12 18:05:27,760 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 18:05:29,760 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 18:05:29,765 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 18:05:30,287 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 18:05:31,351 - backend.app.scraper - WARNING - Click normal fall√≥: Message: element click intercepted: Element is not clickable at point (-135, 300)
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c877af69]
	(No symbol) [0x0x7ff6c8778902]
	(No symbol) [0x0x7ff6c8775941]
	(No symbol) [0x0x7ff6c8774831]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 18:05:31,357 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitoreo
2025-09-12 18:05:32,858 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 18:05:32,866 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 18:05:37,878 - backend.app.scraper - WARNING - Click normal en monitor fall√≥: Message: element not interactable
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementnotinteractableexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871bf1c]
	(No symbol) [0x0x7ff6c8774454]
	(No symbol) [0x0x7ff6c8766078]
	(No symbol) [0x0x7ff6c879b13a]
	(No symbol) [0x0x7ff6c8765926]
	(No symbol) [0x0x7ff6c879b350]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 18:05:39,167 - backend.app.scraper - INFO - ‚úÖ Click JavaScript exitoso en Monitor de Ventas
2025-09-12 18:05:39,167 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 18:05:39,168 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 18:05:49,692 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 18:05:49,696 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 18:05:49,697 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 18:05:49,700 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 18:05:49,700 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 18:05:50,169 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 18:05:52,640 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 18:05:53,330 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 18:05:53,330 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 18:05:53,331 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 18:05:53,331 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 18:05:53,331 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 18:05:53,332 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 18:05:53,587 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 18:05:54,158 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 18:05:57,174 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 18:05:57,175 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 18:05:57,175 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 18:05:57,175 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 18:05:57,531 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 18:05:57,531 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 18:05:57,535 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 18:05:57,551 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 18:05:57,557 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 18:05:57,568 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 18:05:59,568 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 18:05:59,568 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:05:59,582 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:06:04,710 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 18:06:04,722 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:06:05,741 - backend.app.scraper - INFO - Tabla estable con 16 filas
2025-09-12 18:06:05,741 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 18:06:05,742 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 18:06:05,742 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 18:06:05,742 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:06:05,748 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:06:10,893 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 18:06:10,898 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:06:11,909 - backend.app.scraper - INFO - Tabla estable con 16 filas
2025-09-12 18:06:11,909 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 18:06:13,915 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 18:06:13,915 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 18:06:13,945 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 18:06:13,945 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 18:06:13,945 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 18:06:13,953 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 18:06:13,953 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 18:06:13,953 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 18:06:14,065 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$0.00', '$0.00', '$0.00', '$0.00']
2025-09-12 18:06:14,073 - backend.app.scraper - INFO - üìä Encontradas 1 filas de datos
2025-09-12 18:06:14,103 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 18:06:14,103 - backend.app.scraper - INFO -    üìä Datos reales detectados: 0
2025-09-12 18:06:14,104 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 5
2025-09-12 18:06:14,104 - backend.app.scraper - INFO -    üìà Calidad de datos: 0.0%
2025-09-12 18:06:14,104 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 18:06:14,104 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 18:06:14,104 - backend.app.scraper - INFO - üìà Extra√≠dos 1 registros de datos
2025-09-12 18:06:14,105 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 0.0, 'prizes': 0.0, 'prizes_paid': 0.0, 'balance': 0.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 6, 14, 103007)}]
2025-09-12 18:06:14,105 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 1 registros
2025-09-12 18:06:14,105 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 1 registros obtenidos
2025-09-12 18:06:14,105 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 18:06:14,105 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 18:06:14,105 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 18:06:14,380 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 18:06:14,950 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 18:06:18,248 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 18:06:18,248 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 18:06:18,249 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 18:06:18,249 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 18:06:18,249 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 18:06:18,249 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 18:06:18,250 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 18:06:18,250 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 18:06:18,250 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 18:06:18,250 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 18:06:18,591 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 18:06:18,592 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 18:06:18,621 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 18:06:18,642 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 18:06:18,650 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 18:06:18,658 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 18:06:20,658 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 18:06:20,658 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:06:20,676 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:06:25,809 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 18:06:25,815 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:06:26,829 - backend.app.scraper - INFO - Tabla estable con 16 filas
2025-09-12 18:06:26,829 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 18:06:26,830 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 18:06:26,830 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 18:06:26,830 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:06:26,836 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:06:31,951 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 18:06:31,958 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:06:32,973 - backend.app.scraper - INFO - Tabla estable con 33 filas
2025-09-12 18:06:32,973 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 18:06:34,976 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 18:06:34,976 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 18:06:34,997 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 18:06:34,997 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 18:06:34,998 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 18:06:35,003 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 18:06:35,003 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 18:06:35,003 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 18:06:35,118 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$65,310.00', '$60,330.00', '$60,060.00', '$4,980.00']
2025-09-12 18:06:35,124 - backend.app.scraper - INFO - üìä Encontradas 23 filas de datos
2025-09-12 18:06:35,774 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 18:06:35,775 - backend.app.scraper - INFO -    üìä Datos reales detectados: 72
2025-09-12 18:06:35,775 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 43
2025-09-12 18:06:35,776 - backend.app.scraper - INFO -    üìà Calidad de datos: 62.6%
2025-09-12 18:06:35,776 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 18:06:35,776 - backend.app.scraper - INFO - üìà Extra√≠dos 23 registros de datos
2025-09-12 18:06:35,776 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 65310.0, 'prizes': 60330.0, 'prizes_paid': 60060.0, 'balance': 4980.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 6, 35, 153125)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 30085.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 12815.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 6, 35, 183045)}]
2025-09-12 18:06:35,777 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 23 registros
2025-09-12 18:06:35,777 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 23 registros obtenidos
2025-09-12 18:06:35,777 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 18:06:35,777 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 1 registros
2025-09-12 18:06:35,778 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 23 registros
2025-09-12 18:06:35,778 - backend.app.scraper - INFO -    üìà TOTAL: 24 registros
2025-09-12 18:06:35,778 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 18:06:38,779 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 18:06:38,779 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 18:06:40,900 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 18:06:40,900 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 18:06:42,901 - backend.app.alerts - INFO - Procesando lote 1: 24 agencias
2025-09-12 18:06:42,901 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 18:06:42,902 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 18:06:42,908 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (RULETA_EXPRESS)
2025-09-12 18:06:42,908 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (RULETA_EXPRESS)
2025-09-12 18:06:42,909 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (RULETA_EXPRESS)
2025-09-12 18:06:42,909 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (RULETA_EXPRESS)
2025-09-12 18:06:42,909 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (RULETA_EXPRESS)
2025-09-12 18:06:42,909 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (RULETA_EXPRESS)
2025-09-12 18:06:42,910 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (RULETA_EXPRESS)
2025-09-12 18:06:42,920 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 18:06:42,920 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 18:06:42,944 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 24 agencias, 0 alertas en 88.08s
2025-09-12 18:06:42,944 - root - INFO - PID: 13880 - Proceso de monitoreo finalizado.
2025-09-12 18:06:42,944 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 18:15:14 -04)" executed successfully
2025-09-12 18:08:39,825 - root - INFO - ExpressATM detenido
2025-09-12 18:08:58,290 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-12 18:08:58,291 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 18:08:58,291 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-12 18:08:58,296 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-12 18:08:58,299 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-12 18:08:58,442 - root - INFO - ExpressATM iniciado
2025-09-12 18:08:58,443 - root - INFO - Dashboard disponible
2025-09-12 18:08:58,443 - root - INFO - Documentacion API disponible
2025-09-12 18:09:55,339 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-12 18:09:55,340 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 18:09:55,340 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-12 18:09:55,345 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-12 18:09:55,350 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-12 18:09:55,500 - root - INFO - ExpressATM iniciado
2025-09-12 18:09:55,501 - root - INFO - Dashboard disponible
2025-09-12 18:09:55,501 - root - INFO - Documentacion API disponible
2025-09-12 18:10:15,844 - backend.app.scheduler_hybrid - INFO - Intervalo de monitoreo actualizado a 10 minutos (h√≠brido)
2025-09-12 18:10:18,273 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-12 18:10:18,275 - apscheduler.scheduler - INFO - Added job "HybridMonitoringScheduler.execute_single_iteration" to job store "default"
2025-09-12 18:10:18,276 - apscheduler.scheduler - INFO - Scheduler started
2025-09-12 18:10:18,277 - backend.app.scheduler_hybrid - INFO - ‚úÖ Monitoreo h√≠brido iniciado (intervalo: 10 min)
2025-09-12 18:20:18,279 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 18:20:18 -04)" (scheduled at 2025-09-12 18:20:18.273881-04:00)
2025-09-12 18:20:18,279 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 18:20:18,281 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 18:20:18,281 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 18:20:18,282 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 18:20:19,293 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 18:20:19,293 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-12 18:20:19,295 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 18:20:19,295 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 18:20:20,390 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 18:20:20,392 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 18:20:20,392 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 18:20:20,392 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 18:20:20,392 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 18:20:20,393 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 18:20:20,393 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 18:20:20,393 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 18:20:20,397 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 18:20:29,277 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 18:20:29,336 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 18:20:29,384 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 18:20:30,153 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 18:20:32,154 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 18:20:32,158 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 18:20:32,703 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 18:20:32,744 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 18:20:34,245 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 18:20:34,253 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 18:20:35,621 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 18:20:35,622 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 18:20:35,623 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 18:20:46,192 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 18:20:46,200 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 18:20:46,200 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 18:20:46,203 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 18:20:46,203 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 18:20:46,665 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 18:20:49,097 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 18:20:49,727 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 18:20:49,727 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 18:20:49,728 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 18:20:49,728 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 18:20:49,728 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 18:20:49,729 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 18:20:49,988 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 18:20:50,572 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 18:20:53,235 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 18:20:53,236 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 18:20:53,236 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 18:20:53,237 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 18:20:53,584 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 18:20:53,584 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 18:20:53,589 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 18:20:53,606 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 18:20:53,612 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 18:20:53,624 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 18:20:55,625 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 18:20:55,625 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:20:55,642 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:21:00,921 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 18:21:00,931 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:21:01,971 - backend.app.scraper - INFO - Tabla estable con 34 filas
2025-09-12 18:21:01,972 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 18:21:01,974 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 18:21:01,975 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 18:21:01,975 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:21:01,985 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:21:07,298 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 18:21:07,306 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:21:08,321 - backend.app.scraper - INFO - Tabla estable con 34 filas
2025-09-12 18:21:08,321 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 18:21:10,328 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 18:21:10,328 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 18:21:10,360 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 18:21:10,360 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 18:21:10,361 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 18:21:10,369 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 18:21:10,370 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 18:21:10,370 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 18:21:10,465 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$0.00', '$0.00', '$0.00', '$0.00']
2025-09-12 18:21:10,473 - backend.app.scraper - INFO - üìä Encontradas 19 filas de datos
2025-09-12 18:21:10,971 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 18:21:10,971 - backend.app.scraper - INFO -    üìä Datos reales detectados: 71
2025-09-12 18:21:10,972 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 24
2025-09-12 18:21:10,972 - backend.app.scraper - INFO -    üìà Calidad de datos: 74.7%
2025-09-12 18:21:10,972 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 18:21:10,973 - backend.app.scraper - INFO - üìà Extra√≠dos 19 registros de datos
2025-09-12 18:21:10,973 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 0.0, 'prizes': 0.0, 'prizes_paid': 0.0, 'balance': 0.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 21, 10, 504659)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 30085.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 12815.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 21, 10, 529592)}]
2025-09-12 18:21:10,973 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 19 registros
2025-09-12 18:21:10,973 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 19 registros obtenidos
2025-09-12 18:21:10,974 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 18:21:10,974 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 18:21:10,974 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 18:21:11,242 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 18:21:11,845 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 18:21:14,742 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 18:21:14,742 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 18:21:14,742 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 18:21:14,743 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 18:21:14,743 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 18:21:14,743 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 18:21:14,743 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 18:21:14,744 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 18:21:14,744 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 18:21:14,744 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 18:21:15,086 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 18:21:15,087 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 18:21:15,113 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 18:21:15,132 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 18:21:15,138 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 18:21:15,151 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 18:21:17,153 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 18:21:17,153 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:21:17,166 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:21:22,394 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 18:21:22,405 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:21:23,431 - backend.app.scraper - INFO - Tabla estable con 16 filas
2025-09-12 18:21:23,431 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 18:21:23,432 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 18:21:23,433 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 18:21:23,433 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:21:23,439 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:21:28,612 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 18:21:28,618 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:21:29,634 - backend.app.scraper - INFO - Tabla estable con 16 filas
2025-09-12 18:21:29,634 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 18:21:31,639 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 18:21:31,639 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 18:21:31,668 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 18:21:31,668 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 18:21:31,669 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 18:21:31,677 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 18:21:31,677 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 18:21:31,677 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 18:21:31,779 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$0.00', '$0.00', '$0.00', '$0.00']
2025-09-12 18:21:31,786 - backend.app.scraper - INFO - üìä Encontradas 1 filas de datos
2025-09-12 18:21:31,814 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 18:21:31,815 - backend.app.scraper - INFO -    üìä Datos reales detectados: 0
2025-09-12 18:21:31,815 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 5
2025-09-12 18:21:31,815 - backend.app.scraper - INFO -    üìà Calidad de datos: 0.0%
2025-09-12 18:21:31,816 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 18:21:31,816 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 18:21:31,816 - backend.app.scraper - INFO - üìà Extra√≠dos 1 registros de datos
2025-09-12 18:21:31,816 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 0.0, 'prizes': 0.0, 'prizes_paid': 0.0, 'balance': 0.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 21, 31, 814426)}]
2025-09-12 18:21:31,817 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 1 registros
2025-09-12 18:21:31,817 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 1 registros obtenidos
2025-09-12 18:21:31,817 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 18:21:31,817 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 19 registros
2025-09-12 18:21:31,817 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 1 registros
2025-09-12 18:21:31,818 - backend.app.scraper - INFO -    üìà TOTAL: 20 registros
2025-09-12 18:21:31,818 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 18:21:34,819 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 18:21:34,819 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 18:21:36,990 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 18:21:36,990 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 18:21:38,991 - backend.app.agency_matcher - INFO - Cargando datos de agencias desde DataAgencias.xlsx
2025-09-12 18:21:39,126 - backend.app.agency_matcher - INFO - Grupos SURIEL identificados: 14
2025-09-12 18:21:39,127 - backend.app.agency_matcher - INFO -   - 150-SURIEL | GRUPO 1
2025-09-12 18:21:39,128 - backend.app.agency_matcher - INFO -   - 151-SURIEL | GRUPO 2
2025-09-12 18:21:39,128 - backend.app.agency_matcher - INFO -   - 152-SURIEL | GRUPO 3
2025-09-12 18:21:39,128 - backend.app.agency_matcher - INFO -   - 153-SURIEL | GRUPO 4
2025-09-12 18:21:39,129 - backend.app.agency_matcher - INFO -   - 154-SURIEL | GRUPO 5
2025-09-12 18:21:39,129 - backend.app.agency_matcher - INFO -   - 155-SURIEL | GRUPO 6
2025-09-12 18:21:39,129 - backend.app.agency_matcher - INFO -   - 161-SURIEL | GRUPO 13
2025-09-12 18:21:39,129 - backend.app.agency_matcher - INFO -   - 184-SURIEL | GRUPO 11
2025-09-12 18:21:39,130 - backend.app.agency_matcher - INFO -   - 185-SURIEL | GRUPO 16 SANTO DOMINGO
2025-09-12 18:21:39,130 - backend.app.agency_matcher - INFO -   - 186-SURIEL | GRUPO 17 CARMEN M .
2025-09-12 18:21:39,130 - backend.app.agency_matcher - INFO -   - 192-SURIEL | GRUPO 18
2025-09-12 18:21:39,130 - backend.app.agency_matcher - INFO -   - 198-SURIEL | GRUPO 19. H.
2025-09-12 18:21:39,131 - backend.app.agency_matcher - INFO -   - 206-GRUPO 20 EL CONVENTO SURIEL
2025-09-12 18:21:39,131 - backend.app.agency_matcher - INFO -   - 211-SURIEL | GRUPO 7 CORALITOS
2025-09-12 18:21:39,132 - backend.app.agency_matcher - INFO - Terminales cargadas: 3513 total, 3195 NO-SURIEL
2025-09-12 18:21:39,543 - backend.app.agency_matcher - INFO - Datos guardados en agencies_data.json
2025-09-12 18:21:39,543 - backend.app.alerts - INFO - Procesando lote 1: 20 agencias
2025-09-12 18:21:39,544 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 18:21:39,561 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 18:21:39,561 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 18:21:39,561 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 18:21:39,562 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 18:21:39,563 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 18:21:39,563 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 18:21:39,563 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 18:21:39,572 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 18:21:39,593 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 20 agencias, 1 alertas en 81.31s
2025-09-12 18:21:39,594 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 18:21:39,594 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 18:30:18 -04)" executed successfully
2025-09-12 18:30:18,277 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 18:40:18 -04)" (scheduled at 2025-09-12 18:30:18.273881-04:00)
2025-09-12 18:30:18,277 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 18:30:18,278 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 18:30:18,279 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 18:30:18,279 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 18:30:19,283 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 18:30:19,284 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 18:30:19,285 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 18:30:20,379 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 18:30:20,380 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 18:30:20,380 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 18:30:20,381 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 18:30:20,381 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 18:30:20,381 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 18:30:20,381 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 18:30:20,381 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 18:30:20,385 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 18:30:29,218 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 18:30:29,281 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 18:30:29,334 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 18:30:30,179 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 18:30:32,181 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 18:30:32,185 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 18:30:32,709 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 18:30:32,749 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 18:30:34,250 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 18:30:34,258 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 18:30:35,513 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 18:30:35,513 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 18:30:35,514 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 18:30:46,110 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 18:30:46,113 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 18:30:46,113 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 18:30:46,116 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 18:30:46,116 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 18:30:46,588 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 18:30:49,185 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 18:30:49,854 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 18:30:49,854 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 18:30:49,855 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 18:30:49,855 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 18:30:49,856 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 18:30:49,856 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 18:30:50,158 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 18:30:50,732 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 18:30:53,755 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 18:30:53,755 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 18:30:53,756 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 18:30:53,756 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 18:30:54,108 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 18:30:54,108 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 18:30:54,112 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 18:30:54,129 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 18:30:54,137 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 18:30:54,147 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 18:30:56,148 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 18:30:56,148 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:30:56,160 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:31:01,287 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 18:31:01,297 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:31:02,317 - backend.app.scraper - INFO - Tabla estable con 35 filas
2025-09-12 18:31:02,317 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 18:31:02,318 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 18:31:02,318 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 18:31:02,318 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:31:02,324 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:31:07,450 - backend.app.scraper - INFO - No se encontraron loaders
2025-09-12 18:31:07,457 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:31:08,471 - backend.app.scraper - INFO - Tabla estable con 35 filas
2025-09-12 18:31:08,471 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 18:31:10,478 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 18:31:10,478 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 18:31:10,513 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 18:31:10,513 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 18:31:10,513 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 18:31:10,523 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 18:31:10,523 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 18:31:10,524 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 18:31:10,637 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$0.00', '$0.00', '$0.00', '$0.00']
2025-09-12 18:31:10,646 - backend.app.scraper - INFO - üìä Encontradas 20 filas de datos
2025-09-12 18:31:11,269 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 18:31:11,270 - backend.app.scraper - INFO -    üìä Datos reales detectados: 76
2025-09-12 18:31:11,270 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 24
2025-09-12 18:31:11,271 - backend.app.scraper - INFO -    üìà Calidad de datos: 76.0%
2025-09-12 18:31:11,271 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 18:31:11,271 - backend.app.scraper - INFO - üìà Extra√≠dos 20 registros de datos
2025-09-12 18:31:11,271 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 0.0, 'prizes': 0.0, 'prizes_paid': 0.0, 'balance': 0.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 31, 10, 680353)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 30085.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 12815.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 31, 10, 711483)}]
2025-09-12 18:31:11,272 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 20 registros
2025-09-12 18:31:11,272 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 20 registros obtenidos
2025-09-12 18:31:11,272 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 18:31:11,273 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 18:31:11,273 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 18:31:11,580 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 18:31:12,164 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 18:31:16,054 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 0
2025-09-12 18:31:16,054 - backend.app.scraper - ERROR - No se encontr√≥ opci√≥n para RULETA EXPRESS
2025-09-12 18:31:16,055 - backend.app.scraper - ERROR - ‚úó Error cambiando dropdown a RULETA EXPRESS
2025-09-12 18:31:16,055 - backend.app.scraper - WARNING - ‚ö†Ô∏è RULETA EXPRESS: No se obtuvieron datos
2025-09-12 18:31:16,055 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 18:31:16,056 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 20 registros
2025-09-12 18:31:16,056 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 0 registros
2025-09-12 18:31:16,056 - backend.app.scraper - INFO -    üìà TOTAL: 20 registros
2025-09-12 18:31:16,057 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 18:31:19,058 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 18:31:19,058 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 18:31:21,187 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 18:31:21,187 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 18:31:23,189 - backend.app.alerts - INFO - Procesando lote 1: 20 agencias
2025-09-12 18:31:23,189 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 18:31:23,198 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 18:31:23,198 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 18:31:23,199 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 18:31:23,201 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 18:31:23,202 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 18:31:23,203 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 18:31:23,203 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 18:31:23,203 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 18:31:23,226 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 20 agencias, 0 alertas en 64.95s
2025-09-12 18:31:23,227 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 18:31:23,227 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 18:40:18 -04)" executed successfully
2025-09-12 18:40:18,283 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 18:50:18 -04)" (scheduled at 2025-09-12 18:40:18.273881-04:00)
2025-09-12 18:40:18,283 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 18:40:18,284 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 18:40:18,284 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 18:40:18,284 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 18:40:19,289 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 18:40:19,290 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 18:40:19,290 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 18:40:20,378 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 18:40:20,380 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 18:40:20,380 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 18:40:20,380 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 18:40:20,381 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 18:40:20,381 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 18:40:20,382 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 18:40:20,382 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 18:40:20,389 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 18:40:29,132 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 18:40:29,194 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 18:40:29,248 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 18:40:30,005 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 18:40:32,007 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 18:40:32,010 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 18:40:32,529 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 18:40:32,566 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 18:40:34,068 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 18:40:34,074 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 18:40:35,304 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 18:40:35,304 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 18:40:35,306 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 18:40:45,835 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 18:40:45,838 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 18:40:45,838 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 18:40:45,841 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 18:40:45,841 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 18:40:46,310 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 18:40:48,863 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 18:40:49,522 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 18:40:49,522 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 18:40:49,523 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 18:40:49,523 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 18:40:49,523 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 18:40:49,523 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 18:40:49,790 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 18:40:50,358 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 18:40:53,342 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 18:40:53,342 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 18:40:53,343 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 18:40:53,343 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 18:40:53,694 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 18:40:53,694 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 18:40:53,697 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 18:40:53,711 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 18:40:53,718 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 18:40:53,729 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 18:40:55,730 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 18:40:55,730 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:40:55,740 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:41:03,311 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 18:41:03,320 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:41:04,336 - backend.app.scraper - INFO - Tabla estable con 37 filas
2025-09-12 18:41:04,336 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 18:41:04,336 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 18:41:04,337 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 18:41:04,337 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:41:04,343 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:41:09,347 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 18:41:09,353 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:41:10,381 - backend.app.scraper - INFO - Tabla estable con 37 filas
2025-09-12 18:41:10,381 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 18:41:12,395 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 18:41:12,396 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 18:41:12,448 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 18:41:12,448 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 18:41:12,448 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 18:41:12,456 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 18:41:12,457 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 18:41:12,457 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 18:41:12,547 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$407,931.00', '$347,564.00', '$327,120.00', '$60,367.00']
2025-09-12 18:41:12,555 - backend.app.scraper - INFO - üìä Encontradas 22 filas de datos
2025-09-12 18:41:13,101 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 18:41:13,102 - backend.app.scraper - INFO -    üìä Datos reales detectados: 86
2025-09-12 18:41:13,102 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 24
2025-09-12 18:41:13,102 - backend.app.scraper - INFO -    üìà Calidad de datos: 78.2%
2025-09-12 18:41:13,103 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 18:41:13,103 - backend.app.scraper - INFO - üìà Extra√≠dos 22 registros de datos
2025-09-12 18:41:13,103 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 407931.0, 'prizes': 347564.0, 'prizes_paid': 327120.0, 'balance': 60367.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 41, 12, 583052)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 30240.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 12970.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 41, 12, 620732)}]
2025-09-12 18:41:13,103 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 22 registros
2025-09-12 18:41:13,104 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 22 registros obtenidos
2025-09-12 18:41:13,104 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 18:41:13,104 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 18:41:13,104 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 18:41:13,372 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 18:41:13,955 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 18:41:16,649 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 18:41:16,649 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 18:41:16,650 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 18:41:16,650 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 18:41:16,650 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 18:41:16,650 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 18:41:16,651 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 18:41:16,651 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 18:41:16,651 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 18:41:16,651 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 18:41:16,993 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 18:41:16,994 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 18:41:16,999 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 18:41:17,021 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 18:41:17,028 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 18:41:17,049 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 18:41:19,050 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 18:41:19,051 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:41:19,064 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:41:24,587 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 18:41:24,599 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:41:25,628 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 18:41:25,629 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 18:41:25,629 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 18:41:25,630 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 18:41:25,630 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:41:25,638 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:41:30,699 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 18:41:30,709 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:41:31,738 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 18:41:31,739 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 18:41:33,753 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 18:41:33,753 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 18:41:33,781 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 18:41:33,781 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 18:41:33,781 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 18:41:33,786 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 18:41:33,786 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 18:41:33,786 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 18:41:33,874 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$78,520.00', '$73,470.00', '$73,200.00', '$5,050.00']
2025-09-12 18:41:33,878 - backend.app.scraper - INFO - üìä Encontradas 7 filas de datos
2025-09-12 18:41:34,068 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 18:41:34,068 - backend.app.scraper - INFO -    üìä Datos reales detectados: 6
2025-09-12 18:41:34,069 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 29
2025-09-12 18:41:34,069 - backend.app.scraper - INFO -    üìà Calidad de datos: 17.1%
2025-09-12 18:41:34,069 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 18:41:34,070 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 18:41:34,070 - backend.app.scraper - INFO - üìà Extra√≠dos 7 registros de datos
2025-09-12 18:41:34,070 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 78520.0, 'prizes': 73470.0, 'prizes_paid': 73200.0, 'balance': 5050.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 41, 33, 903143)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 41, 33, 928134)}]
2025-09-12 18:41:34,070 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 7 registros
2025-09-12 18:41:34,071 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 7 registros obtenidos
2025-09-12 18:41:34,071 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 18:41:34,071 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 22 registros
2025-09-12 18:41:34,071 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 7 registros
2025-09-12 18:41:34,071 - backend.app.scraper - INFO -    üìà TOTAL: 29 registros
2025-09-12 18:41:34,072 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 18:41:37,073 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 18:41:37,074 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 18:41:39,188 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 18:41:39,189 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 18:41:41,192 - backend.app.alerts - INFO - Procesando lote 1: 29 agencias
2025-09-12 18:41:41,193 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 18:41:41,207 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 18:41:41,208 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 18:41:41,208 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 18:41:41,208 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 18:41:41,209 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 18:41:41,209 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 18:41:41,209 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 18:41:41,209 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 18:41:41,222 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 18:41:41,222 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 18:41:41,223 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 18:41:41,257 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 29 agencias, 1 alertas en 82.97s
2025-09-12 18:41:41,257 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 18:41:41,258 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 18:50:18 -04)" executed successfully
2025-09-12 18:50:18,288 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:00:18 -04)" (scheduled at 2025-09-12 18:50:18.273881-04:00)
2025-09-12 18:50:18,289 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 18:50:18,293 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 18:50:18,294 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 18:50:18,296 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 18:50:19,305 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 18:50:19,306 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 18:50:19,306 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 18:50:20,397 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 18:50:20,399 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 18:50:20,399 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 18:50:20,399 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 18:50:20,400 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 18:50:20,400 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 18:50:20,400 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 18:50:20,400 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 18:50:20,404 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 18:50:29,178 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 18:50:29,232 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 18:50:29,281 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 18:50:30,164 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 18:50:32,164 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 18:50:32,178 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 18:50:32,714 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 18:50:32,749 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 18:50:34,250 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 18:50:34,268 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 18:50:35,451 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 18:50:35,451 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 18:50:35,452 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 18:50:46,028 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 18:50:46,037 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 18:50:46,037 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 18:50:46,040 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 18:50:46,040 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 18:50:46,507 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 18:50:48,915 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 18:50:49,605 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 18:50:49,605 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 18:50:49,606 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 18:50:49,606 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 18:50:49,606 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 18:50:49,606 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 18:50:49,863 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 18:50:50,446 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 18:50:53,112 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 18:50:53,112 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 18:50:53,112 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 18:50:53,114 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 18:50:53,461 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 18:50:53,462 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 18:50:53,477 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 18:50:53,502 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 18:50:53,508 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 18:50:53,522 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 18:50:55,523 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 18:50:55,523 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:50:55,557 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:51:03,265 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 18:51:03,281 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:51:04,309 - backend.app.scraper - INFO - Tabla estable con 37 filas
2025-09-12 18:51:04,309 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 18:51:04,310 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 18:51:04,311 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 18:51:04,311 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:51:04,317 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:51:09,332 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 18:51:09,339 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:51:10,370 - backend.app.scraper - INFO - Tabla estable con 37 filas
2025-09-12 18:51:10,370 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 18:51:12,384 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 18:51:12,385 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 18:51:12,426 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 18:51:12,426 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 18:51:12,427 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 18:51:12,434 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 18:51:12,434 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 18:51:12,435 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 18:51:12,538 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$414,041.00', '$350,436.00', '$330,240.00', '$63,605.00']
2025-09-12 18:51:12,546 - backend.app.scraper - INFO - üìä Encontradas 22 filas de datos
2025-09-12 18:51:13,081 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 18:51:13,081 - backend.app.scraper - INFO -    üìä Datos reales detectados: 85
2025-09-12 18:51:13,082 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-12 18:51:13,083 - backend.app.scraper - INFO -    üìà Calidad de datos: 77.3%
2025-09-12 18:51:13,083 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 18:51:13,084 - backend.app.scraper - INFO - üìà Extra√≠dos 22 registros de datos
2025-09-12 18:51:13,084 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 414041.0, 'prizes': 350436.0, 'prizes_paid': 330240.0, 'balance': 63605.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 51, 12, 574393)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 30390.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 13120.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 51, 12, 598949)}]
2025-09-12 18:51:13,084 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 22 registros
2025-09-12 18:51:13,085 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 22 registros obtenidos
2025-09-12 18:51:13,085 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 18:51:13,085 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 18:51:13,085 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 18:51:13,347 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 18:51:13,929 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 18:51:16,636 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 18:51:16,636 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 18:51:16,637 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 18:51:16,637 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 18:51:16,637 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 18:51:16,637 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 18:51:16,637 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 18:51:16,638 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 18:51:16,638 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 18:51:16,638 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 18:51:16,978 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 18:51:16,978 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 18:51:16,983 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 18:51:17,004 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 18:51:17,010 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 18:51:17,032 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 18:51:19,033 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 18:51:19,034 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:51:19,066 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:51:19,613 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 18:51:19,619 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:51:20,633 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 18:51:20,633 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 18:51:20,634 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 18:51:20,634 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 18:51:20,635 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 18:51:20,642 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 18:51:25,654 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 18:51:25,667 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 18:51:26,702 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 18:51:26,702 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 18:51:28,718 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 18:51:28,719 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 18:51:28,753 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 18:51:28,753 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 18:51:28,754 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 18:51:28,761 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 18:51:28,762 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 18:51:28,762 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 18:51:28,853 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$79,790.00', '$75,360.00', '$75,090.00', '$4,430.00']
2025-09-12 18:51:28,858 - backend.app.scraper - INFO - üìä Encontradas 7 filas de datos
2025-09-12 18:51:29,029 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 18:51:29,030 - backend.app.scraper - INFO -    üìä Datos reales detectados: 6
2025-09-12 18:51:29,030 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 29
2025-09-12 18:51:29,033 - backend.app.scraper - INFO -    üìà Calidad de datos: 17.1%
2025-09-12 18:51:29,033 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 18:51:29,033 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 18:51:29,033 - backend.app.scraper - INFO - üìà Extra√≠dos 7 registros de datos
2025-09-12 18:51:29,033 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 79790.0, 'prizes': 75360.0, 'prizes_paid': 75090.0, 'balance': 4430.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 51, 28, 885616)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 18, 51, 28, 910647)}]
2025-09-12 18:51:29,034 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 7 registros
2025-09-12 18:51:29,034 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 7 registros obtenidos
2025-09-12 18:51:29,034 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 18:51:29,034 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 22 registros
2025-09-12 18:51:29,035 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 7 registros
2025-09-12 18:51:29,035 - backend.app.scraper - INFO -    üìà TOTAL: 29 registros
2025-09-12 18:51:29,035 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 18:51:32,035 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 18:51:32,036 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 18:51:34,149 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 18:51:34,150 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 18:51:36,153 - backend.app.alerts - INFO - Procesando lote 1: 29 agencias
2025-09-12 18:51:36,154 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 18:51:36,169 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 18:51:36,169 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 18:51:36,169 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 18:51:36,170 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 18:51:36,170 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 18:51:36,170 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 18:51:36,171 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 18:51:36,171 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 18:51:36,185 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 18:51:36,185 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 18:51:36,186 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 18:51:36,217 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 29 agencias, 0 alertas en 77.92s
2025-09-12 18:51:36,217 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 18:51:36,218 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:00:18 -04)" executed successfully
2025-09-12 19:00:18,282 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:10:18 -04)" (scheduled at 2025-09-12 19:00:18.273881-04:00)
2025-09-12 19:00:18,283 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 19:00:18,286 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 19:00:18,288 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 19:00:18,289 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 19:00:19,297 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 19:00:19,299 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 19:00:19,299 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 19:00:20,391 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 19:00:20,392 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 19:00:20,392 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 19:00:20,392 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 19:00:20,393 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 19:00:20,393 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 19:00:20,393 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 19:00:20,393 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 19:00:20,397 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 19:00:29,172 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 19:00:29,230 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 19:00:29,282 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 19:00:30,023 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 19:00:32,024 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 19:00:32,029 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 19:00:32,565 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 19:00:32,609 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 19:00:34,109 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 19:00:34,133 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 19:00:35,345 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 19:00:35,345 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:00:35,346 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:00:45,887 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 19:00:45,903 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 19:00:45,904 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 19:00:45,908 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 19:00:45,908 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 19:00:46,386 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 19:00:48,802 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 19:00:49,436 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 19:00:49,436 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 19:00:49,437 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 19:00:49,437 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 19:00:49,437 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 19:00:49,438 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 19:00:49,692 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 19:00:50,270 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 19:00:52,946 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 19:00:52,946 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 19:00:52,947 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 19:00:52,947 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 19:00:53,295 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 19:00:53,296 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 19:00:53,304 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 19:00:53,321 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 19:00:53,328 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 19:00:53,339 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 19:00:55,339 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 19:00:55,339 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:00:55,375 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:01:04,092 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:01:04,109 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:01:05,141 - backend.app.scraper - INFO - Tabla estable con 38 filas
2025-09-12 19:01:05,142 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 19:01:05,142 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 19:01:05,143 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 19:01:05,143 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:01:05,151 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:01:10,186 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:01:10,200 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:01:11,230 - backend.app.scraper - INFO - Tabla estable con 38 filas
2025-09-12 19:01:11,231 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 19:01:13,244 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 19:01:13,245 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 19:01:13,278 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 19:01:13,278 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 19:01:13,279 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 19:01:13,286 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 19:01:13,286 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 19:01:13,286 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 19:01:13,392 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$427,596.00', '$360,244.00', '$340,992.00', '$67,352.00']
2025-09-12 19:01:13,401 - backend.app.scraper - INFO - üìä Encontradas 23 filas de datos
2025-09-12 19:01:13,962 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 19:01:13,962 - backend.app.scraper - INFO -    üìä Datos reales detectados: 86
2025-09-12 19:01:13,962 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 29
2025-09-12 19:01:13,963 - backend.app.scraper - INFO -    üìà Calidad de datos: 74.8%
2025-09-12 19:01:13,963 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 19:01:13,963 - backend.app.scraper - INFO - üìà Extra√≠dos 23 registros de datos
2025-09-12 19:01:13,963 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 427596.0, 'prizes': 360244.0, 'prizes_paid': 340992.0, 'balance': 67352.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 1, 13, 428436)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 30390.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 13120.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 1, 13, 453548)}]
2025-09-12 19:01:13,964 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 23 registros
2025-09-12 19:01:13,964 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 23 registros obtenidos
2025-09-12 19:01:13,964 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 19:01:13,964 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 19:01:13,965 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 19:01:14,228 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 19:01:14,810 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 19:01:17,531 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 19:01:17,531 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 19:01:17,532 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 19:01:17,532 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 19:01:17,532 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 19:01:17,532 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 19:01:17,533 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 19:01:17,533 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 19:01:17,533 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 19:01:17,533 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 19:01:17,874 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 19:01:17,874 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 19:01:17,879 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 19:01:17,899 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 19:01:17,906 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 19:01:17,920 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 19:01:19,921 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 19:01:19,922 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:01:19,936 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:01:26,536 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:01:26,544 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:01:27,574 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 19:01:27,574 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 19:01:27,575 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 19:01:27,575 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 19:01:27,575 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:01:27,583 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:01:32,595 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:01:32,622 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:01:33,645 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 19:01:33,645 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 19:01:35,660 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 19:01:35,660 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 19:01:35,681 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 19:01:35,681 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 19:01:35,682 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 19:01:35,686 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 19:01:35,686 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 19:01:35,687 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 19:01:35,774 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$81,085.00', '$76,260.00', '$75,990.00', '$4,825.00']
2025-09-12 19:01:35,779 - backend.app.scraper - INFO - üìä Encontradas 7 filas de datos
2025-09-12 19:01:35,969 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 19:01:35,969 - backend.app.scraper - INFO -    üìä Datos reales detectados: 10
2025-09-12 19:01:35,970 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-12 19:01:35,972 - backend.app.scraper - INFO -    üìà Calidad de datos: 28.6%
2025-09-12 19:01:35,972 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 19:01:35,972 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 19:01:35,972 - backend.app.scraper - INFO - üìà Extra√≠dos 7 registros de datos
2025-09-12 19:01:35,973 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 81085.0, 'prizes': 76260.0, 'prizes_paid': 75990.0, 'balance': 4825.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 1, 35, 824590)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 1, 35, 849821)}]
2025-09-12 19:01:35,973 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 7 registros
2025-09-12 19:01:35,973 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 7 registros obtenidos
2025-09-12 19:01:35,973 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 19:01:35,973 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 23 registros
2025-09-12 19:01:35,974 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 7 registros
2025-09-12 19:01:35,974 - backend.app.scraper - INFO -    üìà TOTAL: 30 registros
2025-09-12 19:01:35,974 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 19:01:38,975 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 19:01:38,975 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 19:01:41,109 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 19:01:41,110 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 19:01:43,113 - backend.app.alerts - INFO - Procesando lote 1: 30 agencias
2025-09-12 19:01:43,114 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 19:01:43,130 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 19:01:43,130 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 19:01:43,130 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 19:01:43,131 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 19:01:43,131 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 19:01:43,131 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 19:01:43,131 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 19:01:43,132 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 19:01:43,146 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 19:01:43,146 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 19:01:43,147 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 19:01:43,176 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 30 agencias, 0 alertas en 84.89s
2025-09-12 19:01:43,177 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 19:01:43,178 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:10:18 -04)" executed successfully
2025-09-12 19:10:18,279 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:20:18 -04)" (scheduled at 2025-09-12 19:10:18.273881-04:00)
2025-09-12 19:10:18,281 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 19:10:18,284 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 19:10:18,285 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 19:10:18,286 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 19:10:19,298 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 19:10:19,302 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 19:10:19,302 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 19:10:20,370 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 19:10:20,371 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 19:10:20,371 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 19:10:20,372 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 19:10:20,372 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 19:10:20,373 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 19:10:20,374 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 19:10:20,374 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 19:10:20,379 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 19:10:29,163 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 19:10:29,224 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 19:10:29,278 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 19:10:30,246 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 19:10:32,246 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 19:10:32,254 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 19:10:32,779 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 19:10:32,816 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 19:10:34,317 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 19:10:34,324 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 19:10:35,620 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 19:10:35,620 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:10:35,621 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:10:46,194 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 19:10:46,197 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 19:10:46,197 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 19:10:46,201 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 19:10:46,201 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 19:10:46,670 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 19:10:49,238 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 19:10:49,898 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 19:10:49,898 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 19:10:49,899 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 19:10:49,899 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 19:10:49,899 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 19:10:49,900 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 19:10:50,186 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 19:10:50,758 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 19:10:53,681 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 19:10:53,682 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 19:10:53,682 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 19:10:53,682 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 19:10:54,034 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 19:10:54,035 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 19:10:54,041 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 19:10:54,056 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 19:10:54,064 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 19:10:54,074 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 19:10:56,075 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 19:10:56,075 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:10:56,088 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:11:04,764 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:11:04,776 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:11:05,798 - backend.app.scraper - INFO - Tabla estable con 39 filas
2025-09-12 19:11:05,799 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 19:11:05,799 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 19:11:05,800 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 19:11:05,800 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:11:05,808 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:11:10,855 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:11:10,863 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:11:11,881 - backend.app.scraper - INFO - Tabla estable con 39 filas
2025-09-12 19:11:11,881 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 19:11:13,894 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 19:11:13,894 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 19:11:13,925 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 19:11:13,925 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 19:11:13,926 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 19:11:13,934 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 19:11:13,934 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 19:11:13,934 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 19:11:14,031 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$446,356.00', '$377,233.00', '$354,722.00', '$69,123.00']
2025-09-12 19:11:14,040 - backend.app.scraper - INFO - üìä Encontradas 24 filas de datos
2025-09-12 19:11:14,692 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 19:11:14,692 - backend.app.scraper - INFO -    üìä Datos reales detectados: 95
2025-09-12 19:11:14,693 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-12 19:11:14,693 - backend.app.scraper - INFO -    üìà Calidad de datos: 79.2%
2025-09-12 19:11:14,694 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 19:11:14,694 - backend.app.scraper - INFO - üìà Extra√≠dos 24 registros de datos
2025-09-12 19:11:14,694 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 446356.0, 'prizes': 377233.0, 'prizes_paid': 354722.0, 'balance': 69123.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 11, 14, 82840)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 30540.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 13270.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 11, 14, 112848)}]
2025-09-12 19:11:14,694 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 24 registros
2025-09-12 19:11:14,694 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 24 registros obtenidos
2025-09-12 19:11:14,695 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 19:11:14,695 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 19:11:14,695 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 19:11:14,983 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 19:11:15,557 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 19:11:18,515 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 19:11:18,515 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 19:11:18,516 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 19:11:18,516 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 19:11:18,516 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 19:11:18,516 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 19:11:18,517 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 19:11:18,517 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 19:11:18,517 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 19:11:18,518 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 19:11:18,861 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 19:11:18,861 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 19:11:18,866 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 19:11:18,887 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 19:11:18,894 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 19:11:18,916 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 19:11:20,917 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 19:11:20,917 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:11:20,944 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:11:26,472 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:11:26,481 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:11:27,500 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 19:11:27,501 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 19:11:27,501 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 19:11:27,502 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 19:11:27,502 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:11:27,508 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:11:32,545 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:11:32,554 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:11:33,570 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 19:11:33,570 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 19:11:35,576 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 19:11:35,576 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 19:11:35,596 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 19:11:35,597 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 19:11:35,597 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 19:11:35,602 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 19:11:35,602 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 19:11:35,602 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 19:11:35,697 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$82,425.00', '$77,700.00', '$77,430.00', '$4,725.00']
2025-09-12 19:11:35,703 - backend.app.scraper - INFO - üìä Encontradas 7 filas de datos
2025-09-12 19:11:35,886 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 19:11:35,886 - backend.app.scraper - INFO -    üìä Datos reales detectados: 10
2025-09-12 19:11:35,887 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-12 19:11:35,887 - backend.app.scraper - INFO -    üìà Calidad de datos: 28.6%
2025-09-12 19:11:35,888 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 19:11:35,888 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 19:11:35,888 - backend.app.scraper - INFO - üìà Extra√≠dos 7 registros de datos
2025-09-12 19:11:35,888 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 82425.0, 'prizes': 77700.0, 'prizes_paid': 77430.0, 'balance': 4725.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 11, 35, 729729)}, {'agency_code': '11065', 'agency_name': '6328 | HONDO VALLE MACHO ARRENDADAS(9243)', 'sales': 11730.0, 'prizes': 9210.0, 'prizes_paid': 9210.0, 'balance': 2520.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 11, 35, 756867)}]
2025-09-12 19:11:35,889 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 7 registros
2025-09-12 19:11:35,889 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 7 registros obtenidos
2025-09-12 19:11:35,889 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 19:11:35,889 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 24 registros
2025-09-12 19:11:35,889 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 7 registros
2025-09-12 19:11:35,890 - backend.app.scraper - INFO -    üìà TOTAL: 31 registros
2025-09-12 19:11:35,890 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 19:11:38,891 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 19:11:38,891 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 19:11:41,014 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 19:11:41,014 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 19:11:43,016 - backend.app.alerts - INFO - Procesando lote 1: 31 agencias
2025-09-12 19:11:43,016 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 19:11:43,034 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 19:11:43,034 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 19:11:43,035 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 19:11:43,035 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 19:11:43,036 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 19:11:43,036 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 19:11:43,037 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 19:11:43,037 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 19:11:43,054 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 19:11:43,056 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 19:11:43,062 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 19:11:43,092 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 31 agencias, 0 alertas en 84.81s
2025-09-12 19:11:43,092 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 19:11:43,093 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:20:18 -04)" executed successfully
2025-09-12 19:20:18,284 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:30:18 -04)" (scheduled at 2025-09-12 19:20:18.273881-04:00)
2025-09-12 19:20:18,285 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 19:20:18,289 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 19:20:18,292 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 19:20:18,293 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 19:20:19,303 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 19:20:19,305 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 19:20:19,305 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 19:20:20,381 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 19:20:20,382 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 19:20:20,383 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 19:20:20,384 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 19:20:20,384 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 19:20:20,384 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 19:20:20,385 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 19:20:20,385 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 19:20:20,389 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 19:20:29,256 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 19:20:29,316 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 19:20:29,690 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 19:20:30,161 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 19:20:32,161 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 19:20:32,167 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 19:20:32,693 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 19:20:32,730 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 19:20:34,231 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 19:20:34,245 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 19:20:35,504 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 19:20:35,505 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:20:35,505 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:20:46,083 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 19:20:46,088 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 19:20:46,090 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 19:20:46,093 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 19:20:46,093 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 19:20:46,561 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 19:20:49,113 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 19:20:49,773 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 19:20:49,774 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 19:20:49,775 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 19:20:49,775 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 19:20:49,775 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 19:20:49,776 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 19:20:50,058 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 19:20:50,638 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 19:20:53,570 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 19:20:53,570 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 19:20:53,571 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 19:20:53,571 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 19:20:53,922 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 19:20:53,922 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 19:20:53,926 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 19:20:53,944 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 19:20:53,951 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 19:20:53,963 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 19:20:55,965 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 19:20:55,966 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:20:55,984 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:21:03,071 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:21:03,087 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:21:04,123 - backend.app.scraper - INFO - Tabla estable con 42 filas
2025-09-12 19:21:04,123 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 19:21:04,125 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 19:21:04,125 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 19:21:04,125 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:21:04,132 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:21:09,168 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:21:09,180 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:21:10,207 - backend.app.scraper - INFO - Tabla estable con 42 filas
2025-09-12 19:21:10,208 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 19:21:12,222 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 19:21:12,222 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 19:21:12,256 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 19:21:12,256 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 19:21:12,257 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 19:21:12,265 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 19:21:12,265 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 19:21:12,265 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 19:21:12,363 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$484,619.00', '$401,608.00', '$382,076.00', '$83,011.00']
2025-09-12 19:21:12,372 - backend.app.scraper - INFO - üìä Encontradas 27 filas de datos
2025-09-12 19:21:13,103 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 19:21:13,103 - backend.app.scraper - INFO -    üìä Datos reales detectados: 103
2025-09-12 19:21:13,104 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 32
2025-09-12 19:21:13,104 - backend.app.scraper - INFO -    üìà Calidad de datos: 76.3%
2025-09-12 19:21:13,104 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 19:21:13,104 - backend.app.scraper - INFO - üìà Extra√≠dos 27 registros de datos
2025-09-12 19:21:13,105 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 484619.0, 'prizes': 401608.0, 'prizes_paid': 382076.0, 'balance': 83011.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 21, 12, 402914)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 30850.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 13580.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 21, 12, 447485)}]
2025-09-12 19:21:13,105 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 27 registros
2025-09-12 19:21:13,105 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 27 registros obtenidos
2025-09-12 19:21:13,105 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 19:21:13,106 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 19:21:13,106 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 19:21:13,402 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 19:21:13,978 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 19:21:16,947 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 19:21:16,947 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 19:21:16,948 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 19:21:16,948 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 19:21:16,949 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 19:21:16,949 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 19:21:16,949 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 19:21:16,949 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 19:21:16,949 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 19:21:16,950 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 19:21:17,293 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 19:21:17,294 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 19:21:17,303 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 19:21:17,326 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 19:21:17,332 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 19:21:17,355 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 19:21:19,356 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 19:21:19,356 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:21:19,369 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:21:26,451 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:21:26,458 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:21:27,474 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 19:21:27,475 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 19:21:27,476 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 19:21:27,476 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 19:21:27,476 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:21:27,483 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:21:32,491 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:21:32,499 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:21:33,514 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 19:21:33,514 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 19:21:35,520 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 19:21:35,521 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 19:21:35,552 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 19:21:35,552 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 19:21:35,553 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 19:21:35,561 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 19:21:35,561 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 19:21:35,561 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 19:21:35,659 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$83,875.00', '$79,230.00', '$78,960.00', '$4,645.00']
2025-09-12 19:21:35,667 - backend.app.scraper - INFO - üìä Encontradas 7 filas de datos
2025-09-12 19:21:35,851 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 19:21:35,852 - backend.app.scraper - INFO -    üìä Datos reales detectados: 10
2025-09-12 19:21:35,852 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-12 19:21:35,853 - backend.app.scraper - INFO -    üìà Calidad de datos: 28.6%
2025-09-12 19:21:35,853 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 19:21:35,853 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 19:21:35,853 - backend.app.scraper - INFO - üìà Extra√≠dos 7 registros de datos
2025-09-12 19:21:35,853 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 83875.0, 'prizes': 79230.0, 'prizes_paid': 78960.0, 'balance': 4645.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 21, 35, 693945)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 21, 35, 721008)}]
2025-09-12 19:21:35,854 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 7 registros
2025-09-12 19:21:35,854 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 7 registros obtenidos
2025-09-12 19:21:35,854 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 19:21:35,854 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 27 registros
2025-09-12 19:21:35,855 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 7 registros
2025-09-12 19:21:35,855 - backend.app.scraper - INFO -    üìà TOTAL: 34 registros
2025-09-12 19:21:35,855 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 19:21:38,856 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 19:21:38,857 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 19:21:41,010 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 19:21:41,011 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 19:21:43,014 - backend.app.alerts - INFO - Procesando lote 1: 34 agencias
2025-09-12 19:21:43,014 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 19:21:43,033 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 19:21:43,034 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 19:21:43,034 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 19:21:43,034 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 19:21:43,035 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 19:21:43,035 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 19:21:43,035 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 19:21:43,035 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 19:21:43,058 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 19:21:43,058 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 19:21:43,059 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 19:21:43,111 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 34 agencias, 5 alertas en 84.82s
2025-09-12 19:21:43,112 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 19:21:43,112 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:30:18 -04)" executed successfully
2025-09-12 19:22:22,432 - backend.app.alerts - INFO - Alerta 1470 marcada como reportada
2025-09-12 19:22:22,440 - backend.app.alerts - INFO - Alerta 1471 marcada como reportada
2025-09-12 19:22:34,444 - backend.app.alerts - INFO - Alerta 1467 marcada como reportada
2025-09-12 19:29:00,752 - backend.app.alerts - INFO - Alerta 1473 marcada como reportada
2025-09-12 19:29:00,760 - backend.app.alerts - INFO - Alerta 1468 marcada como reportada
2025-09-12 19:29:00,770 - backend.app.alerts - INFO - Alerta 1466 marcada como reportada
2025-09-12 19:30:18,280 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:40:18 -04)" (scheduled at 2025-09-12 19:30:18.273881-04:00)
2025-09-12 19:30:18,280 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 19:30:18,281 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 19:30:18,281 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 19:30:18,282 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 19:30:19,287 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 19:30:19,288 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 19:30:19,289 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 19:30:20,375 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 19:30:20,377 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 19:30:20,378 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 19:30:20,378 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 19:30:20,379 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 19:30:20,379 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 19:30:20,380 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 19:30:20,380 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 19:30:20,385 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 19:30:29,183 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 19:30:29,246 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 19:30:29,557 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 19:30:30,038 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 19:30:32,038 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 19:30:32,043 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 19:30:32,577 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 19:30:32,612 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 19:30:34,113 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 19:30:34,122 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 19:30:35,484 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 19:30:35,484 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:30:35,485 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:30:46,077 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 19:30:46,081 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 19:30:46,081 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 19:30:46,085 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 19:30:46,085 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 19:30:46,549 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 19:30:49,054 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 19:30:49,690 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 19:30:49,691 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 19:30:49,692 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 19:30:49,692 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 19:30:49,692 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 19:30:49,692 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 19:30:49,943 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 19:30:50,552 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 19:30:53,228 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 19:30:53,228 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 19:30:53,228 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 19:30:53,229 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 19:30:53,576 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 19:30:53,577 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 19:30:53,585 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 19:30:53,601 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 19:30:53,608 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 19:30:53,618 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 19:30:55,619 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 19:30:55,620 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:30:55,638 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:31:02,211 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:31:02,221 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:31:03,241 - backend.app.scraper - INFO - Tabla estable con 43 filas
2025-09-12 19:31:03,241 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 19:31:03,242 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 19:31:03,242 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 19:31:03,243 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:31:03,249 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:31:08,258 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:31:08,272 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:31:09,301 - backend.app.scraper - INFO - Tabla estable con 43 filas
2025-09-12 19:31:09,301 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 19:31:11,310 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 19:31:11,311 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 19:31:11,343 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 19:31:11,343 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 19:31:11,343 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 19:31:11,351 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 19:31:11,351 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 19:31:11,352 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 19:31:11,442 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$506,224.00', '$419,618.00', '$405,831.00', '$86,606.00']
2025-09-12 19:31:11,451 - backend.app.scraper - INFO - üìä Encontradas 28 filas de datos
2025-09-12 19:31:12,149 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 19:31:12,149 - backend.app.scraper - INFO -    üìä Datos reales detectados: 106
2025-09-12 19:31:12,149 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 34
2025-09-12 19:31:12,150 - backend.app.scraper - INFO -    üìà Calidad de datos: 75.7%
2025-09-12 19:31:12,150 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 19:31:12,150 - backend.app.scraper - INFO - üìà Extra√≠dos 28 registros de datos
2025-09-12 19:31:12,150 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 506224.0, 'prizes': 419618.0, 'prizes_paid': 405831.0, 'balance': 86606.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 31, 11, 478380)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 30990.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 13720.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 31, 11, 502443)}]
2025-09-12 19:31:12,151 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 28 registros
2025-09-12 19:31:12,151 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 28 registros obtenidos
2025-09-12 19:31:12,151 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 19:31:12,151 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 19:31:12,152 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 19:31:12,417 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 19:31:12,998 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 19:31:15,705 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 19:31:15,705 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 19:31:15,706 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 19:31:15,706 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 19:31:15,706 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 19:31:15,706 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 19:31:15,707 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 19:31:15,707 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 19:31:15,707 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 19:31:15,707 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 19:31:16,049 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 19:31:16,050 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 19:31:16,055 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 19:31:16,078 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 19:31:16,085 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 19:31:16,107 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 19:31:18,107 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 19:31:18,108 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:31:18,149 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:31:24,704 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:31:24,711 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:31:25,740 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 19:31:25,740 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 19:31:25,741 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 19:31:25,741 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 19:31:25,741 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:31:25,749 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:31:30,787 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:31:30,800 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:31:31,829 - backend.app.scraper - INFO - Tabla estable con 22 filas
2025-09-12 19:31:31,829 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 19:31:33,843 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 19:31:33,843 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 19:31:33,872 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 19:31:33,872 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 19:31:33,873 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 19:31:33,877 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 19:31:33,877 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 19:31:33,877 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 19:31:33,965 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$85,080.00', '$80,850.00', '$80,580.00', '$4,230.00']
2025-09-12 19:31:33,973 - backend.app.scraper - INFO - üìä Encontradas 7 filas de datos
2025-09-12 19:31:34,159 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 19:31:34,159 - backend.app.scraper - INFO -    üìä Datos reales detectados: 10
2025-09-12 19:31:34,159 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 25
2025-09-12 19:31:34,160 - backend.app.scraper - INFO -    üìà Calidad de datos: 28.6%
2025-09-12 19:31:34,160 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 19:31:34,160 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 19:31:34,160 - backend.app.scraper - INFO - üìà Extra√≠dos 7 registros de datos
2025-09-12 19:31:34,161 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 85080.0, 'prizes': 80850.0, 'prizes_paid': 80580.0, 'balance': 4230.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 31, 34, 14683)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 31, 34, 38743)}]
2025-09-12 19:31:34,161 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 7 registros
2025-09-12 19:31:34,161 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 7 registros obtenidos
2025-09-12 19:31:34,161 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 19:31:34,161 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 28 registros
2025-09-12 19:31:34,162 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 7 registros
2025-09-12 19:31:34,162 - backend.app.scraper - INFO -    üìà TOTAL: 35 registros
2025-09-12 19:31:34,162 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 19:31:37,162 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 19:31:37,162 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 19:31:39,296 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 19:31:39,297 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 19:31:41,300 - backend.app.alerts - INFO - Procesando lote 1: 35 agencias
2025-09-12 19:31:41,301 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 19:31:41,321 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 19:31:41,321 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 19:31:41,321 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 19:31:41,322 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 19:31:41,323 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 19:31:41,323 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 19:31:41,324 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 19:31:41,324 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 19:31:41,341 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 19:31:41,341 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 19:31:41,341 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 19:31:41,373 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 35 agencias, 1 alertas en 83.09s
2025-09-12 19:31:41,373 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 19:31:41,374 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:40:18 -04)" executed successfully
2025-09-12 19:40:18,280 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:50:18 -04)" (scheduled at 2025-09-12 19:40:18.273881-04:00)
2025-09-12 19:40:18,281 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 19:40:18,287 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 19:40:18,289 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 19:40:18,290 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 19:40:19,299 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 19:40:19,301 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 19:40:19,301 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 19:40:20,399 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 19:40:20,400 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 19:40:20,400 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 19:40:20,401 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 19:40:20,401 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 19:40:20,401 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 19:40:20,402 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 19:40:20,402 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 19:40:20,407 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 19:40:29,279 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 19:40:29,337 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 19:40:29,388 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 19:40:30,285 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 19:40:32,285 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 19:40:32,291 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 19:40:32,815 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 19:40:32,851 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 19:40:34,353 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 19:40:34,361 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 19:40:35,612 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 19:40:35,612 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:40:35,613 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:40:46,218 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 19:40:46,221 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 19:40:46,221 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 19:40:46,223 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 19:40:46,223 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 19:40:46,688 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 19:40:49,226 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 19:40:49,907 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 19:40:49,908 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 19:40:49,908 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 19:40:49,909 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 19:40:49,909 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 19:40:49,909 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 19:40:50,221 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 19:40:50,789 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 19:40:53,744 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 19:40:53,745 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 19:40:53,745 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 19:40:53,746 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 19:40:54,095 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 19:40:54,095 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 19:40:54,098 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 19:40:54,114 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 19:40:54,121 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 19:40:54,131 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 19:40:56,132 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 19:40:56,133 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:40:56,174 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:41:02,242 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:41:02,253 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:41:03,268 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-12 19:41:03,269 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 19:41:03,269 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 19:41:03,270 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 19:41:03,270 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:41:03,276 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:41:08,287 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:41:08,293 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:41:09,307 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-12 19:41:09,307 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 19:41:11,310 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 19:41:11,310 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 19:41:11,340 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 19:41:11,340 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 19:41:11,341 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 19:41:11,348 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 19:41:11,349 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 19:41:11,349 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 19:41:11,449 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$530,093.00', '$434,638.00', '$427,436.00', '$95,455.00']
2025-09-12 19:41:11,458 - backend.app.scraper - INFO - üìä Encontradas 29 filas de datos
2025-09-12 19:41:12,308 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 19:41:12,308 - backend.app.scraper - INFO -    üìä Datos reales detectados: 108
2025-09-12 19:41:12,308 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 37
2025-09-12 19:41:12,309 - backend.app.scraper - INFO -    üìà Calidad de datos: 74.5%
2025-09-12 19:41:12,309 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 19:41:12,309 - backend.app.scraper - INFO - üìà Extra√≠dos 29 registros de datos
2025-09-12 19:41:12,309 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 530093.0, 'prizes': 434638.0, 'prizes_paid': 427436.0, 'balance': 95455.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 41, 11, 488073)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 31285.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 14015.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 41, 11, 518066)}]
2025-09-12 19:41:12,310 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 29 registros
2025-09-12 19:41:12,310 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 29 registros obtenidos
2025-09-12 19:41:12,310 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 19:41:12,310 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 19:41:12,311 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 19:41:12,644 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 19:41:13,214 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 19:41:16,590 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 19:41:16,590 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 19:41:16,591 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 19:41:16,591 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 19:41:16,591 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 19:41:16,592 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 19:41:16,592 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 19:41:16,592 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 19:41:16,592 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 19:41:16,593 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 19:41:16,939 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 19:41:16,939 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 19:41:16,942 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 19:41:16,966 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 19:41:16,974 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 19:41:16,999 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 19:41:19,000 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 19:41:19,000 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:41:19,014 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:41:24,568 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:41:24,574 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:41:25,586 - backend.app.scraper - INFO - Tabla estable con 25 filas
2025-09-12 19:41:25,586 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 19:41:25,587 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 19:41:25,587 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 19:41:25,588 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 19:41:25,593 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 19:41:30,633 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 19:41:30,639 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 19:41:31,653 - backend.app.scraper - INFO - Tabla estable con 25 filas
2025-09-12 19:41:31,653 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 19:41:33,656 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 19:41:33,656 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 19:41:33,677 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 19:41:33,677 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 19:41:33,678 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 19:41:33,683 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 19:41:33,683 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 19:41:33,683 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 19:41:33,798 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$117,362.00', '$112,238.00', '$111,140.00', '$5,124.00']
2025-09-12 19:41:33,807 - backend.app.scraper - INFO - üìä Encontradas 10 filas de datos
2025-09-12 19:41:34,088 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 19:41:34,088 - backend.app.scraper - INFO -    üìä Datos reales detectados: 19
2025-09-12 19:41:34,089 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 31
2025-09-12 19:41:34,089 - backend.app.scraper - INFO -    üìà Calidad de datos: 38.0%
2025-09-12 19:41:34,090 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 19:41:34,090 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 19:41:34,090 - backend.app.scraper - INFO - üìà Extra√≠dos 10 registros de datos
2025-09-12 19:41:34,090 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 117362.0, 'prizes': 112238.0, 'prizes_paid': 111140.0, 'balance': 5124.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 41, 33, 836609)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 19, 41, 33, 864582)}]
2025-09-12 19:41:34,091 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 10 registros
2025-09-12 19:41:34,091 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 10 registros obtenidos
2025-09-12 19:41:34,091 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 19:41:34,091 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 29 registros
2025-09-12 19:41:34,091 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 10 registros
2025-09-12 19:41:34,092 - backend.app.scraper - INFO -    üìà TOTAL: 39 registros
2025-09-12 19:41:34,092 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 19:41:37,093 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 19:41:37,093 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 19:41:39,221 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 19:41:39,221 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 19:41:41,223 - backend.app.alerts - INFO - Procesando lote 1: 39 agencias
2025-09-12 19:41:41,223 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 19:41:41,240 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 19:41:41,241 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 19:41:41,241 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 19:41:41,241 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 19:41:41,242 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 19:41:41,242 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 19:41:41,243 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 19:41:41,243 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 19:41:41,264 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 19:41:41,265 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 19:41:41,265 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4008 - SURIEL 40-08 CONSTANZA/GRUPO 4(10092) (RULETA_EXPRESS)
2025-09-12 19:41:41,265 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 19:41:41,299 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 39 agencias, 4 alertas en 83.01s
2025-09-12 19:41:41,299 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 19:41:41,300 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 19:50:18 -04)" executed successfully
2025-09-12 19:50:18,285 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:00:18 -04)" (scheduled at 2025-09-12 19:50:18.273881-04:00)
2025-09-12 19:50:18,285 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 19:50:18,286 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 19:50:18,286 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 19:50:18,286 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 19:50:19,292 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 19:50:19,293 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 19:50:19,293 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 19:50:20,572 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 19:50:20,575 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 19:50:20,576 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 19:50:20,576 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 19:50:20,576 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 19:50:20,577 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 19:50:20,577 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 19:50:20,577 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 19:50:20,582 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 19:50:29,382 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 19:50:29,453 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 19:50:29,512 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 19:50:30,457 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 19:50:32,459 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 19:50:32,462 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 19:50:32,985 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 19:50:33,027 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 19:50:34,529 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 19:50:34,540 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 19:50:36,527 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 19:50:36,527 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:50:36,528 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 19:50:47,083 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 19:50:47,086 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 19:50:47,087 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 19:50:47,089 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 19:50:47,089 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 19:50:49,639 - backend.app.alerts - INFO - Alerta 1474 marcada como reportada
2025-09-12 19:50:49,742 - backend.app.alerts - INFO - Alerta 1472 marcada como reportada
2025-09-12 19:51:02,582 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 19:51:02,582 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 19:51:02,583 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 19:51:02,583 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 19:51:02,583 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 19:51:08,092 - backend.app.scraper - ERROR - Campo 'Loter√≠a:' no encontrado
2025-09-12 19:51:08,092 - backend.app.scraper - ERROR - ‚úó Error cambiando dropdown a CHANCE EXPRESS
2025-09-12 19:51:08,092 - backend.app.scraper - WARNING - ‚ö†Ô∏è CHANCE EXPRESS: No se obtuvieron datos
2025-09-12 19:51:08,093 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 19:51:08,093 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 19:51:08,093 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 19:51:13,144 - backend.app.scraper - ERROR - Campo 'Loter√≠a:' no encontrado
2025-09-12 19:51:13,145 - backend.app.scraper - ERROR - ‚úó Error cambiando dropdown a RULETA EXPRESS
2025-09-12 19:51:13,145 - backend.app.scraper - WARNING - ‚ö†Ô∏è RULETA EXPRESS: No se obtuvieron datos
2025-09-12 19:51:13,146 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 19:51:13,146 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 0 registros
2025-09-12 19:51:13,146 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 0 registros
2025-09-12 19:51:13,146 - backend.app.scraper - INFO -    üìà TOTAL: 0 registros
2025-09-12 19:51:13,146 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 19:51:16,148 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 19:51:16,148 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 19:51:18,246 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 19:51:18,246 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 19:51:20,248 - backend.app.scheduler_hybrid - WARNING - No se obtuvieron datos del scraping cl√°sico
2025-09-12 19:51:20,248 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA - Sin datos obtenidos
2025-09-12 19:51:20,248 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA...
2025-09-12 19:51:20,249 - backend.app.scheduler_hybrid - CRITICAL - üì∏ Estado de emergencia capturado: Screenshot FALL√ì - Driver no disponible
2025-09-12 19:51:20,256 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 19:51:20,257 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:00:18 -04)" executed successfully
2025-09-12 19:52:13,969 - backend.app.alerts - INFO - Alerta 1475 marcada como reportada
2025-09-12 19:52:13,978 - backend.app.alerts - INFO - Alerta 1469 marcada como reportada
2025-09-12 19:53:50,031 - backend.app.alerts - INFO - Alerta 1478 marcada como reportada
2025-09-12 20:00:18,275 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:10:18 -04)" (scheduled at 2025-09-12 20:00:18.273881-04:00)
2025-09-12 20:00:18,277 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 20:00:18,280 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 20:00:18,281 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 20:00:18,283 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 20:00:19,288 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 20:00:19,290 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 20:00:19,290 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 20:00:20,345 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 20:00:20,346 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 20:00:20,346 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 20:00:20,347 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 20:00:20,347 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 20:00:20,347 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 20:00:20,348 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 20:00:20,348 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 20:00:20,353 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 20:00:29,154 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 20:00:29,218 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 20:00:29,272 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 20:00:29,984 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 20:00:31,986 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 20:00:31,990 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 20:00:32,514 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 20:00:32,552 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 20:00:34,053 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 20:00:34,062 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 20:00:35,356 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 20:00:35,356 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 20:00:35,357 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 20:00:45,884 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 20:00:45,887 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 20:00:45,887 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 20:00:45,890 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 20:00:45,890 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 20:00:46,362 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 20:00:48,920 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 20:00:49,585 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 20:00:49,585 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 20:00:49,586 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 20:00:49,586 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 20:00:49,586 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 20:00:49,586 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 20:00:49,855 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 20:00:50,433 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 20:00:53,378 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 20:00:53,379 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 20:00:53,379 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 20:00:53,379 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 20:00:53,731 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 20:00:53,732 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 20:00:53,738 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 20:00:53,756 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 20:00:53,763 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 20:00:53,775 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 20:00:55,775 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 20:00:55,775 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:00:55,793 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:01:01,879 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:01:01,896 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:01:02,920 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-12 20:01:02,920 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 20:01:02,920 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 20:01:02,921 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 20:01:02,921 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:01:02,929 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:01:07,975 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:01:07,984 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:01:09,014 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-12 20:01:09,014 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 20:01:11,022 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 20:01:11,022 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 20:01:11,052 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 20:01:11,052 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 20:01:11,053 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 20:01:11,060 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 20:01:11,061 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 20:01:11,061 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 20:01:11,160 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$549,978.00', '$457,273.00', '$451,086.00', '$92,705.00']
2025-09-12 20:01:11,169 - backend.app.scraper - INFO - üìä Encontradas 29 filas de datos
2025-09-12 20:01:11,957 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 20:01:11,957 - backend.app.scraper - INFO -    üìä Datos reales detectados: 110
2025-09-12 20:01:11,957 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 35
2025-09-12 20:01:11,958 - backend.app.scraper - INFO -    üìà Calidad de datos: 75.9%
2025-09-12 20:01:11,958 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 20:01:11,958 - backend.app.scraper - INFO - üìà Extra√≠dos 29 registros de datos
2025-09-12 20:01:11,958 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 549978.0, 'prizes': 457273.0, 'prizes_paid': 451086.0, 'balance': 92705.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 1, 11, 215370)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 31285.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 14015.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 1, 11, 243052)}]
2025-09-12 20:01:11,959 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 29 registros
2025-09-12 20:01:11,959 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 29 registros obtenidos
2025-09-12 20:01:11,959 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 20:01:11,959 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 20:01:11,960 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 20:01:12,240 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 20:01:12,813 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 20:01:15,794 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 20:01:15,795 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 20:01:15,795 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 20:01:15,795 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 20:01:15,796 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 20:01:15,796 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 20:01:15,796 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 20:01:15,796 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 20:01:15,797 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 20:01:15,797 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 20:01:16,139 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 20:01:16,139 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 20:01:16,145 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 20:01:16,167 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 20:01:16,176 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 20:01:16,190 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 20:01:18,190 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 20:01:18,190 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:01:18,204 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:01:26,863 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:01:26,872 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:01:27,897 - backend.app.scraper - INFO - Tabla estable con 26 filas
2025-09-12 20:01:27,898 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 20:01:27,898 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 20:01:27,899 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 20:01:27,899 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:01:27,907 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:01:32,925 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:01:32,932 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:01:33,950 - backend.app.scraper - INFO - Tabla estable con 26 filas
2025-09-12 20:01:33,950 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 20:01:35,961 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 20:01:35,961 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 20:01:35,993 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 20:01:35,993 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 20:01:35,993 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 20:01:36,001 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 20:01:36,002 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 20:01:36,002 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 20:01:36,100 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$144,033.00', '$136,190.00', '$135,780.00', '$7,843.00']
2025-09-12 20:01:36,108 - backend.app.scraper - INFO - üìä Encontradas 11 filas de datos
2025-09-12 20:01:36,396 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 20:01:36,396 - backend.app.scraper - INFO -    üìä Datos reales detectados: 16
2025-09-12 20:01:36,397 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 39
2025-09-12 20:01:36,397 - backend.app.scraper - INFO -    üìà Calidad de datos: 29.1%
2025-09-12 20:01:36,397 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 20:01:36,398 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 20:01:36,398 - backend.app.scraper - INFO - üìà Extra√≠dos 11 registros de datos
2025-09-12 20:01:36,398 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 144033.0, 'prizes': 136190.0, 'prizes_paid': 135780.0, 'balance': 7843.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 1, 36, 136043)}, {'agency_code': '011129', 'agency_name': '10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550)', 'sales': 15360.0, 'prizes': 15600.0, 'prizes_paid': 15600.0, 'balance': -240.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 1, 36, 162110)}]
2025-09-12 20:01:36,398 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 11 registros
2025-09-12 20:01:36,399 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 11 registros obtenidos
2025-09-12 20:01:36,399 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 20:01:36,399 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 29 registros
2025-09-12 20:01:36,399 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 11 registros
2025-09-12 20:01:36,399 - backend.app.scraper - INFO -    üìà TOTAL: 40 registros
2025-09-12 20:01:36,400 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 20:01:39,401 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 20:01:39,401 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 20:01:41,513 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 20:01:41,513 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 20:01:43,514 - backend.app.alerts - INFO - Procesando lote 1: 40 agencias
2025-09-12 20:01:43,515 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 20:01:43,535 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 20:01:43,535 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 20:01:43,536 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 20:01:43,537 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 20:01:43,537 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 20:01:43,538 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 20:01:43,538 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 20:01:43,538 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 20:01:43,556 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 20:01:43,557 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 20:01:43,558 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4008 - SURIEL 40-08 CONSTANZA/GRUPO 4(10092) (RULETA_EXPRESS)
2025-09-12 20:01:43,558 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 20:01:43,558 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4014 - SURIEL 40-14 CONSTANZA/GRUPO 4(21248) (RULETA_EXPRESS)
2025-09-12 20:01:43,596 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 40 agencias, 3 alertas en 85.32s
2025-09-12 20:01:43,596 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 20:01:43,597 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:10:18 -04)" executed successfully
2025-09-12 20:10:18,277 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:20:18 -04)" (scheduled at 2025-09-12 20:10:18.273881-04:00)
2025-09-12 20:10:18,278 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 20:10:18,281 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 20:10:18,283 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 20:10:18,285 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 20:10:19,294 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 20:10:19,295 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 20:10:19,295 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 20:10:20,368 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 20:10:20,371 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 20:10:20,371 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 20:10:20,371 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 20:10:20,372 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 20:10:20,372 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 20:10:20,372 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 20:10:20,372 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 20:10:20,377 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 20:10:29,200 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 20:10:29,261 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 20:10:29,315 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 20:10:30,136 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 20:10:32,137 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 20:10:32,144 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 20:10:32,667 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 20:10:32,703 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 20:10:34,204 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 20:10:34,219 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 20:10:35,498 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 20:10:35,498 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 20:10:35,499 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 20:10:46,045 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 20:10:46,047 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 20:10:46,047 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 20:10:46,049 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 20:10:46,050 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 20:10:46,528 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 20:10:49,095 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 20:10:49,759 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 20:10:49,760 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 20:10:49,760 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 20:10:49,762 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 20:10:49,762 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 20:10:49,763 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 20:10:50,066 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 20:10:50,638 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 20:10:53,843 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 20:10:53,843 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 20:10:53,844 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 20:10:53,844 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 20:10:54,194 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 20:10:54,194 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 20:10:54,197 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 20:10:54,213 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 20:10:54,222 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 20:10:54,235 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 20:10:56,236 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 20:10:56,237 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:10:56,248 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:11:04,828 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:11:04,838 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:11:05,856 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-12 20:11:05,856 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 20:11:05,857 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 20:11:05,857 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 20:11:05,857 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:11:05,865 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:11:10,917 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:11:10,925 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:11:11,954 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-12 20:11:11,954 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 20:11:13,961 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 20:11:13,961 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 20:11:13,992 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 20:11:13,992 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 20:11:13,992 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 20:11:14,000 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 20:11:14,000 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 20:11:14,001 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 20:11:14,115 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$560,328.00', '$464,248.00', '$458,066.00', '$96,080.00']
2025-09-12 20:11:14,124 - backend.app.scraper - INFO - üìä Encontradas 29 filas de datos
2025-09-12 20:11:14,906 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 20:11:14,906 - backend.app.scraper - INFO -    üìä Datos reales detectados: 105
2025-09-12 20:11:14,907 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 40
2025-09-12 20:11:14,907 - backend.app.scraper - INFO -    üìà Calidad de datos: 72.4%
2025-09-12 20:11:14,907 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 20:11:14,908 - backend.app.scraper - INFO - üìà Extra√≠dos 29 registros de datos
2025-09-12 20:11:14,908 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 560328.0, 'prizes': 464248.0, 'prizes_paid': 458066.0, 'balance': 96080.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 11, 14, 154337)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 31780.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 14510.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 11, 14, 180393)}]
2025-09-12 20:11:14,908 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 29 registros
2025-09-12 20:11:14,908 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 29 registros obtenidos
2025-09-12 20:11:14,909 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 20:11:14,909 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 20:11:14,909 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 20:11:15,177 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 20:11:15,750 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 20:11:18,706 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 20:11:18,706 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 20:11:18,707 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 20:11:18,707 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 20:11:18,707 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 20:11:18,707 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 20:11:18,708 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 20:11:18,708 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 20:11:18,708 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 20:11:18,708 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 20:11:19,052 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 20:11:19,053 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 20:11:19,062 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 20:11:19,082 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 20:11:19,088 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 20:11:19,111 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 20:11:21,113 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 20:11:21,114 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:11:21,122 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:11:27,210 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:11:27,216 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:11:28,234 - backend.app.scraper - INFO - Tabla estable con 27 filas
2025-09-12 20:11:28,234 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 20:11:28,235 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 20:11:28,235 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 20:11:28,235 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:11:28,242 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:11:33,308 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:11:33,319 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:11:34,349 - backend.app.scraper - INFO - Tabla estable con 27 filas
2025-09-12 20:11:34,351 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 20:11:36,367 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 20:11:36,368 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 20:11:36,404 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 20:11:36,404 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 20:11:36,405 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 20:11:36,412 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 20:11:36,413 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 20:11:36,413 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 20:11:36,508 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$149,808.00', '$142,400.00', '$142,200.00', '$7,408.00']
2025-09-12 20:11:36,513 - backend.app.scraper - INFO - üìä Encontradas 12 filas de datos
2025-09-12 20:11:36,836 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 20:11:36,836 - backend.app.scraper - INFO -    üìä Datos reales detectados: 15
2025-09-12 20:11:36,837 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 45
2025-09-12 20:11:36,837 - backend.app.scraper - INFO -    üìà Calidad de datos: 25.0%
2025-09-12 20:11:36,837 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 20:11:36,837 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 20:11:36,838 - backend.app.scraper - INFO - üìà Extra√≠dos 12 registros de datos
2025-09-12 20:11:36,838 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 149808.0, 'prizes': 142400.0, 'prizes_paid': 142200.0, 'balance': 7408.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 11, 36, 539611)}, {'agency_code': '10129', 'agency_name': 'SURIEL 10-129 CONSTANZA/GRUPO 1(10000)', 'sales': 11910.0, 'prizes': 12270.0, 'prizes_paid': 12920.0, 'balance': -360.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 11, 36, 566787)}]
2025-09-12 20:11:36,838 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 12 registros
2025-09-12 20:11:36,838 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 12 registros obtenidos
2025-09-12 20:11:36,838 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 20:11:36,839 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 29 registros
2025-09-12 20:11:36,839 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 12 registros
2025-09-12 20:11:36,839 - backend.app.scraper - INFO -    üìà TOTAL: 41 registros
2025-09-12 20:11:36,839 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 20:11:39,840 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 20:11:39,840 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 20:11:41,968 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 20:11:41,969 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 20:11:43,973 - backend.app.alerts - INFO - Procesando lote 1: 41 agencias
2025-09-12 20:11:43,974 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 20:11:43,999 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 20:11:44,000 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 20:11:44,000 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 20:11:44,001 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 20:11:44,001 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 20:11:44,001 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 20:11:44,002 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 20:11:44,002 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 20:11:44,020 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 20:11:44,020 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 10129 - SURIEL 10-129 CONSTANZA/GRUPO 1(10000) (RULETA_EXPRESS)
2025-09-12 20:11:44,021 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 20:11:44,021 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4008 - SURIEL 40-08 CONSTANZA/GRUPO 4(10092) (RULETA_EXPRESS)
2025-09-12 20:11:44,022 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 20:11:44,022 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4014 - SURIEL 40-14 CONSTANZA/GRUPO 4(21248) (RULETA_EXPRESS)
2025-09-12 20:11:44,064 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 41 agencias, 4 alertas en 85.78s
2025-09-12 20:11:44,064 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 20:11:44,065 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:20:18 -04)" executed successfully
2025-09-12 20:20:18,286 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:30:18 -04)" (scheduled at 2025-09-12 20:20:18.273881-04:00)
2025-09-12 20:20:18,287 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 20:20:18,289 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 20:20:18,290 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 20:20:18,291 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 20:20:19,301 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 20:20:19,302 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 20:20:19,302 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 20:20:20,367 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 20:20:20,369 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 20:20:20,369 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 20:20:20,370 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 20:20:20,370 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 20:20:20,370 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 20:20:20,370 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 20:20:20,370 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 20:20:20,374 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 20:20:29,193 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 20:20:29,253 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 20:20:29,587 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 20:20:30,060 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 20:20:32,061 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 20:20:32,066 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 20:20:32,589 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 20:20:32,627 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 20:20:34,129 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 20:20:34,141 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 20:20:35,409 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 20:20:35,409 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 20:20:35,410 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 20:20:45,980 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 20:20:45,986 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 20:20:45,986 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 20:20:45,989 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 20:20:45,989 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 20:20:46,456 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 20:20:48,995 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 20:20:49,652 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 20:20:49,652 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 20:20:49,653 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 20:20:49,653 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 20:20:49,653 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 20:20:49,653 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 20:20:49,925 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 20:20:50,508 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 20:20:53,420 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 20:20:53,421 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 20:20:53,421 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 20:20:53,421 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 20:20:53,771 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 20:20:53,771 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 20:20:53,775 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 20:20:53,791 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 20:20:53,799 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 20:20:53,809 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 20:20:55,811 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 20:20:55,811 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:20:55,822 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:21:05,457 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:21:05,468 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:21:06,505 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-12 20:21:06,505 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 20:21:06,505 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 20:21:06,506 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 20:21:06,506 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:21:06,514 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:21:11,574 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:21:11,581 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:21:12,615 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-12 20:21:12,616 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 20:21:14,628 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 20:21:14,628 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 20:21:14,660 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 20:21:14,660 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 20:21:14,660 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 20:21:14,670 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 20:21:14,670 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 20:21:14,670 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 20:21:14,773 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$570,293.00', '$468,008.00', '$460,566.00', '$102,285.00']
2025-09-12 20:21:14,787 - backend.app.scraper - INFO - üìä Encontradas 29 filas de datos
2025-09-12 20:21:15,568 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 20:21:15,569 - backend.app.scraper - INFO -    üìä Datos reales detectados: 107
2025-09-12 20:21:15,569 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 38
2025-09-12 20:21:15,569 - backend.app.scraper - INFO -    üìà Calidad de datos: 73.8%
2025-09-12 20:21:15,569 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 20:21:15,569 - backend.app.scraper - INFO - üìà Extra√≠dos 29 registros de datos
2025-09-12 20:21:15,570 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 570293.0, 'prizes': 468008.0, 'prizes_paid': 460566.0, 'balance': 102285.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 21, 14, 819744)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 31780.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 14510.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 21, 14, 845900)}]
2025-09-12 20:21:15,570 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 29 registros
2025-09-12 20:21:15,570 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 29 registros obtenidos
2025-09-12 20:21:15,570 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 20:21:15,570 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 20:21:15,570 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 20:21:15,837 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 20:21:16,416 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 20:21:19,378 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 20:21:19,378 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 20:21:19,378 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 20:21:19,378 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 20:21:19,378 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 20:21:19,378 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 20:21:19,379 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 20:21:19,379 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 20:21:19,379 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 20:21:19,379 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 20:21:19,720 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 20:21:19,720 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 20:21:19,726 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 20:21:19,747 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 20:21:19,754 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 20:21:19,778 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 20:21:21,778 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 20:21:21,778 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:21:21,790 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:21:27,843 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:21:27,851 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:21:28,884 - backend.app.scraper - INFO - Tabla estable con 28 filas
2025-09-12 20:21:28,884 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 20:21:28,885 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 20:21:28,886 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 20:21:28,886 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:21:28,895 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:21:33,968 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:21:33,979 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:21:35,000 - backend.app.scraper - INFO - Tabla estable con 28 filas
2025-09-12 20:21:35,000 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 20:21:37,009 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 20:21:37,009 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 20:21:37,040 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 20:21:37,040 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 20:21:37,040 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 20:21:37,048 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 20:21:37,049 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 20:21:37,049 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 20:21:37,147 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$166,825.00', '$157,348.00', '$156,420.00', '$9,477.00']
2025-09-12 20:21:37,152 - backend.app.scraper - INFO - üìä Encontradas 13 filas de datos
2025-09-12 20:21:37,490 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 20:21:37,490 - backend.app.scraper - INFO -    üìä Datos reales detectados: 19
2025-09-12 20:21:37,491 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 46
2025-09-12 20:21:37,491 - backend.app.scraper - INFO -    üìà Calidad de datos: 29.2%
2025-09-12 20:21:37,491 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 20:21:37,491 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 20:21:37,491 - backend.app.scraper - INFO - üìà Extra√≠dos 13 registros de datos
2025-09-12 20:21:37,492 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 166825.0, 'prizes': 157348.0, 'prizes_paid': 156420.0, 'balance': 9477.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 21, 37, 179962)}, {'agency_code': '10129', 'agency_name': 'SURIEL 10-129 CONSTANZA/GRUPO 1(10000)', 'sales': 15320.0, 'prizes': 14340.0, 'prizes_paid': 14990.0, 'balance': 980.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 21, 37, 205095)}]
2025-09-12 20:21:37,492 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 13 registros
2025-09-12 20:21:37,492 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 13 registros obtenidos
2025-09-12 20:21:37,492 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 20:21:37,492 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 29 registros
2025-09-12 20:21:37,492 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 13 registros
2025-09-12 20:21:37,492 - backend.app.scraper - INFO -    üìà TOTAL: 42 registros
2025-09-12 20:21:37,492 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 20:21:40,493 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 20:21:40,493 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 20:21:44,159 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 20:21:44,160 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 20:21:46,161 - backend.app.alerts - INFO - Procesando lote 1: 42 agencias
2025-09-12 20:21:46,161 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 20:21:46,191 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 20:21:46,192 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 20:21:46,192 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 20:21:46,192 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 20:21:46,192 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 20:21:46,193 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 20:21:46,193 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 20:21:46,193 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 20:21:46,210 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 20:21:46,210 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 10129 - SURIEL 10-129 CONSTANZA/GRUPO 1(10000) (RULETA_EXPRESS)
2025-09-12 20:21:46,210 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 610122 - SURIEL 10-122 CONSTANZA/GRUPO 1(21254) (RULETA_EXPRESS)
2025-09-12 20:21:46,211 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 20:21:46,211 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4008 - SURIEL 40-08 CONSTANZA/GRUPO 4(10092) (RULETA_EXPRESS)
2025-09-12 20:21:46,211 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 20:21:46,211 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4014 - SURIEL 40-14 CONSTANZA/GRUPO 4(21248) (RULETA_EXPRESS)
2025-09-12 20:21:46,427 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 42 agencias, 4 alertas en 88.14s
2025-09-12 20:21:46,428 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 20:21:46,428 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:30:18 -04)" executed successfully
2025-09-12 20:22:44,512 - backend.app.alerts - INFO - Alerta 1480 marcada como reportada
2025-09-12 20:22:44,526 - backend.app.alerts - INFO - Alerta 1483 marcada como reportada
2025-09-12 20:22:46,209 - backend.app.alerts - INFO - Alerta 1489 marcada como reportada
2025-09-12 20:22:46,222 - backend.app.alerts - INFO - Alerta 1485 marcada como reportada
2025-09-12 20:30:18,281 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:40:18 -04)" (scheduled at 2025-09-12 20:30:18.273881-04:00)
2025-09-12 20:30:18,282 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 20:30:18,284 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 20:30:18,286 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 20:30:18,286 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 20:30:19,296 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 20:30:19,299 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 20:30:19,299 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 20:30:20,374 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 20:30:20,375 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 20:30:20,375 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 20:30:20,375 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 20:30:20,375 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 20:30:20,375 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 20:30:20,376 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 20:30:20,376 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 20:30:20,381 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 20:30:29,209 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 20:30:29,272 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 20:30:29,580 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 20:30:30,054 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 20:30:32,055 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 20:30:32,062 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 20:30:32,584 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 20:30:32,622 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 20:30:34,122 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 20:30:34,150 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 20:30:35,450 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 20:30:35,450 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 20:30:35,450 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 20:30:45,980 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 20:30:45,987 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 20:30:45,987 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 20:30:45,990 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 20:30:45,990 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 20:30:46,457 - backend.app.scraper - INFO - ‚úÖ 1. Tipo Loter√≠a: No tradicionales
2025-09-12 20:30:49,005 - backend.app.scraper - INFO - ‚úÖ 2. Filtro: Ventas Mayor o Igual a
2025-09-12 20:30:49,669 - backend.app.scraper - INFO - ‚úÖ 3. Monto: 10000
2025-09-12 20:30:49,669 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 20:30:49,670 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 20:30:49,670 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 20:30:49,670 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 20:30:49,670 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 20:30:49,941 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 20:30:50,543 - backend.app.scraper - INFO - Encontradas 718 opciones de loter√≠a
2025-09-12 20:30:53,474 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 20:30:53,474 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 20:30:53,474 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 20:30:53,475 - backend.app.scraper - INFO - ‚úÖ Seleccionando CHANCE EXPRESS: CHANCE EXPRESS
2025-09-12 20:30:53,825 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a CHANCE EXPRESS
2025-09-12 20:30:53,825 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a CHANCE EXPRESS
2025-09-12 20:30:53,831 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 20:30:53,848 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 20:30:53,855 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 20:30:53,868 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 20:30:55,869 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 20:30:55,869 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:30:55,900 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:31:02,021 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:31:02,036 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:31:03,074 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-12 20:31:03,074 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 20:31:03,074 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para CHANCE EXPRESS
2025-09-12 20:31:03,075 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para CHANCE EXPRESS...
2025-09-12 20:31:03,075 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:31:03,082 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:31:08,100 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:31:08,107 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:31:09,129 - backend.app.scraper - INFO - Tabla estable con 44 filas
2025-09-12 20:31:09,129 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para CHANCE EXPRESS
2025-09-12 20:31:11,143 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 20:31:11,143 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 20:31:11,174 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 20:31:11,175 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 20:31:11,175 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 20:31:11,183 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 20:31:11,183 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 20:31:11,183 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 20:31:11,278 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$578,301.00', '$469,438.00', '$463,206.00', '$108,863.00']
2025-09-12 20:31:11,287 - backend.app.scraper - INFO - üìä Encontradas 29 filas de datos
2025-09-12 20:31:12,075 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 20:31:12,075 - backend.app.scraper - INFO -    üìä Datos reales detectados: 107
2025-09-12 20:31:12,075 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 38
2025-09-12 20:31:12,075 - backend.app.scraper - INFO -    üìà Calidad de datos: 73.8%
2025-09-12 20:31:12,075 - backend.app.scraper - WARNING - ‚ö†Ô∏è üìä ML ADVIERTE: Calidad media - algunos placeholders
2025-09-12 20:31:12,075 - backend.app.scraper - INFO - üìà Extra√≠dos 29 registros de datos
2025-09-12 20:31:12,076 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 578301.0, 'prizes': 469438.0, 'prizes_paid': 463206.0, 'balance': 108863.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 31, 11, 319063)}, {'agency_code': '011109', 'agency_name': '8026 | JAMAICA/RIFEROS(8851)', 'sales': 31830.0, 'prizes': 17270.0, 'prizes_paid': 17290.0, 'balance': 14560.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 31, 11, 345753)}]
2025-09-12 20:31:12,076 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para CHANCE EXPRESS: 29 registros
2025-09-12 20:31:12,076 - backend.app.scraper - INFO - ‚úÖ CHANCE EXPRESS: 29 registros obtenidos
2025-09-12 20:31:12,076 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 20:31:12,076 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 20:31:12,076 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 20:31:12,362 - backend.app.scraper - INFO - Usando icono de flecha
2025-09-12 20:31:12,935 - backend.app.scraper - INFO - Encontradas 720 opciones de loter√≠a
2025-09-12 20:31:15,898 - backend.app.scraper - INFO - Opciones v√°lidas encontradas: 9
2025-09-12 20:31:15,899 - backend.app.scraper - INFO - Evaluando: 'Todos'
2025-09-12 20:31:15,899 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS'
2025-09-12 20:31:15,899 - backend.app.scraper - INFO - Evaluando: 'CHANCE EXPRESS EXTRAORDINARIO'
2025-09-12 20:31:15,899 - backend.app.scraper - INFO - Evaluando: 'LOTTO'
2025-09-12 20:31:15,899 - backend.app.scraper - INFO - Evaluando: 'MEGA CHANCE'
2025-09-12 20:31:15,899 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA'
2025-09-12 20:31:15,900 - backend.app.scraper - INFO - Evaluando: 'REPARTIDERA T3'
2025-09-12 20:31:15,900 - backend.app.scraper - INFO - Evaluando: 'RULETA EXPRESS'
2025-09-12 20:31:15,900 - backend.app.scraper - INFO - ‚úÖ Seleccionando RULETA EXPRESS: RULETA EXPRESS
2025-09-12 20:31:16,243 - backend.app.scraper - INFO - ‚úÖ Loter√≠a cambiada a RULETA EXPRESS
2025-09-12 20:31:16,244 - backend.app.scraper - INFO - ‚úì Dropdown cambiado a RULETA EXPRESS
2025-09-12 20:31:16,253 - backend.app.scraper - INFO - Ejecutando b√∫squeda...
2025-09-12 20:31:16,275 - backend.app.scraper - INFO - Bot√≥n encontrado con selector: //a[contains(@class, 'btn-primary') and contains(text(), 'Buscar')]
2025-09-12 20:31:16,281 - backend.app.scraper - INFO - Haciendo clic en bot√≥n de b√∫squeda...
2025-09-12 20:31:16,309 - backend.app.scraper - INFO - ‚úì Clic ejecutado en bot√≥n de b√∫squeda
2025-09-12 20:31:18,309 - backend.app.scraper - INFO - Esperando resultados de b√∫squeda...
2025-09-12 20:31:18,309 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:31:18,324 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:31:24,400 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:31:24,406 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:31:25,426 - backend.app.scraper - INFO - Tabla estable con 28 filas
2025-09-12 20:31:25,427 - backend.app.scraper - INFO - B√∫squeda ejecutada exitosamente
2025-09-12 20:31:25,427 - backend.app.scraper - INFO - ‚úì B√∫squeda ejecutada para RULETA EXPRESS
2025-09-12 20:31:25,427 - backend.app.scraper - INFO - ‚è≥ Esperando carga de tabla para RULETA EXPRESS...
2025-09-12 20:31:25,427 - backend.app.scraper - INFO - Esperando carga de tabla (optimizado)...
2025-09-12 20:31:25,434 - backend.app.scraper - INFO - Tabla encontrada
2025-09-12 20:31:30,480 - backend.app.scraper - INFO - Loaders desaparecidos
2025-09-12 20:31:30,487 - backend.app.scraper - INFO - Filas con datos encontradas
2025-09-12 20:31:31,510 - backend.app.scraper - INFO - Tabla estable con 28 filas
2025-09-12 20:31:31,510 - backend.app.scraper - INFO - ‚úÖ Tabla cargada para RULETA EXPRESS
2025-09-12 20:31:33,524 - backend.app.scraper - INFO - Extrayendo datos de la tabla...
2025-09-12 20:31:33,524 - backend.app.scraper - INFO - Solicitando confirmacion visual de ML para carga completa...
2025-09-12 20:31:33,545 - backend.app.vision_learning_engine - INFO - Sistema de vision confirma: tabla con datos reales
2025-09-12 20:31:33,545 - backend.app.scraper - INFO - ML CONFIRMA: Tabla completamente cargada con datos reales
2025-09-12 20:31:33,545 - backend.app.scraper - INFO -    El sistema visual verifico que no hay placeholders
2025-09-12 20:31:33,550 - backend.app.scraper - INFO - üìä Tabla encontrada con selector: //table[contains(@class, 'table')]
2025-09-12 20:31:33,550 - backend.app.scraper - INFO - üîç ML realizando validaci√≥n final de contenido...
2025-09-12 20:31:33,550 - backend.app.scraper - WARNING - ‚ö†Ô∏è Error en validaci√≥n ML final: 'VisionLearner' object has no attribute 'capture_visual_state'
2025-09-12 20:31:33,663 - backend.app.scraper - INFO - üìã Encabezados encontrados: ['Agencia', 'Ventas', 'Premios', 'Premios Pagados', 'Balance', 'Total General', '$173,108.00', '$162,818.00', '$162,898.00', '$10,290.00']
2025-09-12 20:31:33,672 - backend.app.scraper - INFO - üìä Encontradas 13 filas de datos
2025-09-12 20:31:34,010 - backend.app.scraper - INFO - üß† ML - AN√ÅLISIS FINAL DE DATOS:
2025-09-12 20:31:34,011 - backend.app.scraper - INFO -    üìä Datos reales detectados: 23
2025-09-12 20:31:34,011 - backend.app.scraper - INFO -    üî≤ Placeholders detectados: 42
2025-09-12 20:31:34,011 - backend.app.scraper - INFO -    üìà Calidad de datos: 35.4%
2025-09-12 20:31:34,011 - backend.app.scraper - ERROR - ‚ùå üö® ML ALERTA: Calidad baja - mayor√≠a placeholders
2025-09-12 20:31:34,011 - backend.app.scraper - ERROR -    üí° Esto confirma el problema original detectado
2025-09-12 20:31:34,011 - backend.app.scraper - INFO - üìà Extra√≠dos 13 registros de datos
2025-09-12 20:31:34,011 - backend.app.scraper - INFO - üìã Muestra de datos extra√≠dos: [{'agency_code': 'Total Gene', 'agency_name': 'Total General', 'sales': 173108.0, 'prizes': 162818.0, 'prizes_paid': 162898.0, 'balance': 10290.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 31, 33, 697806)}, {'agency_code': '10129', 'agency_name': 'SURIEL 10-129 CONSTANZA/GRUPO 1(10000)', 'sales': 17260.0, 'prizes': 16140.0, 'prizes_paid': 16790.0, 'balance': 1120.0, 'capture_time': datetime.datetime(2025, 9, 12, 20, 31, 33, 724957)}]
2025-09-12 20:31:34,012 - backend.app.scraper - INFO - ‚úì Datos extra√≠dos para RULETA EXPRESS: 13 registros
2025-09-12 20:31:34,012 - backend.app.scraper - INFO - ‚úÖ RULETA EXPRESS: 13 registros obtenidos
2025-09-12 20:31:34,012 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 20:31:34,012 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 29 registros
2025-09-12 20:31:34,012 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 13 registros
2025-09-12 20:31:34,012 - backend.app.scraper - INFO -    üìà TOTAL: 42 registros
2025-09-12 20:31:34,012 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 20:31:37,013 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 20:31:37,014 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 20:31:39,139 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 20:31:39,140 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 20:31:41,142 - backend.app.alerts - INFO - Procesando lote 1: 42 agencias
2025-09-12 20:31:41,143 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (CHANCE_EXPRESS)
2025-09-12 20:31:41,179 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 61041 - SURIEL 10-41 CONSTANZA/GRUPO 1(10022) (CHANCE_EXPRESS)
2025-09-12 20:31:41,180 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 66132255 - SURIEL 10-158 CONSTANZA/GRUPO 1(12262) (CHANCE_EXPRESS)
2025-09-12 20:31:41,180 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 132582 - SURIEL 10-164 CONSTANZA/GRUPO 1(14383) (CHANCE_EXPRESS)
2025-09-12 20:31:41,181 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 60142 - SURIEL 10-142 CONSTANZA/GRUPO 1(21530) (CHANCE_EXPRESS)
2025-09-12 20:31:41,181 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 2031 - SURIEL 20-31 COTUI/SURIEL GRUPO 2(9101) (CHANCE_EXPRESS)
2025-09-12 20:31:41,181 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 64026 - SURIEL 40-26 CONSTANZA/GRUPO 4(10073) (CHANCE_EXPRESS)
2025-09-12 20:31:41,181 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4019 - SURIEL 40-19 CONSTANZA/GRUPO 4(10081) (CHANCE_EXPRESS)
2025-09-12 20:31:41,181 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011561 - SURIEL 10-124 CONSTANZA/SURIEL GRUPO 13(10663) (CHANCE_EXPRESS)
2025-09-12 20:31:41,203 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: Total Gene - Total General (RULETA_EXPRESS)
2025-09-12 20:31:41,203 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 10129 - SURIEL 10-129 CONSTANZA/GRUPO 1(10000) (RULETA_EXPRESS)
2025-09-12 20:31:41,203 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 610122 - SURIEL 10-122 CONSTANZA/GRUPO 1(21254) (RULETA_EXPRESS)
2025-09-12 20:31:41,203 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 011129 - 10-211 /PLAZA MEI | SURIEL |GRUPO 1(21550) (RULETA_EXPRESS)
2025-09-12 20:31:41,204 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4008 - SURIEL 40-08 CONSTANZA/GRUPO 4(10092) (RULETA_EXPRESS)
2025-09-12 20:31:41,204 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4007 - SURIEL 40-07 CONSTANZA/GRUPO 4(10093) (RULETA_EXPRESS)
2025-09-12 20:31:41,204 - backend.app.alerts - INFO - üö´ Omitiendo agencia filtrada: 4014 - SURIEL 40-14 CONSTANZA/GRUPO 4(21248) (RULETA_EXPRESS)
2025-09-12 20:31:41,244 - backend.app.scheduler_hybrid - INFO - ‚úÖ Iteraci√≥n cl√°sica completada: 42 agencias, 2 alertas en 82.96s
2025-09-12 20:31:41,244 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 20:31:41,245 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:40:18 -04)" executed successfully
2025-09-12 20:34:12,295 - backend.app.alerts - INFO - Alerta 1491 marcada como reportada
2025-09-12 20:34:12,304 - backend.app.alerts - INFO - Alerta 1484 marcada como reportada
2025-09-12 20:34:13,600 - backend.app.alerts - INFO - Alerta 1481 marcada como reportada
2025-09-12 20:40:18,289 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:50:18 -04)" (scheduled at 2025-09-12 20:40:18.273881-04:00)
2025-09-12 20:40:18,289 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 20:40:18,290 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 20:40:18,290 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 20:40:18,290 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 20:40:19,298 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 20:40:19,299 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 20:40:19,300 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 20:40:20,396 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 20:40:20,397 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 20:40:20,397 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 20:40:20,397 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 20:40:20,398 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 20:40:20,398 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 20:40:20,398 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 20:40:20,398 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 20:40:20,401 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 20:40:29,266 - backend.app.scraper - INFO - ‚úì Usuario ingresado
2025-09-12 20:40:29,322 - backend.app.scraper - INFO - ‚úì Contrase√±a ingresada
2025-09-12 20:40:29,372 - backend.app.scraper - INFO - ‚úì Click normal en bot√≥n login
2025-09-12 20:40:30,370 - backend.app.scraper - INFO - Login exitoso - Men√∫ lateral cargado
2025-09-12 20:40:32,371 - backend.app.scraper - INFO - ‚úì Login exitoso
2025-09-12 20:40:32,375 - backend.app.scraper - INFO - Navegando a Monitor de Ventas...
2025-09-12 20:40:32,903 - backend.app.scraper - INFO - üéØ Bot√≥n Monitoreo encontrado, expandiendo...
2025-09-12 20:40:32,941 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitoreo
2025-09-12 20:40:34,441 - backend.app.scraper - INFO - ‚úÖ Men√∫ Monitoreo expandido
2025-09-12 20:40:34,450 - backend.app.scraper - INFO - ‚úÖ Enlace Monitor de Ventas encontrado
2025-09-12 20:40:36,062 - backend.app.scraper - INFO - ‚úÖ Click normal exitoso en Monitor de Ventas
2025-09-12 20:40:36,063 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 20:40:36,063 - backend.app.scraper - INFO - üîç Verificando carga de p√°gina del Monitor...
2025-09-12 20:40:46,623 - backend.app.scraper - WARNING - ‚è±Ô∏è Timeout esperando elementos, verificando URL...
2025-09-12 20:40:46,626 - backend.app.scraper - INFO - ‚úÖ Estamos en Monitor.aspx - navegaci√≥n exitosa por URL
2025-09-12 20:40:46,626 - backend.app.scraper - INFO - ‚úì Navegaci√≥n exitosa
2025-09-12 20:40:46,629 - backend.app.scraper - INFO - Configurando filtros base...
2025-09-12 20:40:46,629 - backend.app.scraper - INFO - üîÑ Configurando filtros base con Selenium...
2025-09-12 20:40:59,788 - backend.app.scraper - INFO - ‚úÖ Filtros base configurados con Selenium
2025-09-12 20:40:59,789 - backend.app.scraper - INFO - ‚úì Filtros base configurados
2025-09-12 20:40:59,789 - backend.app.scraper - INFO - üîÑ Procesando CHANCE EXPRESS...
2025-09-12 20:40:59,789 - backend.app.scraper - INFO - üéØ Seleccionando CHANCE EXPRESS en dropdown...
2025-09-12 20:40:59,789 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a CHANCE EXPRESS...
2025-09-12 20:41:04,177 - backend.app.scraper - ERROR - Campo 'Loter√≠a:' no encontrado
2025-09-12 20:41:04,177 - backend.app.scraper - ERROR - ‚úó Error cambiando dropdown a CHANCE EXPRESS
2025-09-12 20:41:04,177 - backend.app.scraper - WARNING - ‚ö†Ô∏è CHANCE EXPRESS: No se obtuvieron datos
2025-09-12 20:41:04,177 - backend.app.scraper - INFO - üîÑ Cambiando a RULETA EXPRESS...
2025-09-12 20:41:04,178 - backend.app.scraper - INFO - üéØ Seleccionando RULETA EXPRESS en dropdown...
2025-09-12 20:41:04,178 - backend.app.scraper - INFO - Cambiando dropdown Loter√≠a a RULETA EXPRESS...
2025-09-12 20:41:08,561 - backend.app.scraper - ERROR - Campo 'Loter√≠a:' no encontrado
2025-09-12 20:41:08,561 - backend.app.scraper - ERROR - ‚úó Error cambiando dropdown a RULETA EXPRESS
2025-09-12 20:41:08,562 - backend.app.scraper - WARNING - ‚ö†Ô∏è RULETA EXPRESS: No se obtuvieron datos
2025-09-12 20:41:08,562 - backend.app.scraper - INFO - üéâ MONITOREO DUAL COMPLETADO:
2025-09-12 20:41:08,562 - backend.app.scraper - INFO -    üìä CHANCE EXPRESS: 0 registros
2025-09-12 20:41:08,562 - backend.app.scraper - INFO -    üé∞ RULETA EXPRESS: 0 registros
2025-09-12 20:41:08,562 - backend.app.scraper - INFO -    üìà TOTAL: 0 registros
2025-09-12 20:41:08,562 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 20:41:11,564 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 20:41:11,564 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 20:41:13,657 - backend.app.scraper - INFO - ‚úÖ Driver cerrado correctamente
2025-09-12 20:41:13,658 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 20:41:15,660 - backend.app.scheduler_hybrid - WARNING - No se obtuvieron datos del scraping cl√°sico
2025-09-12 20:41:15,660 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA - Sin datos obtenidos
2025-09-12 20:41:15,662 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA...
2025-09-12 20:41:15,662 - backend.app.scheduler_hybrid - CRITICAL - üì∏ Estado de emergencia capturado: Screenshot FALL√ì - Driver no disponible
2025-09-12 20:41:15,677 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 20:41:15,678 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 20:50:18 -04)" executed successfully
2025-09-12 20:50:18,289 - apscheduler.executors.default - INFO - Running job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 21:00:18 -04)" (scheduled at 2025-09-12 20:50:18.273881-04:00)
2025-09-12 20:50:18,291 - backend.app.scheduler_hybrid - INFO - üîÑ INICIANDO ITERACI√ìN AUTOM√ÅTICA PROGRAMADA
2025-09-12 20:50:18,295 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica autom√°tica
2025-09-12 20:50:18,295 - backend.app.scheduler_hybrid - INFO - üîÑ Ejecutando iteraci√≥n cl√°sica...
2025-09-12 20:50:18,296 - backend.app.scheduler_hybrid - INFO - üîÑ Inicializando scraper cl√°sico...
2025-09-12 20:50:19,301 - backend.app.dom_learning_engine - ERROR - Error analizando tendencia de rendimiento: no such table: monitoring_sessions
2025-09-12 20:50:19,302 - backend.app.scraper - WARNING - Driver inactivo en intento 1, reinicializando...
2025-09-12 20:50:19,303 - backend.app.scraper - INFO - Reinicializando driver...
2025-09-12 20:50:20,410 - backend.app.scraper - INFO - üñ•Ô∏è Ventana posicionada en monitor principal y maximizada
2025-09-12 20:50:20,414 - backend.app.vision_learning_engine - INFO - Driver configurado en sistema de vision
2025-09-12 20:50:20,414 - backend.app.scraper - INFO - Driver registrado en sistema de vision
2025-09-12 20:50:20,414 - backend.app.scraper - INFO - Driver de Chrome configurado con configuraci√≥n optimizada para velocidad y pantalla
2025-09-12 20:50:20,414 - backend.app.scraper - INFO - Driver reinicializado exitosamente
2025-09-12 20:50:20,414 - backend.app.scraper - INFO - üéØ Iniciando proceso de MONITOREO DUAL (sesi√≥n √∫nica)...
2025-09-12 20:50:20,414 - backend.app.scraper - INFO -    üìä Loter√≠a 1: CHANCE EXPRESS
2025-09-12 20:50:20,414 - backend.app.scraper - INFO -    üé∞ Loter√≠a 2: RULETA EXPRESS
2025-09-12 20:50:20,419 - backend.app.scraper - INFO - Iniciando proceso de login...
2025-09-12 20:50:26,066 - backend.app.scraper - ERROR - Error durante login: Message: invalid session id: session deleted as the browser has closed the connection
from disconnected: unable to send message to renderer
  (Session info: chrome=140.0.7339.128); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#invalidsessionidexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6c8986b25+79621]
	GetHandleVerifier [0x0x7ff6c8986b80+79712]
	(No symbol) [0x0x7ff6c871c0ea]
	(No symbol) [0x0x7ff6c8708971]
	(No symbol) [0x0x7ff6c87088dc]
	(No symbol) [0x0x7ff6c870706c]
	(No symbol) [0x0x7ff6c8707d2f]
	(No symbol) [0x0x7ff6c8721621]
	(No symbol) [0x0x7ff6c8722117]
	(No symbol) [0x0x7ff6c8726b0c]
	(No symbol) [0x0x7ff6c8726bdf]
	(No symbol) [0x0x7ff6c8772807]
	(No symbol) [0x0x7ff6c877320c]
	(No symbol) [0x0x7ff6c87c65b7]
	(No symbol) [0x0x7ff6c879b17f]
	(No symbol) [0x0x7ff6c87c33d0]
	(No symbol) [0x0x7ff6c879af13]
	(No symbol) [0x0x7ff6c8764151]
	(No symbol) [0x0x7ff6c8764ee3]
	GetHandleVerifier [0x0x7ff6c8c4683d+2962461]
	GetHandleVerifier [0x0x7ff6c8c40b5d+2938685]
	GetHandleVerifier [0x0x7ff6c8c5f71d+3064573]
	GetHandleVerifier [0x0x7ff6c89a0c6e+186446]
	GetHandleVerifier [0x0x7ff6c89a8a3f+218655]
	GetHandleVerifier [0x0x7ff6c898f914+115956]
	GetHandleVerifier [0x0x7ff6c898fac9+116393]
	GetHandleVerifier [0x0x7ff6c8975ef8+10968]
	BaseThreadInitThunk [0x0x7ffdd9c07374+20]
	RtlUserThreadStart [0x0x7ffdda89cc91+33]

2025-09-12 20:50:26,067 - backend.app.scraper - ERROR - ‚úó Error en login
2025-09-12 20:50:26,068 - backend.app.scraper - INFO - üßπ Iniciando limpieza autom√°tica del driver...
2025-09-12 20:50:29,070 - backend.app.scraper - INFO - Sistema de vision activo: False
2025-09-12 20:50:29,070 - backend.app.scraper - INFO - üßπ Iniciando limpieza segura del driver...
2025-09-12 20:50:29,072 - backend.app.scraper - INFO - ‚úì Driver ya estaba cerrado, limpiando referencia
2025-09-12 20:50:29,073 - backend.app.scraper - INFO - Driver cerrado automaticamente
2025-09-12 20:50:31,074 - backend.app.scheduler_hybrid - WARNING - No se obtuvieron datos del scraping cl√°sico
2025-09-12 20:50:31,074 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA - Sin datos obtenidos
2025-09-12 20:50:31,074 - backend.app.scheduler_hybrid - CRITICAL - üÜò ACTIVANDO VISI√ìN DE EMERGENCIA...
2025-09-12 20:50:31,075 - backend.app.scheduler_hybrid - CRITICAL - üì∏ Estado de emergencia capturado: Screenshot FALL√ì - Driver no disponible
2025-09-12 20:50:31,084 - root - INFO - PID: 104 - Proceso de monitoreo finalizado.
2025-09-12 20:50:31,084 - apscheduler.executors.default - INFO - Job "HybridMonitoringScheduler.execute_single_iteration (trigger: interval[0:10:00], next run at: 2025-09-12 21:00:18 -04)" executed successfully
2025-09-13 10:27:32,898 - backend.app.vision_learning_engine - INFO - Vision Learning Engine inicializado (modo b√°sico)
2025-09-13 10:27:32,898 - backend.app.scraper - INFO - Sistema de vision + ML disponible
2025-09-13 10:27:32,898 - backend.app.scraper_intelligent - INFO - Intelligent Scraper inicializado (modo b√°sico)
2025-09-13 10:27:32,914 - backend.app.intelligence - WARNING - No hay datos historicos suficientes
2025-09-13 10:27:32,931 - backend.app.scheduler_hybrid - INFO - Scheduler hibrido inicializado (scrapers lazy)
2025-09-13 10:27:33,082 - root - INFO - ExpressATM iniciado
2025-09-13 10:27:33,082 - root - INFO - Dashboard disponible
2025-09-13 10:27:33,082 - root - INFO - Documentacion API disponible
